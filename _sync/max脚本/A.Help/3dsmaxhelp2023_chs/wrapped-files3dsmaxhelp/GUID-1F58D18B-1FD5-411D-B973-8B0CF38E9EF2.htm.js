var topic = "<!DOCTYPE html><html>\n   <head>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n      <meta name=\"product\" content=\"3DSMAX\">\n      <meta name=\"release\" content=\"2023\">\n      <meta name=\"book\" content=\"GeneralUser\">\n      <meta name=\"created\" content=\"2022-03-27\">\n      <meta name=\"topicid\" content=\"GUID-1F58D18B-1FD5-411D-B973-8B0CF38E9EF2\">\n      <meta name=\"description\" content=\"“mParticles 碰撞”测试类似于标准“碰撞”测试，但不允许粒子与导向器空间扭曲之间的碰撞，它允许粒子与应用了“粒子流碰撞图形 (WSM)”修改器的标准对象之间的碰撞。其用法类似于“碰撞”测试，但由于物理模拟和 MassFX 设置的性质，某些细节会有所不同。\">\n      <meta name=\"indexterm\" content=\"粒子流测试: mParticles 碰撞\">\n      <meta name=\"indexterm\" content=\"“mParticles 碰撞”测试\">\n      <meta name=\"topic-type\" content=\"concept\">\n      <title>“mParticles 碰撞”测试</title><script language=\"javascript\">var index = \'index3dsmaxhelp.html\';</script></head>\n   <body height=\"100%\">\n      <div class=\"body_content\" id=\"body-content\" dir=\"ltr\"><a name=\"GUID-1F58D18B-1FD5-411D-B973-8B0CF38E9EF2\"></a><div class=\"head\">\n            <h1>“mParticles 碰撞”测试</h1>\n         </div>\n         <p class=\"blurb\">“mParticles 碰撞”测试类似于标准“碰撞”测试，但不允许粒子与导向器空间扭曲之间的碰撞，它允许粒子与应用了<span class=\"char_link\"><a href=\"GUID-3A3B197F-8953-46A6-ACD8-0F46F3015E25.htm\">“粒子流碰撞图形 (WSM)”修改器</a></span>的标准对象之间的碰撞。其用法类似于“碰撞”测试，但由于物理模拟和 MassFX 设置的性质，某些细节会有所不同。 \n         </p>\n         <div class=\"bodyReference\"><a name=\"UL_BD9EFCF8634F4E7B88FE238B811AE49F\"></a><ul>\n               <li> <span class=\"MenuCascade\" id=\"GUID-0AE43C98-2D27-46F0-BEA8-6AF92E3783C8\">“粒子视图” <img src=\"../images/ac.menuaro.gif\">  单击或添加“mP 碰撞”测试。</span> \n               </li>\n            </ul>\n            <div><a name=\"GUID-B619BFAB-9A58-4CE7-9E20-BB604F43A0B3\"></a><div class=\"note-tip\"><span class=\"label label-target-language\">提示</span>始终将 mParticles 测试置于事件中的“mParticles 世界”操作符之下，否则该测试将无法在模拟积分步长之后检索正确的模拟信息。mParticles 测试放置不正确将导致取消激活“mParticles 世界”模拟；针对该影响的消息会记录在\n                  MAXScript 侦听器中，且还会显示在 <span class=\"charspan-msgph\">3ds Max</span> 界面底部的状态栏上。 \n               </div>\n            </div>\n            <div class=\"section\"><a name=\"AA1007548\"></a> \n               <h2><a name=\"GUID-722E665A-AA3C-4FF4-9AFA-7948036C49F7\"></a>步骤\n               </h2> \n               <p><a name=\"GUID-52AC85FE-F9AE-41A9-8B70-F1E56B25EBEF\"></a>此步骤描述了“mParticles 碰撞”的简单用法，以模拟长方体内一个球和一堆块之间的外部空间碰撞。 \n               </p> <a name=\"OL_F0859049A2584B2EAED19C54E7A25DB2\"></a><ol type=\"1\" start=\"1\">\n                  <li>打开“粒子视图”（按 <span class=\"keyboardEntry\">6</span> 键）并将 mParticles 流从仓库拖动到窗口中。 \n                     <p><a name=\"GUID-98FC09A0-9F42-4F9D-8D3B-6B28BB82B1F2\"></a>mParticles 流提供了一种简单的方法来创建简单流，该流带有物理模拟所需的所有元素。 \n                     </p> \n                     <p><a name=\"GUID-C2DE42FD-C56A-4E32-9687-EF75AFAE4476\"></a>“透视”视口现在显示块的立方体阵列（“出生栅格”创建的立方体粒子）和“mParticles 世界”辅助对象图标。 \n                     </p> \n                  </li>\n                  <li>在“事件 001”中，单击“mParticles 世界”操作符，然后在“mParticles 世界”卷展栏上，单击 =&gt; 按钮。 \n                     <p><a name=\"GUID-0CDBB0BF-CE24-4B9D-9F46-3CDACB63151C\"></a>这将选择“mParticles 世界”辅助对象并在“修改”面板上显示其参数。 \n                     </p> \n                  </li>\n                  <li>在“参数”卷展栏的顶部，禁用“应用重力”。 </li>\n                  <li>在“透视”视口中，添加一个由块组成的长方体基本体，并留有剩余空间；该基本体应该是一个一面包含 150 个单位的立方体。使长方体以块为中心。 </li>\n                  <li>将长方体转换为可编辑多边形，选择并删除顶部的多边形，然后添加“壳”修改器。调整视图的角度，以便可以向下看到长方体内部；如以下插图所示： <a name=\"FIG_299EF7653BC44F2799A1179BADE542D3\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-4A7CAEB8-EC8E-4CF5-BCBC-139B34A7FC33-low.jpg\"></div>  \n                  </li>\n                  <li>在“前”视口中，在长方体的右侧上方添加一个半径为 20 的球体。“透视”视口应如下所示： <a name=\"FIG_AED3EC6AA16D4728B0E25708633C0ED9\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-3034FC0B-3050-4195-9665-160E0820793F-low.jpg\"></div>  \n                  </li>\n                  <li>转到第 30 帧，启用“自动关键点”，并在“前”视口中，将球体置于长方体内部左下角，如下所示： <a name=\"FIG_2B3719D81343463E92D0C9993A4776F2\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-18A7BEB7-814A-49D8-9F9C-FEEFC0539941-low.jpg\"></div>  \n                  </li>\n                  <li>播放或拖动动画。球在移动时应与块相交；如果未相交，则调整其路径。 </li>\n                  <li>返回到第 0 帧，并禁用“自动关键点”。 </li>\n                  <li>选择球体并应用“粒子流碰撞图形 (WSM)”修改器。 </li>\n                  <li>在修改器“参数”卷展栏上，将“图形”设置为“球体”，然后单击“激活”。 </li>\n                  <li>选择长方体并应用“粒子流碰撞图形 (WSM)”修改器。确保“图形”选项设置为“几何体”（默认）；否则，请选择“几何体”。 </li>\n                  <li>单击“激活”。 \n                     <p><a name=\"GUID-54C2F7E8-0E7B-43B5-A59A-A843D712DFD2\"></a>由于“碰撞图形”修改器，长方体和球体现在已准备与长方体内的粒子碰撞。 \n                     </p> \n                  </li>\n                  <li>返回到“粒子视图”，将“mParticles 碰撞”测试拖动到“事件 001”的底部。单击该测试，其参数将显示在“粒子视图”中，然后在“导向器”列表（当前为空）下，单击“按列表”。 \n                     <p><a name=\"GUID-2D8F931D-B759-4897-A89C-768D604658E0\"></a>“选择导向器”对话框将会打开，仅列出有资格在“mParticles 碰撞”中充当导向器的对象：长方体和球体。 \n                     </p> \n                  </li>\n                  <li>在列表中高亮显示长方体和球体条目（按 <span class=\"keyboardEntry\">Ctrl+A</span> 是一种方法），然后单击“选择”。 \n                     <p><a name=\"GUID-E781FB61-3398-4A5E-8C83-71F576726150\"></a>长方体和球体将显示在“导向器”列表中。 \n                     </p> \n                     <p><a name=\"GUID-3FE34A1E-9768-405B-A29E-67F364DB568A\"></a>由于在此示例中，不会将粒子传递到另一个事件中，因此不需要“测试真值的粒子条件”或其任何选项。 \n                     </p> \n                  </li>\n                  <li>播放动画。 \n                     <p><a name=\"GUID-95FFE5FF-614E-4510-9B64-7A31D8BE1E5E\"></a>球体与粒子阵列碰撞，使这些粒子到处散布，彼此撞击并在长方体内反弹。如果将动画长度延长为大约 300 帧，则可以看到粒子开始飞出长方体顶部的开口。 \n                     </p> <a name=\"FIG_96530FB279824750B97A10DA01D05E66\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-5938E561-B9DA-4057-9B98-8340B2E96832-low.jpg\"></div>  \n                  </li>\n               </ol>\n               <div><a name=\"GUID-79917708-E59E-4B2E-9394-B9314FD62428\"></a><div class=\"note-tip\"><span class=\"label label-target-language\">提示</span>如果希望球也在长方体内反弹，则删除球体，然后将球重新创建为球形粒子（使用连接到全局事件的单独事件中的“出生流”操作符创建），并使“出生流”图标指向粒子阵列。请确保第二个出生事件中包括“mParticles 图形”操作符和“mParticles\n                     世界”操作符的实例。实例化“mParticles 世界”操作符使“mParticles 碰撞”测试适用于两个事件，因此不需要实例化该测试。 \n                  </div>\n               </div> \n            </div>\n            <div class=\"section\"><a name=\"AA1007832\"></a> \n               <h2><a name=\"GUID-5BE7C0BC-F7A2-454A-B17A-2A007E4F8541\"></a>界面 \n               </h2> <a name=\"FIG_D93D133D766A4821A4B5C82788674176\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-55317C8E-7B42-4F08-81E7-717D4E21B5E2-low.png\"></div>  <a name=\"GUID-B3EC3E51-CF4F-4BFD-AFF3-23A7190A6BA6\"></a><dl>\n                  <dt><a name=\"GUID-A315E218-2642-46FB-B694-1C17338D4469\"></a><span class=\"term\"><a name=\"GUID-89A1D5CD-2397-4920-BF4E-6DC75E551740\"></a>导向器</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-5A5F3F54-3DB6-4302-82C4-2670AD662882\"></a>列出在 MassFX 模拟中充当导向器的非粒子对象。这是“mParticles 碰撞”测试和标准“碰撞”之间的主要差异：指定已应用<span class=\"char_link\"><a href=\"GUID-3A3B197F-8953-46A6-ACD8-0F46F3015E25.htm\">“粒子流碰撞图形(WSM)”修改器</a></span>的几何体对象，而不使用导向器类型的空间扭曲。“导向器”列表只能包含这些对象。如果几何体对象不是通过“粒子流碰撞图形”修改的，则它不能被视为“mParticles 碰撞”测试的导向器。 \n                        <p><a name=\"GUID-9EB8B82C-FAC9-4B83-91F9-8AA3ED2A9331\"></a> 另一个重要差异是“mParticles 碰撞”可在“mParticles 世界”操作符定义的模拟中模拟所有<em class=\"mild\"></em>粒子（即，带有与同一“mParticles 世界”驱动程序相关联的“mParticles 世界”操作符的所有事件中的粒子）的碰撞。无论是否将“mParticles 碰撞”测试置于特定事件中，如果该测试和“mParticles 世界”操作符位于相同的事件中，则都会发生由“mParticles\n                           世界”操作符的驱动程序控制的所有粒子的碰撞。 \n                        </p>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-358BA163-5441-4886-9630-F6C2A976453A\"></a><span class=\"term\"><a name=\"GUID-1C7C82DE-EDB3-44A2-9801-F1770C439C3F\"></a>添加/按列表/移除</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-A2929A6F-B484-4F34-A04A-B7A60A5C7386\"></a>若要将通过“粒子流碰撞图形”修改的对象添加到模拟中，请单击“添加”，然后选择对象，或者，若要一次添加多个对象，请使用“按列表”。若要移除对象，请在列表中高亮显示该对象的名称，然后单击“移除”。 \n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-81125A1E-66F2-420B-B6CF-BFC4EE42555B\"></a><span class=\"term\"><a name=\"GUID-66E44B98-00ED-4A5E-AEB3-37B812EFD956\"></a>=&gt;</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-BBAD8689-51B1-43D6-84ED-57A91860C1E0\"></a>若要选择“mParticles 碰撞”中指定的对象，请在列表中将其高亮显示，然后单击此按钮。这将选择场景中的对象，并使其易于访问对象参数。\n                     </div>\n                  </dd>\n               </dl> \n            </div>\n            <div class=\"section\"><a name=\"AA1007907\"></a> \n               <h2><a name=\"GUID-491CDDA6-588A-4E6D-961C-6740A4D07829\"></a>“测试真值的粒子条件”组\n               </h2> \n               <p><a name=\"GUID-26121B4C-F175-44F1-80A1-868AB775F31F\"></a> “mParticles 碰撞”测试的主要功能是定义与模拟中的粒子进行碰撞的场景几何体对象。由于该操作符可以作为一个测试，因此也可以使用它在碰撞时将粒子重定向到下一个事件。跟踪哪些粒子进行碰撞以及何时发生碰撞的作业需要其他 CPU 资源，因此如果不需要用于重定向的测试（且测试未出现关联），则禁用“测试真值的粒子条件”。\n                  \n               </p> \n               <p><a name=\"GUID-2E0B0A16-D58A-4B14-8779-DAF2F53E8FF2\"></a> 此外，如果“测试真值的粒子条件”处于禁用状态，则测试位于哪个事件中并不重要，因为该测试在全局模拟级别起作用。如果“测试真值的粒子条件”处于启用状态，将计算带有导向器的当前事件中粒子的所有碰撞，并且这些碰撞用于适时将粒子重定向到下一个事件，如此组中的其他参数所指定。\n                  \n               </p> \n               <p><a name=\"GUID-20286FBD-8B2B-4026-91C3-4D34BC098F36\"></a>“碰撞”、“碰撞后速度慢”、“碰撞后速度快”、和“多次碰撞”选项和控件类似于<span class=\"char_link\"><a href=\"GUID-AE30FF63-B0E9-412D-8FAC-ACBC3E50AD7E.htm#GUID-181A6C50-50DA-4CAB-8351-9794B68F3037\">标准“碰撞”测试中的选项和控件</a></span>，但也有一些差异： \n               </p> <a name=\"UL_D5C57DF721D94C5C912A21BF44072772\"></a><ul>\n                  <li><em class=\"strong\">碰撞</em>此选项没有用于定义以下粒子速度的下拉列表。在模拟期间，粒子必须碰撞，进而偏转了速度，因此不建议提供反弹、停止或继续的选择。根据定义，它始终是反弹。 \n                     <p><a name=\"GUID-57BF1859-626D-4F9F-9C34-42B116F39551\"></a>在整个积分步长期间，将计算碰撞次数。测试仅在积分步长模拟完成之后才将粒子定向到下一个事件。实际上，粒子可在积分步长期间进行多次碰撞；如果使用“碰撞”选项，则会将粒子重定向到下一个事件。但是，粒子在首次碰撞之后不会立即重定向到下一个事件；在积分步长期间，粒子会因碰撞而重定向。\n                        \n                     </p> \n                  </li>\n                  <li><em class=\"strong\">多次碰撞</em>同样，使用此选项，如果在积分步长期间（以及在先前的累积帧中），粒子与导向器至少碰撞指定的次数，则粒子将重定向到下一个事件。当粒子第 N 次碰撞时，它不会立即重定向到下一个事件；如果碰撞的累积次数超过“次数”微调器中的值，则粒子将在积分步长结束时重定向到下一个事件。\n                     \n                  </li>\n                  <li><em class=\"strong\">即将碰撞</em>不可用。 \n                  </li>\n               </ul> <a name=\"GUID-2E1C64A6-BF61-4F59-8951-EC72BB789B21\"></a><dl>\n                  <dt><a name=\"GUID-5612CB17-DFBC-4E91-99BD-73382596DFB5\"></a><span class=\"term\"><a name=\"GUID-0FAF18C9-EA47-4E9E-8243-96D6DBD0FEC2\"></a>报告至数据操作符</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-66277F1A-91D7-4DDE-B63F-A70248E54458\"></a>当使用<span class=\"char_link\"><a href=\"GUID-F08F7A56-31E4-409D-90F1-70DD95724348.htm\">高级数据操纵工具</a></span>时，如果需要碰撞次数数据由“数据”操作符使用，则启用此选项。可以使用“输入 mParticles”子操作符检索“数据”操作符中的这些数据。 \n                        <p><a name=\"GUID-B3838DD3-6532-419A-8833-BCE8201EEC18\"></a>当“测试真值的粒子条件”处于启用状态时可用。当测试与以下任何事件未关联时，通常可使用此选项。 \n                        </p>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-F88B409D-5273-4B92-8C91-C0C7BC355627\"></a><span class=\"term\"><a name=\"GUID-5B87521A-5EC3-424A-BF59-EB76BFEEACCD\"></a>相加计数</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-39CC2AA2-190D-415A-8809-D3FF7B8D3985\"></a>启用时，当前事件中存在的报告数据表示粒子的碰撞总次数。禁用时，测试仅报告粒子在上一个积分步长期间的碰撞次数。 \n                        <p><a name=\"GUID-37F69284-B294-4016-88D6-A48D6F9E5A44\"></a>仅当“报告至数据操作符”处于启用状态时可用。 \n                        </p>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-A8F80C71-0881-404D-9F0B-19D1A26E9E12\"></a><span class=\"term\"><a name=\"GUID-4B644FF1-1FFC-42ED-9379-AF284E8EF6B6\"></a>碰撞组 </span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-2B5F7082-A15E-44FF-9EB2-3C0737EDF70B\"></a>使用此设置进行碰撞排除，如<span class=\"char_link\"><a href=\"GUID-B2B8C721-457F-46C4-838A-400A47AA49AC.htm\">“mParticles 世界”辅助对象</a></span>主题中所述。\n                     </div>\n                  </dd>\n               </dl> \n            </div>\n         </div>\n         <div class=\"footer-block\"><a href=\"..\" class=\"comments-anchor\" target=\"_blank\"><span class=\"comments-link\">请将您关于此页内容的评论发送给我们</span></a></div><br><p class=\"footer-license-block\"><a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"><img alt=\"Creative Commons License\" style=\"border-width: 0;\" src=\"../images/ccLink.png\"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href=\"http://autodesk.com/creativecommons\" target=\"_blank\">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>\n   </body>\n</html>";