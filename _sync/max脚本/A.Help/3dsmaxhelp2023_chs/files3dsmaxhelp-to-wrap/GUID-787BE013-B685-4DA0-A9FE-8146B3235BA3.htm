<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-787BE013-B685-4DA0-A9FE-8146B3235BA3">
      <meta name="description" content="样条线 IK 解算器使用样条线确定一组骨骼或其他链接对象的曲率。">
      <meta name="indexterm" content="样条线 IK">
      <meta name="contextid" content="INVERSE KINEMATICS-SPLINE_IK">
      <meta name="topic-type" content="concept">
      <title>样条线 IK</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-787BE013-B685-4DA0-A9FE-8146B3235BA3"></a><div class="head">
            <h1>样条线 IK</h1>
         </div>
         <p class="blurb">样条线 IK 解算器使用样条线确定一组骨骼或其他链接对象的曲率。 </p><a name="UL_CA7ADCF4BE1648AFB34D1B66DEF951B8"></a><ul>
            <li> <span class="MenuCascade" id="GUID-EF2464F3-EA16-49DB-AA07-F387B5B6FAC8"> <img src="../images/GUID-98173E20-D8BF-4A71-A169-42981748A8A8-low.png">“创建”面板  <img src="../images/ac.menuaro.gif"> <img src="../images/GUID-99D114B3-494A-4D3D-8513-3D52504AF64F-low.png">（系统） <img src="../images/ac.menuaro.gif"> “标准” <img src="../images/ac.menuaro.gif"> “对象类型”卷展栏  <img src="../images/ac.menuaro.gif"> “骨骼”按钮  <img src="../images/ac.menuaro.gif">  从“IK 解算器”列表中选择“SplineIKSolver”。</span> 
            </li>
            <li> <span class="MenuCascade" id="GUID-3C65E0AC-738A-41E7-BC36-3F8DC0426F1D">默认菜单：“动画”菜单  <img src="../images/ac.menuaro.gif"> “IK 解算器” <img src="../images/ac.menuaro.gif"> “样条线 IK 解算器”</span> 
            </li>
            <li> <span class="MenuCascade" id="GUID-032C3BC2-E1CB-4362-B49D-8069CB8C6CD2">Alt 菜单：“动画”菜单  <img src="../images/ac.menuaro.gif"> “关系/IK” <img src="../images/ac.menuaro.gif"> “样条线 IK 解算器”</span> 
            </li>
         </ul><a name="WS1A9193826455F5FFBA679E112A6A190044E0C"></a><div class="figure-anchor"><img src="../images/GUID-EAB57A13-C66D-49D2-809A-810D52E2C175-low.png"></div>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D39"></a>你可以移动和设置样条线顶点动画来更改样条线的曲率。通常，每个顶点都放置了一个辅助对象，用来辅助设置样条线的动画。随后样条线曲率传递到整个链接结构中。骨骼自身并不改变形状。 
         </p>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D38"></a>通常，样条线顶点数量和骨骼数量相同，但是与分别设置每个骨骼的动画相比，这样便于使用几个节点设置长型多骨骼结构的姿势或动画。 
         </p>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D37"></a>样条线 IK 提供的动画系统比其他 IK 解算器的灵活性高。您可以在 3D 空间的任何地方定位顶点/辅助对象，以便链接的结构可以假定您要为其提供的任何形状。 
         </p>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D36"></a>指定“样条线 IK”后，每个顶点上均自动放置一个辅助对象。每个顶点都链接到其对应的辅助对象，因此可以通过移动辅助对象来移动顶点。 
         </p>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D35"></a>与 HI 解算器不同的是，样条线 IK 系统不会使用目标。辅助对象/顶点在 3D 空间中的位置是定义链接结构形状的唯一因素。 
         </p>
         <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E559"></a><div class="note-note"><span class="label label-target-language">注意:</span>移动“样条线 IK”辅助对象弯曲样条线时，某些时候可能导致骨骼出现意料之外的旋转或反转。如果出现这种情况，可以试着使用“IK 解算器属性”卷展栏中 IK 链的“拾取上方向节点”选项选择一个不同的上方向节点（请参见<span class="char_link"><a href="GUID-39F67E48-1ECA-4D4F-95F7-38DE64590E70.htm">“样条线 IK 解算器”卷展栏</a></span>），或为层次使用不同的 IK 方法。 
            </div>
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190044E0D"></a> 
            <h2><a name="GUID-AD43D3EC-B3E3-4FFB-B576-171C8E3EB9E6"></a>应用样条线 IK 解算器
            </h2> 
            <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D34"></a>样条线 IK 解算器可以应用于创建骨骼时，或应用于整个骨骼结构创建好之后。 
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190044E0E"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190044E0F"></a>要在创建骨骼时应用样条线 IK 解算器，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>转到 <img src="../images/GUID-98173E20-D8BF-4A71-A169-42981748A8A8-low.png">“创建”面板，单击 <img src="../images/GUID-99D114B3-494A-4D3D-8513-3D52504AF64F-low.png">（系统），然后单击“骨骼”。 
               </li>
               <li>在“IK 链指定”卷展栏上，将 IK 解算器设置为“SplineIKSolver”，并启用两个复选框：“指定给子对象”和“指定给根”。 
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D33"></a>默认情况下，当您启用“指定给子级”时，将自动启用“指定给根”。 
                  </p> 
               </li>
               <li>根据通常的做法绘制骨骼结构。右键单击结束骨骼创建过程后，出现<span class="char_link"><a href="GUID-9D76C95D-94D5-4D42-B46F-148E234BFE3E.htm">“样条线 IK 解算器”对话框</a></span>。设置参数并单击“确定”。 <a name="WS1A9193826455F5FFBA679E112A6A190044E10"></a><div class="figure-anchor"><img src="../images/GUID-D38F9573-0444-4AFC-A3EF-F34C242D4C05-low.png"></div> <a name="WS1A9193826455F5FFBA679E112A6A190044E11"></a><div class="figure-anchor"><img src="../images/GUID-894CDA17-DA28-49F5-B375-6797328B0BB6-low.png"></div>   
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D32"></a>该过程根据对话框设置自动绘制样条线，并设置样条线 IK 系统来使用样条线。<span class="charspan-msgph">3ds Max</span> 自动将“路径”约束指定给根骨骼，将其约束到位于样条线末端的辅助对象/顶点。 
                  </p> 
               </li>
            </ol> <a name="WS1A9193826455F5FFBA679E112A6A190044E12"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190044E13"></a>要将样条线 IK 解算器应用于现有的骨骼结构，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>创建没有 IK 链的骨骼结构。 </li>
               <li>绘制骨骼使用的样条线或 NURBS 曲线。曲线可以具有任意长度和任何形状，且不需要与骨骼结构的长度或形状相匹配。 </li>
               <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择解算器开始位置的骨骼或对象。 
               </li>
               <li>选择“动画”菜单 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“IK 解算器”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“样条线 IK 解算器”。在视口中，将光标移动到希望链结束的骨骼或对象处并单击该骨骼。然后将光标移动到样条线并单击它。 <a name="WS1A9193826455F5FFBA679E112A6A190044E14"></a><div class="figure-anchor"><img src="../images/GUID-3DC34D33-4016-4D31-B821-761565F9A564-low.png"></div>  
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D31"></a>骨骼结构跳转至样条线并使用样条线的形状，并在样条线的每个顶点上创建一个辅助对象。路径约束自动指定给根骨骼，将其约束到位于样条线末端的辅助对象/顶点。 
                  </p> <a name="WS1A9193826455F5FFBA679E112A6A190044E15"></a><div class="figure-anchor"><img src="../images/GUID-E75FE6CF-C5D8-49C6-A04B-EBB228153DC7-low.png"></div>  
               </li>
            </ol> <a name="WS1A9193826455F5FFBA679E112A6A190044E16"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190044E17"></a>要在应用了样条线 IK 解算器后指定样条线，请执行以下操作：
            </p>
            <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D30"></a>也可以在不选择样条线的情况下将样条线 IK 解算器应用于现有的骨骼结构中，然后在后续的操作中选择样条线。 
            </p>
            <ol type="1" start="1">
               <li>创建没有 IK 链的骨骼结构。 </li>
               <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择解算器开始位置的骨骼或对象。 
               </li>
               <li>选择“动画”菜单 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“IK 解算器”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“样条线 IK 解算器”。在视口中，将光标移动到希望链结束的骨骼或对象处并单击该骨骼。在视口中右键单击以结束 IK 解算器的创建过程，此时并没有选择样条线。 
               </li>
               <li>创建样条线 IK 系统使用的样条线或 NURBS 曲线。推荐将<span class="char_link"><a href="GUID-EC47F938-3AC8-43EA-8B2A-95D914EB7EE0.htm">样条线 IK 控制修改器</a></span>应用于样条线，然后单击“创建辅助对象”以便在每个顶点上放置辅助对象，这样可使样条线更易于控制。 
               </li>
               <li>选择 IK 链十字线，并访问 <img src="../images/GUID-EBCA3C24-9B3B-46F2-A058-71C6B3FFD2E6-low.png"> “运动”面板。在“样条线 IK 解算器”卷展栏上，单击“拾取图形”，然后单击样条线。 
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D2F"></a>使用这种方法时，位置约束不会自动指定给根骨骼，必须手动指定。 
                  </p> 
               </li>
               <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择根骨骼。选择“动画”菜单 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“约束”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“路径约束”，然后单击样条线。 
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D2E"></a>如果样条线分开，则这将使骨骼结构移到样条线，并为骨骼创建“位置列表”控制器，将路径约束作为第二个（活动）约束。 
                  </p> 
                  <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E55A"></a><div class="note-note"><span class="label label-target-language">注意:</span>这还将设置沿路径的骨骼的动画。如果您不想这么做，请删除第二个动画关键点。 
                     </div>
                  </div> 
               </li>
            </ol> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190044E18"></a> 
            <h2><a name="GUID-35FACD19-8001-411F-AE2A-BCA61BE83A8F"></a>使用“样条线 IK 解算器”
            </h2> 
            <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D2D"></a>要使用“样条线 IK 解算器”，请移动辅助对象来设置样条线形状。不要移动样条线。样条线的形状是由顶点位置决定的，因此移动样条线本身对骨骼结构没有任何效果。如果移动了样条线，下一次移动辅助对象时它将吸附回辅助对象。然而，建议不要移动样条线。 
            </p> 
            <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D2C"></a>一旦完成样条线 IK 解算器的设置之后，可以冻结样条线避免无意中移动它。 
            </p> 
            <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3D2B"></a>移动辅助对象更改样条线形状。要扭曲样条线，选择样条线 IK 链对象并转到“运动”面板，在“IK 解算器属性”卷展栏中更改扭曲角度。 
            </p> 
         </div><span class="noindex">
            <div class="topic-list">
               <h4 class="related">本节内容</h4>
               <ul class="jumplist">
                  <li class="topiclist-litem"><a href="GUID-9D76C95D-94D5-4D42-B46F-148E234BFE3E.htm">“样条线 IK 解算器”对话框</a><p>如果已选择样条线 IK 解算器作为 IK 解算器并启用“指定给子级”，将显示“样条线 IK 解算器”对话框。 </p>
                  </li>
                  <li class="topiclist-litem"><a href="GUID-39F67E48-1ECA-4D4F-95F7-38DE64590E70.htm">“样条线 IK 解算器”卷展栏</a><p>选择样条线 IK 链后，可以使用“运动”面板中的选项来更改起始骨骼和结束骨骼，以及整个链接结构的扭曲角度。 </p>
                  </li>
               </ul>
            </div></span><div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>