<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-55BDDA3A-3F75-42B6-9A3F-4BAC2FC9C0F2">
      <meta name="description" content="“转到旋转”测试使粒子的旋转分量可以平滑地过渡，以便粒子可以在特定的周期内逐渐旋转到特定的方向。对落叶就需要使用该测试，落叶在下落时无序地自旋，但是在落地时是叶面落地，而不是叶边。在过渡期结束时，测试部分可以将粒子定向到新事件。">
      <meta name="indexterm" content="旋转: 转到旋转测试">
      <meta name="indexterm" content="转到旋转测试">
      <meta name="indexterm" content="粒子流测试: 转到旋转">
      <meta name="indexterm" content="测试（粒子流）: 转到旋转">
      <meta name="topic-type" content="concept">
      <title>转到旋转测试</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-55BDDA3A-3F75-42B6-9A3F-4BAC2FC9C0F2"></a><div class="head">
            <h1>转到旋转测试</h1>
         </div>
         <p class="blurb">“转到旋转”测试使粒子的旋转分量可以平滑地过渡，以便粒子可以在特定的周期内逐渐旋转到特定的方向。对落叶就需要使用该测试，落叶在下落时无序地自旋，但是在落地时是叶面落地，而不是叶边。在过渡期结束时，测试部分可以将粒子定向到新事件。 </p>
         <div class="bodyReference"><a name="GUID-DA0602F7-33B1-452E-8D31-107E75CC840F"></a><ul>
               <li> <span class="MenuCascade" id="GUID-547BBF82-4503-4961-BD97-853FAE6EA001">粒子视图  <img src="../images/ac.menuaro.gif">  在某个事件中单击“进入旋转”，或将“进入旋转”添加到粒子系统中，然后将其选中。</span> 
               </li>
            </ul>
            <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6021"></a>要设置目标方向，请将“转到旋转”测试放在同一事件中的方向型操作符<em class="mild">之前</em>（例如<span class="char_link"><a href="GUID-B8E91618-A9E9-423D-8F1C-A83CFDAA5449.htm">旋转</a></span>或定义旋转通道的<span class="char_link"><a href="GUID-CB14765E-FF9E-4C59-84E0-5C6E073D7641.htm">“脚本”操作符</a></span>）。在这种情况下，“转到旋转”测试可以在方向型操作符覆盖粒子旋转分量之前获得该分量。“转到旋转”操作符修改评估后周期中的粒子方向和旋转。有关示例，请参见以下步骤。 
            </p>
            <div><a name="WS1A9193826455F5FF662FFB11407B58D52-5F85"></a><div class="note-warning"><span class="label label-target-language">警告:</span>“转到旋转”测试与“自旋”、“图形朝向”和“图形标记”操作符不兼容。不要在同一事件中将上述操作符与“转到旋转”测试同时使用。 
               </div>
            </div>
            <div><a name="WS1A9193826455F5FF662FFB11407B58D52-5F84"></a><div class="note-note"><span class="label label-target-language">注意:</span>可以仅根据时间定义过渡期。不能通过另一个测试（例如碰撞测试）的时间将测试设置为逐渐完成特定的旋转。此外，在粒子逐渐完成最终旋转时，还可以对旋转轴进行有限的控制。 
               </div>
            </div>
            <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-6020"></a> 
               <h2><a name="GUID-B74CADDF-2C33-4940-99FF-2E6D66B6064E"></a>过程
               </h2> <a name="WS1A9193826455F5FFBA679E112A6A190042537"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190042538"></a>示例：使下落的粒子平滑地落地并且正面朝上：
               </p>
               <p><a name="WS1A9193826455F5FF103859C11318F51BDD-601F"></a>此步骤假定了解如何使用粒子流的基础知识。 
               </p>
               <ol type="1" start="1">
                  <li>在透视视口中，添加粒子流系统，然后将其图标在 Z 轴上提高大约 80 个单位。 </li>
                  <li>在“事件 01”中进行以下更改： <a name="WS1A9193826455F5FFBA679E112A6A190042539"></a><ul>
                        <li>出生 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif"> 数量=<em class="strong">50</em> 
                        </li>
                        <li>速度=<em class="strong">100</em> 
                        </li>
                        <li>形状=立方体（或对自定义对象使用“图形实例”，例如硬币形状的圆柱体） </li>
                        <li>显示 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif"> 类型=几何体 
                        </li>
                     </ul> 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-601E"></a>这样可以减少粒子数，减慢粒子的速度，更容易看清发生的情况。 
                     </p> 
                  </li>
                  <li>将<span class="char_link"><a href="GUID-2D16C098-629B-4C32-8334-BE28D7B02E7F.htm">“自旋”操作符</a></span>添加到“事件 01”中，并将“自旋速率”和“变化”均设置为 <em class="strong">150</em>。 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-601D"></a>这样，粒子在下落时可以随机旋转。 
                     </p> 
                  </li>
                  <li>将一个年龄测试添加到“事件 01”的结尾，并将“测试值”设置为 15。 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-601C"></a>这样，每个粒子先翻滚下落 15 个帧，然后“转到旋转”测试才生效。 
                     </p> 
                  </li>
                  <li>从“仓库”中将“转到旋转”测试拖动到“事件显示”的一个空白区域。将“持续时间”设置为 <em class="strong">15</em>，所有其他设置保留默认值。 
                  </li>
                  <li>立即将“旋转”操作符插入“转到旋转”测试<em class="mild">之后</em>。选择“随机水平”作为方向矩阵。其他设置保留默认值。 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-601B"></a>“转到旋转”测试将使用该方向作为粒子的最终方向。 
                     </p> 
                  </li>
                  <li>使用“速度”事件创建第三个事件。将“速度”设置为 <em class="strong">0.0</em>。 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-601A"></a>这样可以在动画结束时停止粒子。 
                     </p> 
                  </li>
                  <li>在两个新事件中，将“显示”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“类型”设置为“几何体”。 
                  </li>
                  <li>将“事件 01”中的“年龄测试”与“事件 02”关联，然后将“事件 02”中的“转到旋转”测试与“事件 03”关联。 </li>
                  <li> <img src="../images/GUID-5B32F2AB-610D-42BB-8C54-81463BE72359-low.png"> 播放动画。 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6019"></a>粒子在下落时无序地翻滚大约 30 帧，然后逐渐平滑地停止，正面朝上。 
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-6018"></a> 
               <h2><a name="GUID-20FD5BE5-0B9E-4849-83D6-B21A118374CF"></a>界面
               </h2> <a name="WS1A9193826455F5FFBA679E112A6A19004253D"></a><div class="figure-anchor"><img src="../images/GUID-85A4BDFF-3823-4D9D-AFC4-87545B48E5B0-low.png"></div>  
               <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6017"></a>该用户界面出现在“粒子视图”对话框右侧的“参数”面板中。 
               </p> <a name="GUID-D4CE9FFC-5573-4192-A4C7-BCDEB03F6FAA"></a><div class="dl_section"><a name="GUID-9D01949F-E64C-4E1D-9384-033B1668456D"></a><p class="title"><a name="GUID-27C814EF-1543-4DA0-8245-7E1C7E3BCE53"></a>“测试真值的时间”组
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-631A"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6016"></a>过渡期结束</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6421"></a> 启用时，在指定的过渡期结束时，粒子的测试结果为真，有资格重定向到下一个事件。禁用时，粒子即使已关联，也无法转到下一个事件。禁用此选项会禁用“转到旋转”的测试部分。默认设置为启用。 
                        </div>
                     </dd>
                  </dl>
               </div>
               <div class="dl_section"><a name="GUID-B0C4AA30-0A95-4633-AD73-B6995DA84441"></a><p class="title"><a name="GUID-4C88B8C9-66EC-4C90-965E-C37304CA568A"></a>“过渡方式”组
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6015"></a>确定“粒子流”应用指定计时的方式，通过“时间”和“变化”值进行定义。默认设置为“事件期间”。 
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6014"></a>可能的选项包括： 
                  </p><a name="WS1A9193826455F5FFBA679E112A6A190042540"></a><ul>
                     <li> <em class="strong">绝对时间</em>时间是指系统的总时间。每个粒子将在“时间”所指定的帧数处到达目标方向。 
                     </li>
                     <li> <em class="strong">粒子年龄</em>时间是指粒子已出生的时间。每个粒子在年龄达到“时间”指定的值时到达目标方向。 
                     </li>
                     <li> <em class="strong">事件期间</em>时间是指粒子已进入当前事件的时间。每个粒子在当前事件中达到“时间”指定的帧数时到达目标方向。 
                     </li>
                  </ul>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6319"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6013"></a>持续时间</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6420"></a> 粒子到达目标方向所需的帧数。默认设置是 30。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6318"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6012"></a>变化</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-641F"></a> “持续时间”可随机变化的帧数。默认值为 0。 
                           <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6011"></a>为了获取每个粒子到达目标方向的实际时间，系统将“变化”值乘以 -1.0 到 1.0 之间的某个随机数，然后将结果与“持续时间”值相加。例如，如果“持续时间”为 60，“变化”为 20，则每个粒子到达目标方向的时间将在 40 到 80 帧之间。
                              
                           </p> 
                        </div>
                     </dd>
                  </dl>
               </div>
               <div class="dl_section"><a name="GUID-96372A85-0D26-4D3A-8F47-37F3192647EF"></a><p class="title"><a name="GUID-61870285-9FD3-433D-AFF4-41BF0BFFFABA"></a>“目标旋转”组
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6010"></a>将方向型操作符与“转到旋转”测试同时使用时，此设置可以确定测试是一次性设置目标方向还是动态设置目标方向。 
                  </p><a name="UL_FB259736A82B4715BB26B76A94B5DD60"></a><ul>
                     <li><em class="strong">恒定</em>（默认设置。）定义方向型操作符设置粒子的恒定方向。 
                        <p><a name="WS1A9193826455F5FF103859C11318F51BDD-600E"></a>例如，如果使用设置为方向矩阵而非“速度空间跟随”的“旋转”操作符，则“转到旋转”操作符将一次性获取目标方向，然后使用该方向作为目标。 
                        </p> 
                     </li>
                     <li><em class="strong">变化</em>定义方向型操作符设置粒子不断变化的旋转。每个帧所需的最终旋转可能会有所不同。 
                        <p><a name="WS1A9193826455F5FF103859C11318F51BDD-600C"></a>例如，如果将测试与设置为“速度空间跟随”的“旋转”操作符同时使用，测试将不断调整粒子的旋转，以便完成不断变化的最终旋转。 
                        </p> 
                     </li>
                  </ul>
               </div>
               <div class="dl_section"><a name="GUID-5CD6FDEE-146E-452D-A41F-C7DAFD03A947"></a><p class="title"><a name="GUID-9D4BB52F-57AB-49CD-B6FC-BD639EBA2D69"></a>“目标旋转自旋”组
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-600B"></a>定义每个粒子在到达目标方向时的角速度。 
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6315"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-600A"></a>匹配初始自旋</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-641C"></a> 将过渡期结束时的角速度设置为粒子进入事件时的角速度。 
                           <div><a name="WS1A9193826455F5FF662FFB11407B58D52-5F83"></a><div class="note-note"><span class="label label-target-language">注意:</span>旋转的轴可能仍会有所不同，因为是动态计算，使粒子逐渐旋转到目标方向。 
                              </div>
                           </div> 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6314"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6009"></a>自旋速率</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-641B"></a> 定义每个粒子在到达目标方向时的角速度（每秒的度数）。只有在禁用“匹配初始旋转”时才可用。默认设置是 0.0。 
                           <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6008"></a>要平滑地过渡到目标方向，请设置为 <em class="strong">0.0</em>。 
                           </p> 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6313"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6007"></a>变化</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-641A"></a> 定义粒子在到达目标方向时“自旋速率”值的随机变化。默认设置是 0.0。 
                           <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6006"></a>为了获取每个粒子的最终角速度，系统将“变化”值乘以 -1.0 到 1.0 之间的某个随机数，然后将结果与“自旋速率”值相加。例如，如果“自旋速率”为 6.0，“变化”为 1.0，每个粒子的最终角速度将在 5.0 到 7.0 度/秒之间。 
                           </p> 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6312"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6005"></a>缓入 %</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6419"></a> 定义达到最终旋转速率的曲线。默认设置为 0.0。 
                           <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6004"></a>设置为 0.0 时，测试在初始旋转速率和最终旋转速率之间生成一个线性插值，设置为 100.0 时，最终旋转速率会更早达到。为了最平滑地到达目标方向，应将“自旋速率”和“变化”设置为 0.0，将“缓入”设置为 100.0。 
                           </p> 
                        </div>
                     </dd>
                  </dl>
               </div>
               <div class="dl_section"><a name="GUID-409F2F62-F6F1-42AF-9D74-8A454C966A98"></a><p class="title"><a name="GUID-B21D4734-701E-4376-B1C8-3CE403E3D521"></a>“过渡结束”组
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6311"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6003"></a>停止旋转</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6418"></a> 启用时，在粒子到达目标方向时停止粒子的旋转。默认设置为启用。 
                           <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6002"></a> 即使“自旋速率”微调器设置为 0.0，我们仍建议您选中此复选框，以避免因为计算平均值和边界值的误差而减慢结束时的旋转速度。 
                           </p> 
                        </div>
                     </dd>
                  </dl>
               </div>
               <div class="dl_section"><a name="GUID-5AE7D962-8A81-4C96-9839-A95825347E5E"></a><p class="title"><a name="GUID-8DA7F2EF-67D2-40A2-8CF2-68C0D1430C3E"></a>“唯一性”组
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6001"></a>“唯一性”设置可以使“变化”选项随机化。 
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6310"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-6000"></a>种子</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6417"></a> 指定随机化值。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-630F"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-5FFF"></a>新增特性</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6416"></a> 使用随机化公式计算新种子。 
                        </div>
                     </dd>
                  </dl>
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>