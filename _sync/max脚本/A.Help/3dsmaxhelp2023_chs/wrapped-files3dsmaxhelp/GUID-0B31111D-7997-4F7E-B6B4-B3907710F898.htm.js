var topic = "<!DOCTYPE html><html>\n   <head>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n      <meta name=\"product\" content=\"3DSMAX\">\n      <meta name=\"release\" content=\"2023\">\n      <meta name=\"book\" content=\"GeneralUser\">\n      <meta name=\"created\" content=\"2022-03-27\">\n      <meta name=\"topicid\" content=\"GUID-0B31111D-7997-4F7E-B6B4-B3907710F898\">\n      <meta name=\"description\" content=\"通过“输入代理”子操作符，可以从代理粒子系统（即粒子流而非当前粒子）引入粒子属性。它始终具有“选择对象”子操作符关联到的 O1（对象数据）输入，用于指定代理粒子系统。另外，可选输入为用于指定粒子 ID 的 I2 以及用作系统或复合索引的 I3。\">\n      <meta name=\"topic-type\" content=\"concept\">\n      <title>“输入代理”子操作符</title><script language=\"javascript\">var index = \'index3dsmaxhelp.html\';</script></head>\n   <body height=\"100%\">\n      <div class=\"body_content\" id=\"body-content\" dir=\"ltr\"><a name=\"GUID-0B31111D-7997-4F7E-B6B4-B3907710F898\"></a><div class=\"head\">\n            <h1>“输入代理”子操作符</h1>\n         </div>\n         <p class=\"blurb\">通过“输入代理”子操作符，可以从代理粒子系统（即粒子流而非当前粒子）引入粒子属性。它始终具有“选择对象”子操作符关联到的 O1（对象数据）输入，用于指定代理粒子系统。另外，可选输入为用于指定粒子 ID 的 I2 以及用作系统或复合索引的 I3。\n            \n         </p>\n         <div class=\"bodyReference\"><a name=\"GUID-7A99667E-204F-4B63-9469-03550B1CE16F\"></a><ul>\n               <li> <span class=\"MenuCascade\" id=\"GUID-24244AC5-A8D9-4C92-953B-CD9941EE835E\">“粒子视图” <img src=\"../images/ac.menuaro.gif\"> “数据图标/操作符/图标测试/测试” <img src=\"../images/ac.menuaro.gif\">  单击“编辑数据流”。 <img src=\"../images/ac.menuaro.gif\"> 添加或选择“输入代理”。</span> \n               </li>\n            </ul>\n            <div class=\"section\"><a name=\"AB1008494\"></a> \n               <h2><a name=\"GUID-00AC07C8-86E5-4841-9955-A8E3347E1C5C\"></a>界面\n               </h2> <a name=\"FIG_DCEBA4056C214E5C9DB4154661F49C66\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-6F14E7B4-E072-411E-9482-5B031F934B7D-low.png\"></div>  <a name=\"GUID-540EAAD3-DE9C-4EF4-9747-0B0F86613D97\"></a><dl>\n                  <dt><a name=\"GUID-3C69B9CD-DD67-4621-85D7-599F5C114FB6\"></a><span class=\"term\"><a name=\"GUID-44077669-A1BA-4EC4-A131-7D3197F32CD3\"></a>输出类型</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-35315D02-3B3E-451A-B27F-80985BED94FC\"></a>此只读字段基于要从代理粒子系统引入的数据类型的活动选择，显示子操作符的输出类型。\n                     </div>\n                  </dd>\n               </dl>\n               <div class=\"dl_section\"><a name=\"GUID-55B5FABF-20A4-428D-B0F8-AC18134D1B30\"></a><p class=\"title\"><a name=\"GUID-C59C25B7-D873-45D2-83F1-71033C2AFD23\"></a>“代理系统索引”组\n                  </p>\n                  <dl>\n                     <dt><a name=\"GUID-BBADD75E-1B2D-4C13-91A7-F9D70C83E087\"></a><span class=\"term\"><a name=\"GUID-9CF793F6-BC89-4D25-80A7-54548A12A5CA\"></a>使用 I2 作为粒子 ID</span></dt>\n                     <dd>\n                        <div class=\"definition\"><a name=\"GUID-7F44629E-566A-4091-9C51-83E42A523DF7\"></a>添加可将子操作符（输出数据以用作粒子 ID）关联到的整数类型输入。 \n                           <p><a name=\"GUID-69B80D5A-BCE8-4D51-8F9E-6FAD595335BA\"></a>此选项可用于重新混合自定义粒子数据。例如，如果输入整数数据为 {2、4、6、8、10 等}，则当前事件中的第一个粒子从粒子 ID 为 2 的粒子获取自定义数据，当前事件中的第二个粒子从粒子 ID 为 4 的粒子获取自定义数据，依此类推。 \n                           </p> \n                           <p><a name=\"GUID-34EF12D8-AB83-498D-BF65-5EEA5F38E7D3\"></a>通常，仅使用一个代理粒子系统，因此可以保留该设置为默认选项： <a name=\"UL_8ADFCBF51E064FF89E79A3899FF90790\"></a><ul>\n                                 <li><em class=\"strong\">单个代理系统</em>子操作符仅参考作为代理的输入粒子系统 (O1)；不需要更多信息。 \n                                 </li>\n                                 <li><em class=\"strong\">使用 I3 作为系统索引</em>添加可将子操作符（输出数据以用作粒子系统 ID）关联到的整数类型输入以用作代理。 \n                                 </li>\n                                 <li><em class=\"strong\">使用 I3 作为复合索引</em>如果用作输入的“选择对象”子操作符具有粒子系统列表，当“粒子”子操作符用于计算“最近粒子索引”且其“使用 O1 作为代理粒子”复选框处于启用状态时，可以计算距离多个粒子系统最近的粒子。因此，最近粒子的索引应包含粒子系统的索引和此粒子系统中最近粒子的\n                                    ID。这些整数值被精简为其他子操作符可以稍后使用的单个复合索引，例如通过启用了“使用 I3 作为复合索引”的“输入代理”子操作符。如果此选项处于启用状态，则表示用作输入的“选择对象”子操作符具有粒子系统列表，并且从多个粒子系统收集代理粒子的属性。复合索引具有粒子系统索引和粒子\n                                    ID 的相关信息。您还可以使用“转换”子操作符从两个整数值创建复合索引值。 \n                                 </li>\n                              </ul> \n                           </p> \n                           <p><a name=\"GUID-0820A1E4-E77F-4989-9DB3-61CDA6F0A763\"></a>通过其余输入代理设置可以选择要从代理粒子系统复制的一个或多个属性。 \n                           </p>\n                        </div>\n                     </dd>\n                  </dl>\n               </div>\n               <dl>\n                  <dt><a name=\"GUID-976DB205-DDFD-44F9-B0CC-083C48DD6937\"></a><span class=\"term\"><a name=\"GUID-65D756AF-1859-4AD9-BE79-9C4EDF676334\"></a>加速度</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-CFB9D8B1-4336-4CB6-AD73-6320D65947DC\"></a>加速度可以表示为大小值、向量数据或向量数据的分量（X、Y 或 Z）。 \n                        <div><a name=\"GUID-27AEF417-430E-4AAF-9030-F2AF6D289078\"></a><div class=\"note-note\"><span class=\"label label-target-language\">注意:</span>标准“粒子流”操作符未创建加速度或质量属性。但是，如果加速度属性已创建（使用<span class=\"char_link\"><a href=\"GUID-87959BDD-EC31-409D-9074-2939E49C86CA.htm\">“输出标准”子操作符</a></span>），粒子流系统将遵从已提供加速度的规则。例如，若要模拟重力效果，您可以将加速度值定义为输出。 \n                           </div>\n                        </div>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-0A1BF19E-082E-4EA1-A951-8DE810C79374\"></a><span class=\"term\"><a name=\"GUID-9F5095C9-D8AA-4783-A557-139031CF4DD2\"></a>ID</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-D6CB149D-906C-44D1-8E18-E6F52FEE78E5\"></a>选择其中一个 ID 类型： <a name=\"UL_9360D0AF37E64B3280CC54D23005B8D8\"></a><ul>\n                           <li><em class=\"strong\">出生索引</em>每个粒子出生时指定的索引编号。 \n                           </li>\n                           <li><em class=\"strong\">事件索引</em>当前粒子所在事件的索引编号。 \n                           </li>\n                           <li><em class=\"strong\">统一索引</em>每个粒子都有出生时给定的唯一出生索引值。您可以通过出生类型操作符中的设置或通过更改粒子流源对象中的倍增设置，控制粒子流系统中粒子的数量。假设将“出生”操作符设置为生成 1,000 个粒子，倍增值设置为 10%。在这种情况下只有 100 个粒子出生，并且出生索引值为\n                              0 到 99。不论倍增值为何，“统一索引”会均匀拉伸所有生成的粒子。在我们的示例中，最后一个出生的粒子始终具有统一索引值为 999。因此，若倍增值超过 100%，统一索引不是唯一的。 \n                              <p><a name=\"GUID-88CB5F88-2C3D-483F-B8DB-D6E89E18ECB8\"></a>通常，针对视口和渲染使用不同的倍增值。当总体效果受倍增值影响而不受粒子数量影响时，统一索引参数很有用。 \n                              </p> \n                           </li>\n                        </ul>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-40FA089E-4D26-42E6-8CA1-DD412EC3D39F\"></a><span class=\"term\"><a name=\"GUID-5AB9B05F-1035-42D2-8196-16F01021A899\"></a>贴图</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-098BE9E0-D6C5-4B03-84A3-4C09A4E4B7B0\"></a>用于将粒子系统的贴图信息用作向量或 U/V/W 分量。在任何情况下，使用通道编号设置可指定贴图通道，或启用 E4 并将<span class=\"char_link\"><a href=\"GUID-291B5691-D4C7-4E85-A1FA-F6690107CAA8.htm\">“参数”子操作符</a></span>关联到 E4 输入，然后露出“参数”子操作符中的值参数，以便用户可以设置贴图通道。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-5653867D-892D-40DD-926B-3B4A619B909C\"></a><span class=\"term\"><a name=\"GUID-D6A075C2-3FF5-4C87-9FB6-18D5C6DF2BA4\"></a>质量</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-6B965C87-6BE7-4665-8C3C-78582695BF34\"></a>质量作为粒子属性。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-024F115E-0E30-486E-B3F5-4F4A3CE4A6B0\"></a><span class=\"term\"><a name=\"GUID-C3ED680C-CEB0-4666-B593-B6A33C95490B\"></a>材质索引</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-64DEF58A-FC55-473B-B88A-835D4B44C397\"></a>“材质”操作符（静态、动态和频率）处理多维/子对象材质并且将子材质 ID 指定给粒子时指定的索引。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-68DA9BB4-1D96-4468-83A3-3062BC85E8A7\"></a><span class=\"term\"><a name=\"GUID-1109D6B7-B1A8-4A99-9A51-23210136D605\"></a>位置</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-1CA9861C-D78C-43F3-8EC4-CFC5F4E5C6B0\"></a>粒子的当前位置，在 3D 空间中如向量数据所在位置，或 X、Y 或 Z 分量中如实数数据所在位置。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-A9F0FFF8-93D0-4293-BF97-A9F33E56B597\"></a><span class=\"term\"><a name=\"GUID-633D0232-1D5F-4A53-A4A9-F2FD9D05D884\"></a>旋转</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-6737B16C-626D-4A55-B81D-C1076B0B1358\"></a>按四种数据类型之一表示粒子的方向： <a name=\"UL_BDD9D047BDA944A9A42D49B222C635F1\"></a><ul>\n                           <li><em class=\"strong\">角度</em>实数数据类型 \n                           </li>\n                           <li><em class=\"strong\">轴</em>向量数据类型 \n                           </li>\n                           <li><em class=\"strong\">Euler 角度</em>向量数据类型 \n                           </li>\n                           <li> <em class=\"strong\">四元数</em> \n                           </li>\n                        </ul>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-7B65521D-C237-459F-8293-72D0CBE7679A\"></a><span class=\"term\"><a name=\"GUID-7C7F22CA-7624-401E-A384-07972FE86560\"></a>缩放</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-E9BABE86-EEB1-48DB-AE14-AA86822316CE\"></a>可提供很多不同的方法用于确定粒子比例。除向量选项以外都是实数数据。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-4BC1701C-EFFE-433C-89DD-931A25315552\"></a><span class=\"term\"><a name=\"GUID-B979E1A1-81CB-4DAC-B813-DA240CC774DF\"></a>脚本</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-DFE8BCA0-F67D-4083-A38A-EB872DEF9945\"></a>可以按“脚本”操作符（脚本操作符、脚本测试和出生脚本）在脚本数据通道中定义的那样读取数据：整数、浮点、向量、矩阵。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-8939F361-2045-4C0D-A910-662BEE2A3F78\"></a><span class=\"term\"><a name=\"GUID-42F6094A-5BC6-4BB1-99F2-45FCCB0BBDAE\"></a>按组选定</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-D836CB59-5234-49E6-9C50-E2C2C754524E\"></a>如果粒子系统使用<span class=\"char_link\"><a href=\"GUID-9E156D76-ED5E-49C9-BAF2-C70945F7038F.htm\">“组选择”操作符</a></span>，可按“组选择”操作符定义的那样确定选择状态和选择时间。单击“无”按钮打开一个对话框，可以从中选择要使用的“组选择”操作符。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-8B179949-2331-4430-BF1D-C14B32BCC314\"></a><span class=\"term\"><a name=\"GUID-D721930D-7F23-444D-A6A0-28856EA8DE96\"></a>类型</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-3F6BB487-927E-4E3E-A035-B992FA7CCF90\"></a>可以为“按组选定”指定计时： <a name=\"UL_D592C73357C84C518E1BD191D4F165DD\"></a><ul>\n                           <li><em class=\"strong\">步长前状态</em>当前帧之前粒子的选择状态 \n                           </li>\n                           <li><em class=\"strong\">步长后状态</em>当前帧之后粒子的选择状态 \n                           </li>\n                           <li><em class=\"strong\">按粒子系统选定</em>当粒子的选择状态在当前帧切换时计时 \n                           </li>\n                        </ul>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-63D736A2-6221-4460-80A2-24584B0051FA\"></a><span class=\"term\"><a name=\"GUID-C3CE8A8E-0578-42D3-A00B-CFDD4EE0D44F\"></a>按粒子系统选定</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-E4F0EE5E-D582-4F1F-872F-486602661CE6\"></a>输出布尔值：对于粒子系统中选定的粒子为 Yes/1，或对于未在粒子系统中选定的粒子为 No/0。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-F90C345F-B2D0-4E8A-A4BB-D4B3D73621B2\"></a><span class=\"term\"><a name=\"GUID-F8C86A36-172D-4D75-8617-6F93889290AF\"></a>图形</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-19A36B3E-87B7-407D-AF65-554E1A22A026\"></a>按以下类别之一输出图形数据： <a name=\"UL_894CA391332D414EBBD8F3F5CF26DE96\"></a><ul>\n                           <li><em class=\"strong\">范围</em>添加用于定义方向的向量 (V2) 输入。输出实数值是给定方向上从轴点到图形边界的图形范围。例如，如果粒子图形为球体，则输出实数值为球体的半径（无论输入向量值为何）。如果粒子图形是规范位置的立方体，则输入向量 (1, 0, 0) 的输出值是立方体大小的一半。\n                              \n                              <p><a name=\"GUID-08EC3757-CE41-4614-89AE-E4524ECAB2E5\"></a>当范围选定时，“按比例调整”将变为可用选项；请参见下文。 \n                              </p> \n                           </li>\n                           <li><em class=\"strong\">面数</em>输出整数数据。 \n                           </li>\n                           <li><em class=\"strong\">顶点数</em>输出整数数据。 \n                           </li>\n                           <li><em class=\"strong\">曲面</em>输出实数数据。针对粒子图形的曲面启用“按比例调整”复选框。 \n                           </li>\n                           <li><em class=\"strong\">体积</em>输出实数数据。针对粒子图形的体积启用“按比例调整”复选框。 \n                           </li>\n                        </ul>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-F2B75BA4-097C-42E8-BDA3-5E2A9118FEBC\"></a><span class=\"term\"><a name=\"GUID-67E06172-2CB1-43FA-910E-153EAF93E9E8\"></a>按比例调整</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-5DFCFF69-B488-4564-AE68-AE42736432FF\"></a>定义仅根据图形几何体信息（禁用）计算粒子图形属性，还是按照比例粒子通道（启用）定义的那样调整图形大小。仅当图形选择为“范围”时可用。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-C99754E7-CD8B-4BB6-A1C0-FF36846E2C2E\"></a><span class=\"term\"><a name=\"GUID-48C88561-CA49-43EE-855F-92835E43944C\"></a>大小</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-355F2E82-37AE-4EF6-AC3D-005C00D74401\"></a>按多种可用类别（不言自明）之一输出大小数据。全部输出实数数据（除向量选项）。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-79DC8F87-C2AC-4FA8-8938-11788CEEB1FB\"></a><span class=\"term\"><a name=\"GUID-8EE9149A-BC2C-461F-BCBE-E7C17EAB3934\"></a>速度</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-DAAE4ACF-76F4-4B9A-AF10-B8AE173B1EB1\"></a>按多种可用类别（不言自明）之一输出速度数据。全部输出实数数据（除向量选项）。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-BFA48125-2238-4C48-81EC-B7938E30D371\"></a><span class=\"term\"><a name=\"GUID-6859D8D0-CD3F-4E05-8300-3AF30961AD00\"></a>自旋</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-62CCE333-01AC-4374-9961-782A40E981DD\"></a>按三种类别之一输出自旋数据：轴（向量）、四元数和速率（实数）。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-77EFD75C-8324-472F-9666-E4F73839E940\"></a><span class=\"term\"><a name=\"GUID-15CF3BC3-0E00-4382-B5A6-F380BD767BE7\"></a>时间</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-967CA3CA-5FD4-456C-B632-4EF8609C0F08\"></a>按多种可用类别（不言自明）之一输出时间数据。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-FA5D9055-D0F0-45D7-B0EB-CA2613B727A2\"></a><span class=\"term\"><a name=\"GUID-56541395-5214-40B7-8DA3-B35517C58B35\"></a>TM</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-FE1882F1-7B23-49A6-A1D6-CB8F18919E8E\"></a>输出粒子变换矩阵作为包含三个向量的矩阵数据，或为矩阵 X、Y 或 Z（向量）。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-4D1C8520-3F71-4F55-A3DB-7119AED3CC35\"></a><span class=\"term\"><a name=\"GUID-275189FD-4613-4102-835A-B6A404A66A92\"></a>顶点颜色通道</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-F98F83BE-C912-4C1C-B88C-A982CE0063E9\"></a>输出顶点颜色通道数据作为向量。\n                     </div>\n                  </dd>\n               </dl> \n            </div>\n         </div>\n         <div class=\"footer-block\"><a href=\"..\" class=\"comments-anchor\" target=\"_blank\"><span class=\"comments-link\">请将您关于此页内容的评论发送给我们</span></a></div><br><p class=\"footer-license-block\"><a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"><img alt=\"Creative Commons License\" style=\"border-width: 0;\" src=\"../images/ccLink.png\"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href=\"http://autodesk.com/creativecommons\" target=\"_blank\">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>\n   </body>\n</html>";