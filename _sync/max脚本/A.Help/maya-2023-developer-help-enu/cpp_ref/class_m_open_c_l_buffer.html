<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script>
      <title>C++ API Reference: MOpenCLBuffer Class Reference</title>
      
	  
      
      
      
      
      
      
      
    

</head>
   <body height="100%"><div class="body_content" id="body-content"><link rel="stylesheet" type="text/css" href="cpp_ref/navtree.css"><link rel="stylesheet" type="text/css" href="cpp_ref/doxygen.css"><link rel="stylesheet" type="text/css" href="cpp_ref/tabs.css"><link rel="stylesheet" type="text/css" href="style/adsk.cpm.css"><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('class_m_open_c_l_buffer.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script>
      <div>
         <div class="head">
            <h1>C++ API Reference: MOpenCLBuffer Class Reference</h1>
         </div>

<div id="top"><!-- do not remove this div, it is closed by doxygen! -->

<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->

  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="#!/url=./cpp_ref/index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="#!/url=./cpp_ref/pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="#!/url=./cpp_ref/modules.html"><span>Modules</span></a></li>
      <li><a href="#!/url=./cpp_ref/namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="#!/url=./cpp_ref/annotated.html"><span>Classes</span></a></li>
      <li><a href="#!/url=./cpp_ref/examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="cpp_ref/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="">
          <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="cpp_ref/search/close.png" alt=""></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="#!/url=./cpp_ref/annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="#!/url=./cpp_ref/classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="#!/url=./cpp_ref/hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="#!/url=./cpp_ref/functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>

<div id="doc-content">
<!-- window showing the filter options -->


<!-- iframe showing the search results (closed by default) -->


<div class="header">
  
  <div class="headertitle">
<div class="title">MOpenCLBuffer Class Reference<div class="ingroups"><a class="el" href="#!/url=./cpp_ref/group___open_maya.html">OpenMaya - API module for common classes</a></div></div>  </div>
<div id="OverviewLinksDiv"><div id="dynsection-overview" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><img id="dynsection-overview-trigger" src="cpp_ref/closed.png" alt="+"> Related help topics: </div><div id="dynsection-overview-content" class="dyncontent" style="display:none;"><ul class="overviewLinks">
<li class="overviewLink"><a href="#!/url=./dev_help/What-s-New-What-s-Changed-/2023-Whats-New-in-API.html">What&#39;s New / What&#39;s Changed? &gt; What&#39;s new in the Maya 2023 devkit</a></li>
<li class="overviewLink"><a href="#!/url=./dev_help/What-s-New-What-s-Changed-/2022-Whats-New-in-API.html">What&#39;s New / What&#39;s Changed? &gt; What&#39;s New in the Maya 2022 devkit</a></li>
</ul></div></div>
<div class="summary">
<a href="class_m_open_c_l_buffer.html#pub-methods">Public Member Functions</a> &#124;
<a href="#!/url=./cpp_ref/class_m_open_c_l_buffer-members.html">List of all members</a>  </div></div><!--header-->
<div class="contents">

<p>Convenience class which makes allocating, updating and releasing OpenCL buffers easy.  
 <a href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#details">More...</a></p>

<p><code>#include &lt;MOpenCLBuffer.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acec6c333969da1ec32a28af9b9a37127"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#acec6c333969da1ec32a28af9b9a37127">MOpenCLBuffer</a> (cl_context gpuContext, cl_mem_flags flags)</td></tr>
<tr class="memdesc:acec6c333969da1ec32a28af9b9a37127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor.  <a href="class_m_open_c_l_buffer.html#acec6c333969da1ec32a28af9b9a37127">More...</a><br></td></tr>
<tr class="separator:acec6c333969da1ec32a28af9b9a37127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019a667859b6fbe7d48af3c74d57308d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#a019a667859b6fbe7d48af3c74d57308d">MOpenCLBuffer</a> (cl_context gpuContext, cl_mem_flags flags, size_t size, void *host_ptr, cl_int *err)</td></tr>
<tr class="memdesc:a019a667859b6fbe7d48af3c74d57308d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor.  <a href="class_m_open_c_l_buffer.html#a019a667859b6fbe7d48af3c74d57308d">More...</a><br></td></tr>
<tr class="separator:a019a667859b6fbe7d48af3c74d57308d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c54f5eb451fff1808ccafb4021e3515"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#a0c54f5eb451fff1808ccafb4021e3515">MOpenCLBuffer</a> ()</td></tr>
<tr class="memdesc:a0c54f5eb451fff1808ccafb4021e3515"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor.  <a href="class_m_open_c_l_buffer.html#a0c54f5eb451fff1808ccafb4021e3515">More...</a><br></td></tr>
<tr class="separator:a0c54f5eb451fff1808ccafb4021e3515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace17f4e336e8017497c28a6bf3927e4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#ace17f4e336e8017497c28a6bf3927e4d">MOpenCLBuffer</a> (<a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> &amp;&amp;)</td></tr>
<tr class="memdesc:ace17f4e336e8017497c28a6bf3927e4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor.  <a href="class_m_open_c_l_buffer.html#ace17f4e336e8017497c28a6bf3927e4d">More...</a><br></td></tr>
<tr class="separator:ace17f4e336e8017497c28a6bf3927e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade73498fa2124201c780a79670bb5907"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#ade73498fa2124201c780a79670bb5907">~MOpenCLBuffer</a> ()</td></tr>
<tr class="memdesc:ade73498fa2124201c780a79670bb5907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class destructor.  <a href="class_m_open_c_l_buffer.html#ade73498fa2124201c780a79670bb5907">More...</a><br></td></tr>
<tr class="separator:ade73498fa2124201c780a79670bb5907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a707d5132c07d9bc8bae2cfff527951e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#a707d5132c07d9bc8bae2cfff527951e3">operator=</a> (<a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> &amp;&amp;)</td></tr>
<tr class="memdesc:a707d5132c07d9bc8bae2cfff527951e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move operator.  <a href="class_m_open_c_l_buffer.html#a707d5132c07d9bc8bae2cfff527951e3">More...</a><br></td></tr>
<tr class="separator:a707d5132c07d9bc8bae2cfff527951e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr class="memdesc:ad20897c5c8bd47f5d4005989bead0e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the OpenCL buffer (if any) and the event (if any).  <a href="class_m_open_c_l_buffer.html#ad20897c5c8bd47f5d4005989bead0e55">More...</a><br></td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa424e746e745b1064eaaee1d991b7f7"><td class="memItemLeft" align="right" valign="top">cl_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#afa424e746e745b1064eaaee1d991b7f7">uploadDataToGPU</a> (cl_command_queue gpuQueue, cl_bool blocking_write, size_t offset, size_t size, void *host_ptr, cl_uint numEvents, const cl_event *events)</td></tr>
<tr class="memdesc:afa424e746e745b1064eaaee1d991b7f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to the GPU.  <a href="class_m_open_c_l_buffer.html#afa424e746e745b1064eaaee1d991b7f7">More...</a><br></td></tr>
<tr class="separator:afa424e746e745b1064eaaee1d991b7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed243ae0a38183f4c8e04a7258b4cbdf"><td class="memItemLeft" align="right" valign="top">cl_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#aed243ae0a38183f4c8e04a7258b4cbdf">ensureBufferSize</a> (size_t size)</td></tr>
<tr class="memdesc:aed243ae0a38183f4c8e04a7258b4cbdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make certain that the OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> is large enough to hold size bytes.  <a href="class_m_open_c_l_buffer.html#aed243ae0a38183f4c8e04a7258b4cbdf">More...</a><br></td></tr>
<tr class="separator:aed243ae0a38183f4c8e04a7258b4cbdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ab5a4d4e120d4cf7e4643ef0b1975f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#ad9ab5a4d4e120d4cf7e4643ef0b1975f">bufferSize</a> () const </td></tr>
<tr class="memdesc:ad9ab5a4d4e120d4cf7e4643ef0b1975f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>Introduced in 2023.0</b>  <a href="class_m_open_c_l_buffer.html#ad9ab5a4d4e120d4cf7e4643ef0b1975f">More...</a><br></td></tr>
<tr class="separator:ad9ab5a4d4e120d4cf7e4643ef0b1975f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2057208c487d001d1edfbd489cc0b01f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#!/url=./cpp_ref/class_m_auto_c_l_mem.html">MAutoCLMem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#a2057208c487d001d1edfbd489cc0b01f">buffer</a> ()</td></tr>
<tr class="memdesc:a2057208c487d001d1edfbd489cc0b01f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>.  <a href="class_m_open_c_l_buffer.html#a2057208c487d001d1edfbd489cc0b01f">More...</a><br></td></tr>
<tr class="separator:a2057208c487d001d1edfbd489cc0b01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1978a75e975b7269214d00fef1c5f910"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="#!/url=./cpp_ref/class_m_auto_c_l_mem.html">MAutoCLMem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#a1978a75e975b7269214d00fef1c5f910">buffer</a> () const </td></tr>
<tr class="memdesc:a1978a75e975b7269214d00fef1c5f910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>.  <a href="class_m_open_c_l_buffer.html#a1978a75e975b7269214d00fef1c5f910">More...</a><br></td></tr>
<tr class="separator:a1978a75e975b7269214d00fef1c5f910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d56f779398dcd9d2ff4a9d49a2c3bf5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#!/url=./cpp_ref/class_m_auto_c_l_event.html">MAutoCLEvent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#a8d56f779398dcd9d2ff4a9d49a2c3bf5">bufferReadyEvent</a> ()</td></tr>
<tr class="memdesc:a8d56f779398dcd9d2ff4a9d49a2c3bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the OpenCL event held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>.  <a href="class_m_open_c_l_buffer.html#a8d56f779398dcd9d2ff4a9d49a2c3bf5">More...</a><br></td></tr>
<tr class="separator:a8d56f779398dcd9d2ff4a9d49a2c3bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Convenience class which makes allocating, updating and releasing OpenCL buffers easy. </p>
<p><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> is a convenience class which can replace calls to clCreateBuffer, clEnqueueWriteBuffer and clReleaseBuffer. <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> provides a number of features which make creating, updating and releasing an OpenCL buffer simple.</p>
<p>When <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> allocates a cl_mem object <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> automatically notifies Maya of the increased GPU memory usage (see MRenderer::holdGPUMemory()).</p>
<p>When <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> updates a cl_mem object it will automatically allocate a larger buffer if the new data size is larger than the old data size.</p>
<p>When <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> deallocates a cl_mem object <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> automatically notifies Maya of the decreased GPU memory usage. </p>
<dl class="section "><div id="dynsection-example0" class="dynheader closed" onclick="return toggleVisibility(this)" style="cursor:pointer;"><dt><img id="dynsection-example0-trigger" src="cpp_ref/closed.png" alt="+"> <b>Examples: </b></dt></div><div id="dynsection-example0-content" class="dyncontent" style="display:none;"><dd><a class="el" href="#!/url=./cpp_ref/offset_node_2offset_node_8cpp-example.html#_a57">offsetNode/offsetNode.cpp</a>.</dd></div>
</dl></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acec6c333969da1ec32a28af9b9a37127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> </td>
          <td>(</td>
          <td class="paramtype">cl_context&#160;</td>
          <td class="paramname"><em>gpuContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_mem_flags&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class constructor. </p>
<p>Create an <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> without creating a GPU buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gpuContext</td><td>A valid OpenCL context to be used to create a buffer object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Specify usage information for the buffer object. <ul>
<li><b>CL_MEM_READ_WRITE</b> The memory object will be read and written by a kernel. </li>
<li><b>CL_MEM_WRITE_ONLY</b> The memory object will only be written to by a kernel. </li>
<li><b>CL_MEM_READ_ONLY</b> The memory object will only be read from by a kernel. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a019a667859b6fbe7d48af3c74d57308d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> </td>
          <td>(</td>
          <td class="paramtype">cl_context&#160;</td>
          <td class="paramname"><em>gpuContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_mem_flags&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>host_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_int *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class constructor. </p>
<p>Create a GPU buffer able to hold size bytes. If host_ptr is not NULL, copy the data from host_ptr to the GPU buffer. host_ptr must be larger than size bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gpuContext</td><td>A valid OpenCL context to be used to create a buffer object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Specify usage information for the buffer object. <ul>
<li><b>CL_MEM_READ_WRITE</b> The memory object will be read and written by a kernel. </li>
<li><b>CL_MEM_WRITE_ONLY</b> The memory object will only be written to by a kernel. </li>
<li><b>CL_MEM_READ_ONLY</b> The memory object will only be read from by a kernel. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size in bytes of the OpenCL buffer to be allocated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host_ptr</td><td>Optional. Data to be copied into the OpenCL buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>OpenCL error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0c54f5eb451fff1808ccafb4021e3515"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class constructor. </p>
<p>Create an <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> without creating a GPU buffer. The cl_context used is the cl_context returned by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_info.html#a2ab4ea6f879cbd19b67ca57cb3474d7b" title="The method returns the Maya OpenCL context. ">MOpenCLInfo::getOpenCLContext()</a>. The cl_mem_flags used are CL_MEM_READ_ONLY. </p>

</div>
</div>
<a class="anchor" id="ace17f4e336e8017497c28a6bf3927e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move constructor. </p>
<p>Create an <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> from an existing <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> <em>other</em>. After calling <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#ace17f4e336e8017497c28a6bf3927e4d" title="Move constructor. ">MOpenCLBuffer(MOpenCLBuffer &amp;&amp;)</a> it is not valid to call any method on <em>other</em> except for its destructor. </p>

</div>
</div>
<a class="anchor" id="ade73498fa2124201c780a79670bb5907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class destructor. </p>
<p>Release the OpenCL buffer (if any) and the event (if any). </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a707d5132c07d9bc8bae2cfff527951e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> &amp; operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html">MOpenCLBuffer</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move operator. </p>
<p>The GPU buffer held in this object is released. The GPU buffer held in other is now held in this object. It is not safe to call any methods on other expect for ~MOpenCLBuffer. </p>

</div>
</div>
<a class="anchor" id="ad20897c5c8bd47f5d4005989bead0e55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the OpenCL buffer (if any) and the event (if any). </p>
<p>Set the size of the <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> back to zero. </p>

</div>
</div>
<a class="anchor" id="afa424e746e745b1064eaaee1d991b7f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cl_int uploadDataToGPU </td>
          <td>(</td>
          <td class="paramtype">cl_command_queue&#160;</td>
          <td class="paramname"><em>gpuQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_bool&#160;</td>
          <td class="paramname"><em>blocking_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>host_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_uint&#160;</td>
          <td class="paramname"><em>numEvents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cl_event *&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data to the GPU. </p>
<p>Allocate a new OpenCL buffer if the size of the upload is larger than the current size of the <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gpuQueue</td><td>A valid OpenCL context to be used to create a buffer object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blocking_write</td><td>Specify usage information for the buffer object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset in bytes in the OpenCL buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size in bytes of the data to write to OpenCL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host_ptr</td><td>Data to be copied into the OpenCL buffer. Must be at least size bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numEvents</td><td>Number of events to wait for before beginning to modify the OpenCL buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">events</td><td>List of events to wait for before beginning to modify the OpenCL buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CL_SUCCESS for success, an OpenCL error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="aed243ae0a38183f4c8e04a7258b4cbdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cl_int ensureBufferSize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make certain that the OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> is large enough to hold size bytes. </p>
<p>If the <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> already exists and is greater than or equal to the new size, <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a> will re-use the underlying OpenCL buffer. If the existing buffer is not large enough a new and larger buffer will be allocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The desired size in bytes of the OpenCL buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CL_SUCCESS for success, an OpenCL error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ad9ab5a4d4e120d4cf7e4643ef0b1975f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bufferSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><b>Introduced in 2023.0</b> </p>
<p>Return the current size in bytes of the buffer.</p>
<dl class="changelog_2023_0"><dt><b><a class="el" href="#!/url=./cpp_ref/changelog_2023_0.html#_changelog_2023_0000039">2023.0:</a></b></dt><dd>Introduced in this version. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The size in bytes of the buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="a2057208c487d001d1edfbd489cc0b01f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#!/url=./cpp_ref/class_m_auto_c_l_mem.html">MAutoCLMem</a> buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>. </p>
<p>The underlying cl_mem object may change if <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#afa424e746e745b1064eaaee1d991b7f7" title="Send data to the GPU. ">uploadDataToGPU()</a> or <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#aed243ae0a38183f4c8e04a7258b4cbdf" title="Make certain that the OpenCL buffer held by MOpenCLBuffer is large enough to hold size bytes...">ensureBufferSize()</a> is called.</p>
<dl class="section return"><dt>Returns</dt><dd>The OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a1978a75e975b7269214d00fef1c5f910"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="#!/url=./cpp_ref/class_m_auto_c_l_mem.html">MAutoCLMem</a> buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>. </p>
<p>The underlying cl_mem object may change if <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#afa424e746e745b1064eaaee1d991b7f7" title="Send data to the GPU. ">uploadDataToGPU()</a> or <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html#aed243ae0a38183f4c8e04a7258b4cbdf" title="Make certain that the OpenCL buffer held by MOpenCLBuffer is large enough to hold size bytes...">ensureBufferSize()</a> is called.</p>
<dl class="section return"><dt>Returns</dt><dd>The OpenCL buffer held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a8d56f779398dcd9d2ff4a9d49a2c3bf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#!/url=./cpp_ref/class_m_auto_c_l_event.html">MAutoCLEvent</a> bufferReadyEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the OpenCL event held by <a class="el" href="#!/url=./cpp_ref/class_m_open_c_l_buffer.html" title="Convenience class which makes allocating, updating and releasing OpenCL buffers easy. ">MOpenCLBuffer</a>. </p>
<p>The OpenCL buffer is safe to read if the event held in the <a class="el" href="#!/url=./cpp_ref/class_m_auto_c_l_event.html" title="AutoPtr for cl_event objects. ">MAutoCLEvent</a> is NULL or complete.</p>
<dl class="section return"><dt>Returns</dt><dd>The OpenCL event which must complete before it is safe to read the buffer. </dd></dl>

</div>
</div>
<hr>The documentation for this class was generated from the following files:<ul>
<li>MOpenCLBuffer.h</li>
<li>MOpenCLBuffer.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
   </div></body>
</html>
