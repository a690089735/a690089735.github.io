<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-9736AC27-1D87-47F5-80CD-06E297E87B4B">
      <meta name="description" content="CAT 的 IK 的自定义允许使用所有规则 3ds Max 约束，甚至可以编写脚本以控制肢体。下面是两种腿部设置的实用说明：膝部注视和约束方向。">
      <meta name="indexterm" content="CAT: 使用约束自定义 IK">
      <meta name="topic-type" content="concept">
      <title>使用约束自定义 IK</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-9736AC27-1D87-47F5-80CD-06E297E87B4B"></a><div class="head">
            <h1>使用约束自定义 IK</h1>
         </div>
         <p class="blurb"> <span class="charspan-msgph">CAT</span> 的 IK 的自定义允许使用所有规则 <span class="charspan-msgph">3ds Max</span> 约束，甚至可以编写脚本以控制肢体。下面是两种腿部设置的实用说明：膝部注视和约束方向。 
         </p>
         <div class="bodyReference">
            <div class="section"><a name="WS7AF5CAC11814013A4320A30E11FDE8C078D-7FFC"></a> 
               <h2><a name="GUID-C5434B8E-82A3-4D35-82D0-0D55363ECA12"></a>注视膝部
               </h2> 
               <p><a name="WS1A9193826455F5FF2566FFD511FDE75E656-2E3F"></a>将 IK 应用于腿部的一种有效方法是使膝部注视某个目标。使用 <span class="charspan-msgph">CAT</span>，您可通过使用一块附加骨骼作为目标对象来实现这一点。 
               </p> <a name="WS1A9193826455F5FF3D6161141208A8044F3-773C"></a><p class="list-intro"><a name="WS1A9193826455F5FF3D6161141208A8044F3-773B"></a>要设置注视膝部，请执行下列操作：
               </p>
               <ol type="1" start="1">
                  <li>确保层管理器中没有任何动画层，然后返回“设置”模式。 </li>
                  <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择大腿骨骼（大腿）。 
                  </li>
                  <li>转到 <img src="../images/GUID-00A9C3E8-5814-4255-A1E2-8DB5CFC5D439-low.png">“修改”面板。 
                  </li>
                  <li>在“骨骼设置”卷展栏上，单击“添加骨骼”创建一块附加骨骼。 
                     <p><a name="WS1A9193826455F5FF2566FFD511FDE75E656-2E38"></a>此时将在其创建所在的骨骼的一端创建附加骨骼。 
                     </p> 
                     <div><a name="WS1A9193826455F5FF3D6161141208A8044F3-773A"></a><div class="note-important"><span class="label label-target-language">重要信息:</span>在将要与之关联的肢体上创建附加骨骼，因为即使在附加骨骼重新链接到骨盆后，它仍是肢体组的一部分，所以将使用肢体权重作为其局部权重。使用羽化加权时，此方法十分有用。 
                        </div>
                     </div> 
                  </li>
                  <li> <img src="../images/GUID-5D7D7630-6D16-400D-AE6F-87F13C97DEA2-low.png"> 将骨骼向外移至膝部正面。 
                     <div><a name="WS1A9193826455F5FF-3859B43C1209703A838-7E5A"></a><div class="note-tip"><span class="label label-target-language">提示</span>在线框视口中选择该骨骼。 
                        </div>
                     </div> 
                  </li>
                  <li> <img src="../images/GUID-2FD1B2A7-98E2-4EC0-9CAA-D6641253DF99-low.png"> 将该附加骨骼链接为骨盆的子对象。 
                     <p><a name="WS1A9193826455F5FF3D6161141208A8044F3-7739"></a>此时膝部注视应控制腿部；如果仍链接到腿部，它将跟随腿部，而不是反之。 
                     </p> 
                  </li>
                  <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 再次选择大腿骨骼。 
                  </li>
                  <li>转到 <img src="../images/GUID-EBCA3C24-9B3B-46F2-A058-71C6B3FFD2E6-low.png">“运动”面板，添加一个“绝对”层，然后添加一个相对层（“调整局部”或“调整世界”）。 
                  </li>
                  <li>将装备置于“动画”模式。 </li>
                  <li>转到“指定控制器”卷展栏，高亮显示当前动画层的“旋转”轨迹。 <a name="WS1A9193826455F5FF-3859B43C1209703A838-7E58"></a><div class="figure-anchor"><img src="../images/GUID-87794CF6-EEDD-46D0-8971-95FC506AEEB9-low.png"></div>  
                  </li>
                  <li>单击 <img src="../images/GUID-B37F3828-8B20-4C02-BF02-B151E0CBBB68-low.png">（“指定控制器”），然后指定一个“注视”约束。 
                  </li>
                  <li>转到“注视约束”卷展栏。 </li>
                  <li>在“注视约束”卷展栏上单击“添加注视目标”，然后选择附加骨骼。右键单击可退出。 </li>
                  <li>将大腿放入 FK。（“肢体动画”卷展栏 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“IK/FK”= 1.0） 
                     <p><a name="WS1A9193826455F5FF-3859B43C1209703A838-7E57"></a>此方法十分有用，因为这样您可以更好地了解进展情况。 
                     </p> 
                  </li>
                  <li>在“注视约束”卷展栏上，禁用“选择上方向节点”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“世界”，然后指定“脚部平台”作为“上方向节点”。 
                  </li>
                  <li>将“上方向节点控制”设置为“注视”，然后拾取脚部平台作为目标。 </li>
                  <li>将“源轴”设置为 Y，并选择“翻转”。 </li>
                  <li>将肢体放回 IK 中。 </li>
               </ol> 
            </div>
            <div class="section"><a name="WS7AF5CAC11814013A4320A30E11FDE8C078D-7FFB"></a> 
               <h2><a name="GUID-3929C6C8-2186-4912-9985-5AE84BC8DFB8"></a>约束方向
               </h2> 
               <p><a name="WS1A9193826455F5FF2566FFD511FDE75E656-2E28"></a>如果希望腿部同时继承其父对象（骨盆）和脚部平台的运动，可使用约束方向设置。 
               </p> <a name="WS1A9193826455F5FF-3859B43C1209703A838-7E56"></a><p class="list-intro"><a name="WS1A9193826455F5FF-3859B43C1209703A838-7E55"></a>要设置约束方向的腿部，请执行下列操作：
               </p>
               <ol type="1" start="1">
                  <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择大腿骨骼。 
                  </li>
                  <li>转到 <img src="../images/GUID-EBCA3C24-9B3B-46F2-A058-71C6B3FFD2E6-low.png">“运动”面板，添加一个“绝对”层并激活“动画”模式。 
                  </li>
                  <li>将肢体放入 FK。 </li>
                  <li>转到“指定控制器”卷展栏，高亮显示当前动画层中的“旋转”轨迹。 </li>
                  <li>单击 <img src="../images/GUID-B37F3828-8B20-4C02-BF02-B151E0CBBB68-low.png">（“指定控制器”），然后指定一个“方向”约束。 
                  </li>
                  <li>在“方向约束”卷展栏上单击“添加方向约束”，然后选择“脚部平台”。 </li>
                  <li>启用“保持初始偏移”。 </li>
                  <li>此时腿部应正常站立在脚部平台上。 </li>
                  <li>将腿部重新混合到 IK 中。 
                     <p><a name="WS1A9193826455F5FF2566FFD511FDE75E656-2E1C"></a>现在如果旋转脚部平台，整个腿部将随之旋转。 
                     </p> 
                  </li>
               </ol> <a name="WS1A9193826455F5FF-3859B43C1209703A838-7E54"></a><p class="list-intro"><a name="WS1A9193826455F5FF-3859B43C1209703A838-7E53"></a>要混合脚部平台与骨盆之间的腿部旋转，请执行下列操作：
               </p>
               <ol type="1" start="1">
                  <li>应用“方向”约束并指定“脚部平台”作为方向目标，如前面步骤所述。 </li>
                  <li>添加第二个“方向”约束，这次指定骨盆作为方向目标。 </li>
                  <li>根据需要在两个目标之间调整约束“权重”的设置。 </li>
               </ol> 
            </div>
            <div class="section"><a name="WS1A9193826455F5FF2566FFD511FDE75E656-2E16"></a> 
               <h2><a name="GUID-648BCE97-DAFC-4B4A-B2AA-23C251BEF719"></a>保存约束设置
               </h2> 
               <p><a name="WS1A9193826455F5FF2566FFD511FDE75E656-2E15"></a>要保存 IK 约束设置，请在某个层中设置配置，然后将该层保存为不包含关键帧的剪辑文件。如果需要添加一个采用相同配置的新“绝对”层，只需加载该层即可。 
               </p> 
               <div><a name="WS1A9193826455F5FF-3859B43C1209703A838-7E52"></a><div class="note-note"><span class="label label-target-language">注意:</span>注意：使用上述约束系统时，无法与同一层上的 FK 混合。要与 FK 混合，请与其中肢体未添加此系统的另一个动画层混合。 
                  </div>
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>