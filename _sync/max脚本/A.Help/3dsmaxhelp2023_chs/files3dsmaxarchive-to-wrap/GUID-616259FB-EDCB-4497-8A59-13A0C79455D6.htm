<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-17">
      <meta name="topicid" content="GUID-616259FB-EDCB-4497-8A59-13A0C79455D6">
      <meta name="description" content="本主题介绍了如何设置场景以使用光能传递。考虑内容包括场景的大小以及场景中使用的测量系统、光线和材质。">
      <meta name="indexterm" content="工作流程: 光能传递">
      <meta name="indexterm" content="光能传递: 工作流程">
      <meta name="contextid" content="TOPIC_RADIOSITY_WORKFLOWS">
      <meta name="topic-type" content="concept">
      <title>光能传递工作流程</title><script language="javascript">var index = 'index.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-616259FB-EDCB-4497-8A59-13A0C79455D6"></a><div class="head">
            <h1>光能传递工作流程</h1>
         </div>
         <p class="blurb">本主题介绍了如何设置场景以使用光能传递。考虑内容包括场景的大小以及场景中使用的测量系统、光线和材质。 </p>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A1900429B4"></a> 
            <h2><a name="GUID-E38AE5ED-6C44-47B9-8AC6-510FCE659C34"></a>在处理光能传递之前正确设置单位
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F7"></a>使用导入的几何体时，在处理光能传递之前请确保单位与您的场景中一致。例如，墙的高度更可能是 8 英尺而不是 8 千米。<span class="charspan-msgph">3ds Max</span> 中的单位必须与模型的单位相匹配，因为光能传递引擎经常对灯光使用平方反比衰减。因此，距离是非常重要的。 
            </p> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F6"></a>要确保正确地设置单位，可以使用<span class="char_link"><a href="../files3dsmaxhelp/GUID-69E92759-6CD9-4663-B993-635D081853D2.htm">“单位设置”对话框</a></span>。<span class="char_link"><a href="../files3dsmaxhelp/GUID-22D2D2B9-9A82-47FA-88DD-67B1A91E2337.htm">系统单位</a></span>是此对话框中的最重要设置。系统单位是 <span class="charspan-msgph">3ds Max</span> 计算所基于的标准。“显示单位”只是一个用于自定义如何在用户界面中显示单位的工具。 
            </p> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F5"></a>以下两个方案演示了在导入了使用不同单位（不同于 <span class="charspan-msgph">3ds Max</span> 中当前设置的单位） 创建的几何体之后，如何设置单位比例： 
            </p> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F4"></a>示例 1：导入在 AutoCAD 中创建的使用公制比例的桌子。桌子长 9 个单位，对应于实际长度的 90 厘米。将桌子导入 <span class="charspan-msgph">3ds Max</span> 时，它会测量为 9 个场景单位。因此，使用“单位设置”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“系统单位设置”对话框，必须将“系统单位比例”设置为 1 单位 = 10.0 厘米。这样桌子的单位就是正确的，因为它在 <span class="charspan-msgph">3ds Max</span> 模型中的长度是 90 厘米。 
            </p> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F3"></a>示例 2：有一个使用建筑单位创建的 AutoCAD 模型。该模型是长度为 20 英尺 4 英寸的房间。在 AutoCAD 中，存储建筑单元时采用英寸单位。因此，在将该模型导入 <span class="charspan-msgph">3ds Max</span> 之前，请将“系统单位比例”设置为 1 单位 = 1 英寸（这是默认设置）。导入 <span class="charspan-msgph">3ds Max</span> 后，房间长度将测量为 20 英尺 x 12 + 4 英寸 = 244 单位。 
            </p> 
            <div><a name="WS1A9193826455F5FF662FFB11407B58D52-70AA"></a><div class="note-tip"><span class="label label-target-language">提示</span>要在 <span class="charspan-msgph">3ds Max</span> 中快速检查尺寸，请使用<span class="char_link"><a href="../files3dsmaxhelp/GUID-E5FD69A1-80E0-4DE9-9EAE-8B22A1575EDE.htm">测量距离工具</a></span>。 
               </div>
            </div> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A1900429B5"></a> 
            <h2><a name="GUID-5A48B1F6-8220-47E6-8AD0-AB63CBA584CA"></a>基于物理的工作流程
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F2"></a>使用<span class="char_link"><a href="GUID-C5A3C77B-794B-4444-9783-7F2EA11C16BD.htm">光能传递</a></span>来创建基于物理的照明模拟。进行操作时，一定要注意以下几点： 
            </p> <a name="WS1A9193826455F5FFBA679E112A6A1900429B6"></a><ul>
               <li> <em class="strong">场景尺寸：</em>确保场景使用准确的尺寸和一致的单位。例如，120 米高的房间中的光源照明与同一光源在 120 英寸高的房间中的照明有很大区别。 
               </li>
               <li> <em class="strong">灯光：</em>原理与<span class="char_link"><a href="../files3dsmaxhelp/GUID-E337DCA6-6B8D-4689-BCB8-6A6EEF06E6EE.htm">光度学灯光</a></span>不同，因此应确保光线强度在正常范围内。 
               </li>
               <li> <em class="strong">自然照明：</em>要模拟自然灯光，请仅使用 <span class="char_link"><a href="../files3dsmaxhelp/GUID-48339F56-F6C9-44AD-8B28-6C8DE3E5514C.htm">IES 太阳光</a></span>和 <span class="char_link"><a href="../files3dsmaxhelp/GUID-390804A1-324E-4B00-ACEF-52F80BD73A3B.htm">IES 天光</a></span>。它们基于指定的位置、日期和时间提供了太阳光和天光精确的光学度表示。 
               </li>
               <li> <em class="strong">材质反射比：</em>请确保在场景中材质的<span class="char_link"><a href="../files3dsmaxhelp/GUID-48472238-9C02-4117-B075-242251BFCCF8.htm">反射比值</a></span>在它们表示的物理材质范围之内。例如，油漆过的白墙最大的反射比可以接近到 80%；而纯白色材质（RGB：255、255、255）的反射比为 100%。这意味着材质会 100% 的将接收到的能量反射回去。 
               </li>
               <li> <em class="strong">曝光控制：</em>曝光控制相当于摄影机的光圈。激活曝光控制，设置一个提供所需最终结果的值。 
               </li>
            </ul> <a name="WS1A9193826455F5FFBA679E112A6A1900429B7"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A1900429B8"></a>要使用基于物理的工作流程处理光学度灯光的光能传递，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>确保几何体设置物理校正比例并且材质具有有效的反射比值。 </li>
               <li>将光学度灯光放入场景中。这个工作流程的好处就是它允许以现实世界中相同的方式将灯光放入场景中。可以创建新的光学度灯光，或者使用<span class="char_link"><a href="">资源浏览器</a></span>，从包含的库中拖放<span class="char_link"><a href="../files3dsmaxhelp/GUID-36EF3C07-C691-43E6-91AB-28E8E3B35EA9.htm">光源对象</a></span>。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F1"></a>也可以参见<span class="char_link"><a href="../files3dsmaxhelp/GUID-8C706F93-1E0D-4526-8B02-FD579AA8AEF1.htm">普通灯光值</a></span>。 
                  </p> 
               </li>
               <li>选择“渲染”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“环境”以显示<span class="char_link"><a href="../files3dsmaxhelp/GUID-EF33AEB1-44BE-403E-B4CC-3C29495988C2.htm">“环境”面板</a></span>。选择要使用的曝光控制类型（通常是<span class="char_link"><a href="../files3dsmaxhelp/GUID-FCE53C6C-9C6F-4525-B4F0-64825AE2E3AF.htm">对数</a></span>）。 
               </li>
               <li>要预览照明，请单击<img src="../images/GUID-86006E53-F3A5-4CDA-A11A-6E92CFA7540F-low.png">（“渲染产品”）。 
                  <p><a name="WS73099CC142F4875579AF7704115B7B67892-336E"></a>在此阶段，不会处理光能传递，但可以迅速确认直接照明是正确的。如果您愿意，还可以调整灯光的位置。 
                  </p> 
               </li>
               <li>选择“渲染”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“高级照明”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“光能传递”，然后确定任何出现的警报。在“选择高级照明”卷展栏上，请确保已启用“活动”。 
               </li>
               <li>要处理光能传递，请在“光能传递处理参数”卷展栏上，单击“开始”。 
                  <p><a name="WS73099CC142F4875579AF7704115B7B67892-336D"></a>如果完成“光能传递”的计算，则应在视口中查看结果。灯光级别与几何体存储在一起，可以交互式地对模型进行导航而无需重新处理场景。 
                  </p> 
               </li>
               <li>再次单击 <img src="../images/GUID-86006E53-F3A5-4CDA-A11A-6E92CFA7540F-low.png">（“渲染产品”）。 
                  <p><a name="WS73099CC142F4875579AF7704115B7B67892-336C"></a>渲染器计算直接照明和阴影，然后将光能传递解决方案（间接照明）合成为调整后的环境光。 
                  </p> 
               </li>
            </ol> 
            <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A1900429B9"></a> 
               <h3><a name="GUID-B037896B-C658-4F57-B1EA-44BA9AFE99AA"></a>照明分析
               </h3> 
               <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51F0"></a>生成光能传递解决方案之后，可以使用<span class="char_link"><a href="GUID-BACD74AC-801F-4D0B-93A3-90E882C155F1.htm">“照明分析”工具</a></span>来分析场景中的照明级别。此对话框将提供材质反射比、投影比和亮度的数据。 
               </p> 
               <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51EF"></a>您还可以使用<span class="char_link"><a href="../files3dsmaxhelp/GUID-7FDACE20-5B5D-4DEF-ABDC-84B2732B0DF6.htm">伪彩色曝光控制</a></span>来交互式地显示场景中的灯光级别。渲染到渲染帧窗口将显示附加的渲染帧，该渲染帧的图像下面有一图例。该图例使照明级别和颜色之间相关联起来。 
               </p> 
               <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51EE"></a>如果要生成照明报告，可以使用<span class="char_link"><a href="../files3dsmaxhelp/GUID-19FFED9A-9E47-4EEB-9AE9-EF8A77C55D1D.htm">照明数据导出器工具</a></span>以将亮度和照度数据导出到 32 位 的 LogLUV <span class="char_link"><a href="../files3dsmaxhelp/GUID-4B119070-232F-4A74-AD83-3527C9521DA1.htm">TIFF 文件</a></span>中或一对 <span class="char_link"><a href="../files3dsmaxhelp/GUID-D5DEB38B-FCB8-4CA5-BA03-5E6D555F7216.htm">PIC 文件</a></span>中（一个用于亮度，一个用于照度）。 
               </p> 
               <div><a name="WS1A9193826455F5FF662FFB11407B58D52-70A9"></a><div class="note-note"><span class="label label-target-language">注意:</span>要获得照明级别最精确的数量分析，应当避免使用颜色材质和漫反射贴图。 
                  </div>
               </div> 
            </div> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A1900429BA"></a> 
            <h2><a name="GUID-F2F22873-CBE6-4081-A070-3FB5E20B3731"></a>基于非物理的工作流程
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51ED"></a>要将光能传递效果并入渲染，不一定要使用基于物理的灯光。但是必须要考虑一些问题： 
            </p> <a name="WS1A9193826455F5FFBA679E112A6A1900429BB"></a><ul>
               <li> <em class="strong">灯光：</em>由于光能传递引擎是基于物理性的，所以引擎将<span class="char_link"><a href="../files3dsmaxhelp/GUID-9A77B425-BB92-4234-B28B-177BF43856EA.htm">标准灯光</a></span>解释为<span class="char_link"><a href="../files3dsmaxhelp/GUID-E337DCA6-6B8D-4689-BCB8-6A6EEF06E6EE.htm">光学度灯光</a></span>。例如，倍增值为 1.0 的“标准聚光灯”灯光会转换为强度值为 1500 坎德拉（默认值）的“物理性聚光灯”灯光。这个转换值与各种曝光控制中的“物理比例”相对应。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51EC"></a>另外，如果“标准”灯光使用自定义的衰减设置（例如，无衰减、手动衰减或线性衰退），光能传递引擎将始终使用经过物理校正的“平方反比”衰减来解决这些灯光问题。这就意味着在曲面之间反弹的能量数量可能与“标准”灯光渲染的方式不相等。 
                  </p> 
               </li>
               <li><em class="strong">自然照明：</em>如果不使用上述基于物理的工作流程来模拟自然照明，则只可以对“太阳光”和<span class="char_link"><a href="../files3dsmaxhelp/GUID-E2795746-E982-48C8-8A0F-F8C8F43CE0D8.htm">天光</a></span>使用<span class="char_link"><a href="../files3dsmaxhelp/GUID-772D28D6-41C3-4C80-80AD-3774726E208F.htm">直接光</a></span>来产生<span class="char_link"><a href="../files3dsmaxhelp/GUID-DF3552FD-84AA-412C-803A-A43B0774979C.htm">天光</a></span>。 
               </li>
               <li> <em class="strong">曝光控制：</em>标准灯光是非物理性的，所以请将<span class="char_link"><a href="../files3dsmaxhelp/GUID-FCE53C6C-9C6F-4525-B4F0-64825AE2E3AF.htm">对数曝光控制</a></span>用于光能传递解决方案。确保启用“仅影响间接照明”。曝光控制的“亮度”和“对比度”控制仅影响光能传递解决方案，并且灯光会像通常那样进行渲染。 
               </li>
            </ul> <a name="WS1A9193826455F5FFBA679E112A6A1900429BC"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A1900429BD"></a>要处理采用标准照明的光能传递，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>确保几何体设置为物理校正比例。 </li>
               <li> 在<img src="../images/GUID-98173E20-D8BF-4A71-A169-42981748A8A8-low.png">“创建”面板上，单击<img src="../images/GUID-EE6A9DC1-43D8-4EEC-AE55-2C415AB62C52-low.png">（“灯光”）。在场景中创建并定位<span class="char_link"><a href="../files3dsmaxhelp/GUID-9A77B425-BB92-4234-B28B-177BF43856EA.htm">标准灯光</a></span>。 
               </li>
               <li>要预览照明，请单击<img src="../images/GUID-86006E53-F3A5-4CDA-A11A-6E92CFA7540F-low.png">（“渲染产品”）。 
                  <p><a name="WS73099CC142F4875579AF7704115B7B67892-336B"></a>在这个阶段，不会对光能传递进行处理，但是可以快速地确认直接照明是正确的。根据需要调整灯光的位置。 
                  </p> 
               </li>
               <li>选择“渲染”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“高级照明”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“光能传递”，并且确认出现的任何警报。在“选择高级照明”卷展栏上，请确保已启用“活动”。 
               </li>
               <li>要处理光能传递，请在“光能传递处理参数”卷展栏上，单击“开始”。如果完成“光能传递”的计算，则应在视口中查看结果。 </li>
               <li> 要显示<span class="char_link"><a href="../files3dsmaxhelp/GUID-EF33AEB1-44BE-403E-B4CC-3C29495988C2.htm">“环境”面板</a></span>（设置曝光控制的面板），则请在“光能传递处理参数”
                  卷展栏的“交互工具”组中，单击“设置”。 
               </li>
               <li>在使用基于非物理的灯光时，始终使用<span class="char_link"><a href="../files3dsmaxhelp/GUID-FCE53C6C-9C6F-4525-B4F0-64825AE2E3AF.htm">对数曝光控制</a></span>。在“对数曝光控制参数”卷展栏上，启用“仅影响间接照明”。 
                  <p><a name="WS73099CC142F4875579AF7704115B7B67892-336A"></a>这将会使曝光控制只影响光能传递解决方案的结果。这样，您就可以保持无需光能传递对直接光线渲染的方式。使用曝光控制的“亮度”和“对比度”控制来调节光能传递解决方案的强度，以与适当级别的照明相匹配。 
                  </p> 
                  <div><a name="WS1A9193826455F5FF662FFB11407B58D52-70A8"></a><div class="note-tip"><span class="label label-target-language">提示</span>可以使用预览缩略图来交互地调节亮度和对比度。 
                     </div>
                  </div> 
               </li>
               <li>要在光能传递处理之后渲染场景，请单击 <img src="../images/GUID-86006E53-F3A5-4CDA-A11A-6E92CFA7540F-low.png">（“渲染产品”）。 
               </li>
            </ol> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A1900429BE"></a> 
            <h2><a name="GUID-A730DD4B-EABF-4FEF-9D01-7147B85093CC"></a>小结
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-51EB"></a>下表旨在帮助您使用光能传递获得最佳效果。 
            </p> <a name="WS1A9193826455F5FFBA679E112A6A1900429BF"></a><div class="table-ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col width="23.65010799136069%">
                     <col width="38.01295896328294%">
                     <col width="38.33693304535637%">
                  </colgroup>
                  <tr class="ruled-heading">
                     <th class="table-heading">&nbsp;</th>
                     <th class="table-heading">基于物理的工作流程 </th>
                     <th class="table-heading">基于非物理的工作流程 </th>
                  </tr>
                  <tr class="ruled-odd-row">
                     <td class="table-body">灯光 </td>
                     <td class="table-body"> <span class="char_link"><a href="../files3dsmaxhelp/GUID-E337DCA6-6B8D-4689-BCB8-6A6EEF06E6EE.htm">光度学灯光</a></span> 
                     </td>
                     <td class="table-body"> <span class="char_link"><a href="../files3dsmaxhelp/GUID-9A77B425-BB92-4234-B28B-177BF43856EA.htm">标准灯光</a></span> 
                     </td>
                  </tr>
                  <tr class="ruled-even-row">
                     <td class="table-body">日光 </td>
                     <td class="table-body"> <span class="char_link"><a href="../files3dsmaxhelp/GUID-48339F56-F6C9-44AD-8B28-6C8DE3E5514C.htm">IES 太阳光</a></span>和 <span class="char_link"><a href="../files3dsmaxhelp/GUID-390804A1-324E-4B00-ACEF-52F80BD73A3B.htm">IES 天光</a></span> 
                     </td>
                     <td class="table-body"> <span class="char_link"><a href="../files3dsmaxhelp/GUID-E2795746-E982-48C8-8A0F-F8C8F43CE0D8.htm">直接光</a></span>和<span class="char_link"><a href="../files3dsmaxhelp/GUID-772D28D6-41C3-4C80-80AD-3774726E208F.htm">天光</a></span> 
                     </td>
                  </tr>
                  <tr class="ruled-odd-row">
                     <td class="table-body">曝光控制 </td>
                     <td class="table-body">任何 </td>
                     <td class="table-body"> <span class="char_link"><a href="../files3dsmaxhelp/GUID-FCE53C6C-9C6F-4525-B4F0-64825AE2E3AF.htm">对数</a></span> - 启用“仅影响间接照明”。 
                     </td>
                  </tr>
                  <tr class="ruled-even-row">
                     <td class="table-body">单位 </td>
                     <td class="table-body">确保场景设置为恰当的比例。 </td>
                     <td class="table-body">确保场景设置为恰当的比例。 </td>
                  </tr>
               </table>
            </div> 
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>