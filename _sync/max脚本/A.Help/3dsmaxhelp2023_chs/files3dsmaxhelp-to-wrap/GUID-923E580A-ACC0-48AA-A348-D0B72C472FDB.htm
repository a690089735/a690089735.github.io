<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-923E580A-ACC0-48AA-A348-D0B72C472FDB">
      <meta name="description" content="借助 DirectX 明暗器材质，可使用 DirectX (Direct3D) 明暗器对视口中的对象进行明暗处理。">
      <meta name="indexterm" content="DirectX 明暗器: DirectX 明暗器材质">
      <meta name="indexterm" content="DirectX 明暗器材质">
      <meta name="indexterm" content="材质类型: DirectX 明暗器">
      <meta name="indexterm" content="FX 文件（DirectX 效果）">
      <meta name="indexterm" content="文件类型: FX（DirectX 效果）">
      <meta name="indexterm" content="DirectX 明暗器: FX 文件">
      <meta name="topic-type" content="topic">
      <title>DirectX 明暗器材质</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-923E580A-ACC0-48AA-A348-D0B72C472FDB"></a><div class="head">
            <h1>DirectX 明暗器材质</h1>
         </div>
         <div class="abstract"> 
            <p><a name="GUID-68289BE9-A3E7-4364-AF06-1066015B6AF3"></a> 
            </p> 
            <p class="blurb">借助 DirectX 明暗器材质，可使用 DirectX (Direct3D) 明暗器对视口中的对象进行明暗处理。 
               	 
            </p> 
         </div><a name="UL_59CD0532DB1D40DE89FF1C920EC0EA91"></a><ul>
            <li> <span class="MenuCascade" id="GUID-B8FCEF7E-9E25-4EEE-ABB9-5D9C3D41914D">材质/贴图浏览器  <img src="../images/ac.menuaro.gif">  材质  <img src="../images/ac.menuaro.gif">  常规  <img src="../images/ac.menuaro.gif">  DirectX 明暗器</span> 
            </li>
         </ul>
         <p><a name="GUID-C88578C5-A95D-485D-839C-5625CDDCA485"></a>使用 DirectX 明暗处理，视口中的材质可以更精确地显现材质如何显示在其他应用程序中或在其他硬件上，如游戏引擎。可以使用此材质，当您使用 <span class="char_link"><a href="GUID-3D6B4C8E-8C0D-4A9C-BFB0-2463803268CE.htm#GUID-0A11B93B-155D-424D-9AEA-56E5B79618CE">Nitrous 驱动程序</a></span>（默认驱动程序为 Nitrous Direct3D 11）或<span class="char_link"><a href="GUID-4FB6180F-7C21-4B0E-903B-D25974C92FB7.htm">旧版 Direct3D 驱动程序</a></span>。 
            	 
         </p>
         <div><a name="GUID-354B3F2E-2B96-46BF-BCCE-FDFD06218382"></a><div class="note-tip"><span class="label label-target-language">提示</span>可以使用 <span class="char_link"><a href="GUID-1EC7526C-A684-4D34-B351-C1B1123615C9.htm">Quicksilver 硬件渲染器</a></span>来渲染 DirectX 明暗器材质。 
               	 
            </div>
         </div>
         <div><a name="WS1A9193826455F5FF-4F542F6211C79DEA861-445"></a><div class="note-note"><span class="label label-target-language">注意:</span>通常，只有在兼容的驱动程序处于活动状态时，此材质才会显示在“材质/贴图浏览器”中。如果此材质不可见，则选择<span class="char_link"><a href="GUID-6FA7C07F-8631-4E05-8C30-DCDB6EE12BC9.htm">“材质/贴图浏览器选项”</a></span> <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“显示不兼容”时，会显示此材质（灰显）。 
               	 
            </div>
         </div>
         <p><a name="WS1A9193826455F5FF-4F542F6211C79DEA861-443"></a>“DirectX 明暗器”材质使用 FX 文件。FX 文件定义了一个 DirectX（DX9 或 DX11）明暗器。FX 文件是使用“高级渲染语言”（HLSL）标准创建的文本文件。 
            	 
         </p>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-2F70"></a>默认情况下，DirectX 明暗器（包括 FX 文件）保存在 3ds Max 程序目录下的 <em class="mild"> <span class="filePath">\maps\fx\</span> </em> 中。 
            	 
         </p>
         <div><a name="WS1A9193826455F5FF662FFB11407B58D5213F0"></a><div class="note-important"><span class="label label-target-language">重要信息:</span>为了使 DirectX 明暗器的参数能够在 DirectX 明暗器材质界面中可见，FX 文件必须包含标示参数、定义参数类型和限制参数范围（可选）的代码。（也要提供一些其他的 UI 设置。）可在 3ds Max 程序目录的 <em class="mild">\maps\fx\</em> 下找到包含此代码的示例文件。 
               	 
            </div>
         </div>
         <p><a name="GUID-134B8294-98A1-426B-9808-EA182636012C"></a> “DirectX 明暗器”材质为您提供访问 <span class="char_link"><a href="GUID-D7F76613-E3E3-473E-A26D-717BB135BD17.htm">ShaderFX</a></span> 的权限，通过其可创建硬件明暗器树，并将它们保存为 HLSL、CGFX 或 GLSL 文件。您可以使用 FX 文件扩展名保存 HLSL 文件，使这些文件可用于“DirectX 明暗器”材质。 
            	 
         </p>
         <p><a name="GUID-C0AD171A-10CC-4139-B12F-FCA1BB4F2655"></a><span class="char_link"><a href="GUID-1EC7526C-A684-4D34-B351-C1B1123615C9.htm">Quicksilver 硬件渲染器</a></span>可以渲染使用 FX 文件或 ShaderFX 树的 DirectX 材质。 
            	 
         </p>
         <div><a name="GUID-072CBE83-5950-4D49-A838-1E7694F88177"></a><div class="note-note"><span class="label label-target-language">注意:</span>“DirectX 明暗器”材质不会加载 CGFX 明暗器文件。 
               	 
            </div>
         </div>
         <div><a name="GUID-11F583F9-2198-43E3-87BE-CB2C7CC5DCD7"></a><div class="note-note"><span class="label label-target-language">注意:</span>Autodesk 3ds Max 2014 修正了 2014 以前版本中出现的<span class="char_link"><a href="GUID-BFFFC7F4-8B39-435C-9015-A38245A3250B.htm">“法线凹凸”贴图</a></span>问题，其中此版本的 3ds Max 使用不同于其他渲染系统的切线基础生成方法。无法更改此方法。自版本 2014 起，3ds Max 提供了三种模式，每一个都与一种特定方法兼容：3ds Max、Maya 和 DirectX。请参见<span class="char_link"><a href="GUID-86205F0D-6143-432A-B0D4-5CCC4DB2699F.htm#GUID-F1CB3C9F-6128-417A-826F-9C96BBA6ED1F">“法线凹凸模式”组</a></span>。 
               	 
            </div>
         </div>
         <div class="section"><a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EB6"></a> 
            <h2><a name="GUID-E113F4F8-2DEF-4990-8E53-A8A4EC340A35"></a>灯光支持
            </h2> 
            <p><a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EB5"></a>通常，FX 明暗器编码为使用特定数量的灯光：通常只使用单个灯光。如果您打开的 FX 文件是这样编码的，则特定于明暗器的卷展栏会显示一个控件，供您选择要使用的灯光。例如： 
               		
            </p> <a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EB4"></a><div class="figure-anchor"><img src="../images/GUID-E9FC0D25-3A39-47DB-970E-83ACBCC5AFF6-low.png"></div>  
            <p><a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EB3"></a>另一方面，XMSL 明暗器未编码为使用特定的灯光，因此它们使用场景中的所有活动灯光。 
               		
            </p> 
         </div>
         <div class="section"><a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EB2"></a> 
            <h2><a name="GUID-03F2A97A-1516-4916-ACA5-1F52F96BB168"></a>位图支持
            </h2> 
            <p><a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EB1"></a>将贴图分配给 DirectX 明暗器的可处理贴图的组件时，可从以下贴图类型中进行选择： 
               		
            </p> <a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EB0"></a><ul>
               <li>所有 DX 格式 
                  			 
                  <p><a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EAE"></a>显示此列表的其余位置列出的所有文件类型。 
                     			 
                  </p> 
               </li>
               <li> <span class="char_link"><a href="GUID-4177A533-A98F-484F-BB25-88828B1EC5BA.htm">BMP 文件</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-2F15E3CD-E234-411F-B086-3E3970D98D69.htm">DDS 文件</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-5320BBD3-9374-4B0A-83E7-359F824BCAB0.htm">JPEG 文件</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-699A45EF-201D-4CFD-A3B2-7EC439CB5479.htm">辐射图像 (HDR) 文件</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-DEDEE7A3-8B3F-4A00-B156-E6771EE3FFEC.htm">PNG 文件</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-5EFDBA7D-0849-4089-AE27-0968DCEC800A.htm">PSD 文件</a></span> 
                  <p><a name="WS73099CC142F487557CB2BAEA11CFFB8ADB7-6EA8"></a>打开包含层的 Photoshop PSD 文件时，3ds Max 会显示一个对话框，在该对话框中您可以选择是折叠层并显示合成图像，还是只使用单个层。 
                     			 
                  </p> 
               </li>
               <li> <span class="char_link"><a href="GUID-C2C7C2F8-083F-4FDC-93AD-AD1D3F5045FD.htm">TGA 文件</a></span> 
               </li>
            </ul> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-2A2C"></a> 
            <h2><a name="GUID-B4F10612-1AC0-4F3F-9967-47555D074F92"></a>界面
            </h2> 
            <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A19004-5BF"></a> 
               <h3><a name="GUID-9B9A986F-0268-4754-9CB1-E4D07B4465F5"></a> “DirectX 明暗器”卷展栏
               </h3> <a name="WS1A9193826455F5FFBA679E112A6A19004-5BE"></a><div class="figure-anchor"><img src="../images/GUID-DF09390A-4749-4456-BB9B-1D7AB7C2460C-low.png"></div>  <a name="GUID-C1704022-06D5-4AF8-AE90-D460C120BB2A"></a><dl>
                  <dt><a name="GUID-28265867-F6DD-4CBF-A6CD-1BF1F0FF5346"></a><span class="term"><a name="GUID-B936CEF2-CE28-4BB8-9EA4-76F623ED8FEA"></a> [方法下拉列表]</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-9F7766DD-5640-43DE-865A-17B114FA53AD"></a> <a name="FIG_9304F46A908E4B70A71906690737DFCF"></a><div class="figure-anchor"><img src="../images/GUID-718FF536-F383-432E-B502-B579111E3B2F-low.png"></div>  
                        <p><a name="GUID-04050526-1AA0-49B2-855A-947BB69A629F"></a>使用该菜单可选择 DirectX 方法： 
                           		  
                        </p> <a name="UL_652F4210868A4570AA58C32B3CEE4438"></a><ul>
                           <li><em class="strong">HLSL 文件</em>（默认设置。）选择该选项可使用 HLSL (FX) 文件。 
                              			 
                           </li>
                           <li><em class="strong">ShaderFX</em> 选择该选项可使用当前 <span class="char_link"><a href="GUID-D7F76613-E3E3-473E-A26D-717BB135BD17.htm">ShaderFX 明暗器树</a></span>作为活动的 DirectX 材质。 
                              				
                              <p><a name="GUID-7F8518F8-D0CA-49BE-83ED-059ECF8D5C78"></a>当“使用 ShaderFX”处于活动状态时，ShaderFX 节点树将覆盖当前 FX 或 XMSL 明暗器。 
                                 				
                              </p> 
                              <div><a name="GUID-4F37CA72-3D34-452B-9A7B-D8A0514A3B36"></a><div class="note-note"><span class="label label-target-language">注意:</span>启用了 ShaderFX 时，“材质编辑器”中的“参数”卷展栏会显示用于 ShaderFX 明暗器树的控件。当禁用此选项后，该卷展栏会显示用于任何其他处于活动状态的 DirectX 明暗器的控件。 
                                    				
                                 </div>
                              </div> 
                           </li>
                           <li><em class="strong">Interactive</em> 选择此选项可使用 <span class="char_link"><a href="GUID-7EEAC650-7D26-40AE-AC14-577F7A2EF2B3.htm">Interactive 基于物理的明暗器</a></span>。 
                              				
                              <p><a name="GUID-098E60D1-3854-406D-A91C-D51758031DC6"></a>Interactive 明暗器（例如 ShaderFX）使用 ShaderFX 编辑器。 
                                 				
                              </p> 
                           </li>
                        </ul> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF-4F542F6211C79DEA861-ADD"></a><span class="term"><a name="WS73099CC142F4875513F8D121131880AB2F-76A7"></a>[明暗器按钮]</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E1D0EC60D1772"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA8754D37"></a>HLSL 文件处于活动状态时，单击此按钮可显示一个文件对话框，用于打开明暗器。默认情况下，FX 格式（Direct3D 效果）处于活动状态时，明暗器将为 <em class="mild">standardfx11.fx</em>。 
                           		  
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF-4F542F6211C79DEA861-ADC"></a><span class="term"><a name="WS73099CC142F4875513F8D121131880AB2F-76A6"></a>重新加载</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E1D0EC60D1773"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA8754D38"></a>HLSL 文件处于活动状态时，单击此按钮可重新加载活动的明暗器文件。要更新明暗器文件，可以编辑它，然后单击“重新加载”。不必重新启动 3ds Max 就可以查看对明暗器的更改所产生的效果。 
                           		  
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="GUID-0772D343-FAF6-4D60-AE91-B224318E3B69"></a><span class="term"><a name="GUID-6D40EC10-85AF-44DA-A63A-C3B4BAB3ABDE"></a> 打开 ShaderFX</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-5061C091-D8D6-496E-9F28-EA3696EA8DD6"></a>在 ShaderFX 或 Interactive 处于活动状态时，单击此按钮可打开 ShaderFX 编辑器窗口。 
                     </div>
                  </dd>
               </dl> 
            </div> 
            <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A19004-5BD"></a> 
               <h3><a name="GUID-4B91D155-14AB-426C-9116-1ADEE75F8CE7"></a>“明暗器特定”卷展栏
               </h3> 
               <p><a name="WS73099CC142F4875513F8D121131880AB2F-76A5"></a>出现在“DirectX 明暗器”卷展栏下面、“技术”卷展栏上面的卷展栏是您所选择的明暗器的界面。这些卷展栏是每个明暗器特定的卷展栏。 
                  		  
               </p> <a name="WS1A9193826455F5FF-2248B67F12850E5FD4867F5"></a><div class="figure-anchor"><img src="../images/GUID-D9D1652C-90B2-40DF-BB31-143B18DF100A-low.png"><p class="figure-title"><em class="mild">default10.fx</em> 明暗器的参数
                  </p>
               </div>  
            </div> 
            <div class="section"><a name="SECTION_F5CA0C6A606F49AE99A0D5A651A85BD8"></a> 
               <h3><a name="GUID-034ADBF0-BCEA-4622-A89B-49F29F04B9BE"></a>“技术”卷展栏
               </h3> 
               <p><a name="GUID-C2B94529-3EEF-4943-89FE-F3A2DE8992EC"></a>一个 FX 文件可以包含多个明暗器。打开其中一个明暗器时，“技术”卷展栏具有一个下拉列表，可供您选择材质将使用的明暗器。 
                  		  
               </p> <a name="FIG_B18F9DBC71144CC08811D0B362CFA531"></a><div class="figure-anchor"><img src="../images/GUID-068814D5-0606-4F72-A32A-531B0157E2F1-low.png"></div>  
            </div> 
            <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A19004-5BC"></a> 
               <h3><a name="GUID-26F31396-9989-457A-8D41-E3976F484316"></a>“软件渲染方式”卷展栏
               </h3> <a name="WS1A9193826455F5FFBA679E112A6A19004-5BB"></a><div class="figure-anchor"><img src="../images/GUID-9EEFB850-CF01-481B-A006-15E306258D6A-low.png"></div>  
               <p><a name="WS73099CC142F4875513F8D121131880AB2F-76A4"></a>指定材质以控制软件明暗处理和应用了 DirectX 明暗器材质的对象的渲染。Nitrous 和旧版 Direct3D 视口使用 DX 明暗处理。OpenGL 视口则不使用。非 <span class="char_link"><a href="GUID-1EC7526C-A684-4D34-B351-C1B1123615C9.htm">Quicksilver 硬件渲染器</a></span>的渲染使用软件明暗处理。 
                  		  
               </p> 
               <p><a name="WS73099CC142F4875513F8D121131880AB2F-76A3"></a>通常您希望选择明确标明场景中哪些对象已应用了 DirectX 明暗器材质的材质。 
                  		  
               </p> 
               <div><a name="WS73099CC142F48755BE5C71114081FCAA9-7A97"></a><div class="note-note"><span class="label label-target-language">注意:</span>DirectX 明暗器材质对软件明暗处理没有特定设置。任何类型的 3ds Max 材质都将如此。以前版本的使用 DX 特定设置的场景会被指定具有同等渲染属性的标准材质。 
                     		  
                  </div>
               </div> 
               <p><a name="WS1A9193826455F5FF-4F542F6211C79DEA861-439"></a>如果您的系统上无法使用 DirectX，但您仍然指定了 DirectX 明暗器材质（通过使用“材质/贴图浏览器”的“不兼容”选项），则“材质编辑器”中仅显示此卷展栏。 
                  		  
               </p> 
            </div> 
            <div class="section"><a name="SECTION_49BD2E8CFDD543999E7443633517079B"></a> 
               <h3><a name="GUID-906CF757-A687-413C-B652-CE727DE29871"></a>Interactive 卷展栏
               </h3> <a name="FIG_E74665C5FD3C4F689858C14E9A1FF767"></a><div class="figure-anchor"><img src="../images/GUID-60304094-A932-47D2-90C3-AB52F67B1162-low.png"></div> 
               <div style="margin-top: 9pt;"><a name="GUID-48C269A4-4511-49D2-9F33-B05E53352341"></a><div class="note-note"><span class="label label-target-language">注意:</span>在 3ds Max 2018.4 Update 中，Stingray 基于物理的明暗器被重命名为 <em class="mild">Interactive</em>。 
                     		  
                  </div>
               </div> 
               <p>Interactive 卷展栏用于 Interactive 明暗器。 
                  		  
               </p> 
               <dl><a name="GUID-DD0F442C-C934-4ACA-90C0-1DF4F1548FC2"></a><dt><span class="term">引擎资源 
                        				</span></dt>
                  <dd>
                     <div class="definition">将材质映射到 Max Interactive 引擎的路径。这是必填项，因为所有材质都不包含在 FBX 文件中，只包含应用于场景中节点的材质。如果对象从 3ds Max Interactive 发送到 3ds Max，对象的材质将自动映射到引擎资源。映射引擎资源以后，如果将在
                        3ds Max Interactive 中发生更改的材质发送到 3ds Max，3ds Max 中的属性将自动更新。 
                        				
                     </div>
                  </dd><a name="GUID-F20B6399-6C69-45C8-A926-87224E7E183F"></a><dt><span class="term">使唯一 
                        				</span></dt>
                  <dd>
                     <div class="definition">打开“明暗器图形编辑器”。 
                        				
                     </div>
                  </dd><a name="GUID-26448263-75AC-48F4-A714-ADC2D3DD8395"></a><dt><span class="term">预设材质 
                        				</span></dt>
                  <dd>
                     <div class="definition">为了避免重复创建相同的明暗器图形，可以创建并保存预设明暗器图形，然后在下次创建 Interactive 明暗器时重用此预设。 
                        				
                     </div>
                  </dd><a name="GUID-E79A6D26-493A-43D2-8BD0-58FA730A1B33"></a><dt><span class="term">父材质 
                        				</span></dt>
                  <dd>
                     <div class="definition">包含预设明暗器图形的材质。您可以基于父材质创建子材质。子材质从父材质继承明暗器图形和材质属性。 
                        				
                     </div>
                  </dd>
               </dl> 
            </div> 
         </div>
         <div class="related-topics"><span class="noindex">
               <div class="related-information">
                  <h4 class="related">相关信息</h4>
                  <ul>
                     <li class="topiclist-litem"><a href="GUID-374EFE09-6CB0-4309-975B-E181C47746E3.htm">受支持的贴图和明暗器（Quicksilver 渲染器）</a></li>
                     <li class="topiclist-litem"><a href="GUID-B032AA9C-6271-4286-9934-1B19F29C0CCB.htm">mr Physical Sky</a></li>
                     <li class="topiclist-litem"><a href="GUID-F16892B2-5189-44BC-89B2-A520E57E40AF.htm">Gamma &amp; Gain (mental ray)</a></li>
                  </ul>
               </div></span></div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>