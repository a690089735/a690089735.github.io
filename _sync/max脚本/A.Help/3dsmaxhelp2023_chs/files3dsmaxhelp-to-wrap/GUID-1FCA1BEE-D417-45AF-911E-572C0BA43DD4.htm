<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-1FCA1BEE-D417-45AF-911E-572C0BA43DD4">
      <meta name="description" content="运动捕获和标记数据在每一帧具有代表性的关键点。过滤运动捕获数据以减少关键点，来简少修改或个性化运动数据的工作量。">
      <meta name="indexterm" content="运动捕获: 过滤数据">
      <meta name="indexterm" content="运动捕获: 标记数据">
      <meta name="indexterm" content="标记文件: 导入">
      <meta name="indexterm" content="运动捕获: 步骤">
      <meta name="topic-type" content="concept">
      <title>过滤运动捕捉与标记数据</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-1FCA1BEE-D417-45AF-911E-572C0BA43DD4"></a><div class="head">
            <h1>过滤运动捕捉与标记数据</h1>
         </div>
         <div class="abstract"> 
            <p><a name="GUID-486C569A-6A8F-46AA-B0A4-E95DB9140278"></a> <img src="../images/GUID-771253F1-2195-4598-8E09-46D4CE4DAE82-low.png"> 
            </p> 
            <p class="blurb">运动捕获和标记数据在每一帧具有代表性的关键点。过滤运动捕获数据以减少关键点，来简少修改或个性化运动数据的工作量。 
               
            </p> 
         </div>
         <div class="bodyReference"><a name="UL_9338DB0C4C76444DA3359F2BB2F5DA20"></a><ul>
               <li> <span class="MenuCascade" id="GUID-F054941F-22A9-4776-9CAE-DBA6B1F02D49"> 选择 Biped。 <img src="../images/ac.menuaro.gif"> “运动”面板  <img src="../images/ac.menuaro.gif"> “运动捕捉”卷展栏  <img src="../images/ac.menuaro.gif">  单击“加载运动捕捉文件”</span> 
               </li>
            </ul>
            <p><a name="WS73099CC142F487552A50A53111913E7C26F-77CD"></a>Biped 使用其自己的过滤设置来过滤每个轨迹的数据，因此不用以不希望有的关键点填充轨迹剩余部分，这样同样可以控制想要选取的只有细微差别的运动。使用“运动捕获参数转换”卷展栏完成过滤。 
               
            </p>
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16622"></a>其它过滤选项包括足迹过滤和提取、循环数据和导入部分运动捕获文件。 
               
            </p>
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16623"></a> <span class="charspan-msgph">3ds Max</span> 附带了多种原始（未过滤的）运动捕获数据文件，这些文件以 BIP、CSM 和 BVH 格式保存。某些相同数据在多种过滤中都是可用的，无论是以足迹还是自由形式。可以在这些数据的原始版本中尝试您自己的过滤调整。当选择了“运动捕捉”卷展栏上的“显示缓冲区”，那么会导入原始数据以精确显示原始运动。调整和细化被过滤数据时以运动捕获缓冲区为基准。在“运动捕捉”卷展栏中有一些工具可用来帮助实现该过程。
               
               
            </p>
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16624"></a>可以通过保存 BIP 文件来创建自己的导入或优化运动捕捉数据库，供其他角色使用或作为“运动流”模式下较长脚本的一部分。使用没有用 Physique 附加网格的 Biped。 
               
            </p>
            <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E787"></a><div class="note-tip"><span class="label label-target-language">提示</span>总的来说，导入数据，按需要调整它，并将它保存为 BIP 文件。您还可以通过此过滤处理运行标准的 BIP 文件，以根据自由形式的动画创建循环或提取足迹。 
                  
               </div>
            </div>
            <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E788"></a><div class="note-note"><span class="label label-target-language">注意:</span>标记文件（比如 CSM）包含位置数据。分层运动捕捉文件，如 BVH，包含关节旋转数据。 
                  
               </div>
            </div><a name="WS1A9193826455F5FFBA679E112A6A190045B05"></a><div class="figure-anchor"><img src="../images/GUID-67C80640-596B-432C-BC59-C9F463F7F739-low.png"><p class="figure-title">“运动捕捉”卷展栏</p>
            </div>
            <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190045B06"></a> 
               <h2><a name="GUID-601FAEBA-11F4-45B6-AD7C-B0ADBF110284"></a>character studio 标记文件
               </h2> 
               <p><a name="WS73099CC142F4875514C01AC112A7ACEF16625"></a><span class="char_link"><a href="GUID-F77B03E5-268C-4DBF-B3B5-D1713336549A.htm#WS1A9193826455F5FF11D4ED1B128F2317A082F0F">character studio 生成器 (CSM) 格式</a></span>是一种 ASCII 文件格式，它用于将位置标记数据从运动捕捉系统导入到 Biped 中。 
                  
               </p> <a name="WS1A9193826455F5FFBA679E112A6A190045B07"></a><div class="figure-anchor"><img src="../images/GUID-FAFF4E1B-6C88-4FB4-BA93-098AA91A8FD6-low.png"><p class="figure-title">“显示标记”命令显示标记的位置和名称。</p>
               </div>  
            </div>
            <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-4678"></a> 
               <h2><a name="GUID-4387C339-B9D0-40CA-810F-A5C4C5C49822"></a>过程
               </h2> <a name="WS1A9193826455F5FFBA679E112A6A190045B08"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190045B09"></a>要导入一个运动捕获文件，请执行以下步骤：
               </p>
               <ol type="1" start="1">
                  <li> 选择 Biped。 
                     	 
                  </li>
                  <li>在“运动捕捉”卷展栏上，单击“加载运动捕捉文件”。 
                     	 
                  </li>
                  <li>选择文件类型：BVH、BIP 或 CSM。 
                     		
                     <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E789"></a><div class="note-tip"><span class="label label-target-language">提示</span>首次加载的 CSM 标记文件导入时应该没有关键点和足迹提取。这样会启用校准按钮。通常，标记文件需要一些校准。 
                           		
                        </div>
                     </div> 
                  </li>
                  <li>选择一个文件并单击“打开”。 
                     		
                     <p><a name="WS73099CC142F4875514C01AC112A7ACEF16626"></a><span class="charspan-msgph">3ds Max</span> 将打开“运动捕获转化参数”对话框（请参阅<span class="char_link"><a href="GUID-3559D99C-B946-4C37-B845-D90087B963D3.htm">“运动捕获转化参数”对话框</a></span>）。 
                        		
                     </p> 
                  </li>
                  <li>选择想要的过滤器选项，然后单击“确定”。 
                     		
                     <p><a name="WS73099CC142F4875514C01AC112A7ACEF16627"></a>Biped 使其自身适用于运动数据。如果打开“足迹提取”，就会显示足迹。 
                        		
                     </p> 
                     <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E78A"></a><div class="note-tip"><span class="label label-target-language">提示</span>使用没有用 Physique 附加网格的 Biped。导入运动捕获数据，然后保存一个 BIP 文件以使任何角色都可以使用。如果从运动捕获文件中导入了骨骼缩放信息，那么含有 Physique 修改器的网格可能会不自然地变形。 
                           		
                        </div>
                     </div> 
                  </li>
               </ol> <a name="WSF742DAB041063133728B9B2112A1CE7292-7ED6"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190045B0A"></a>要导入标记文件，请执行以下操作：
               </p>
               <p><a name="WS73099CC142F4875514C01AC112A7ACEF16628"></a>通常，当第一次加载标记文件时，需要进行比例和位置校准。必须以不减少关键点和不进行足迹提取的方式加载原始标记文件以便启用校准功能。执行校准后，使用“从缓冲区转换”提取足迹并减少关键点。 
                  
               </p>
               <ol type="1" start="1">
                  <li> 选择 Biped。 
                     
                  </li>
                  <li>在“运动捕捉”卷展栏上，单击“加载标记名称文件”以加载标记名称文件 (<em class="mild"> <span class="filePath">.mnm</span> </em>)。 
                     	 
                     <p><a name="WS73099CC142F4875514C01AC112A7ACEF16629"></a>如果标记文件中的标记名称遵循 Character studio 标记命名约定，就不需要执行此步骤。 
                        	 
                     </p> 
                  </li>
                  <li>在“标记名称文件”对话框中，单击“加载 CSM 标记文件”，并从出现的文件打开对话框中选择 MNM 文件。 
                     
                  </li>
                  <li>在“运动捕捉”卷展栏上，单击“加载运动捕捉文件”并选择 CSM 标记文件。 
                     	 
                     <p><a name="WS73099CC142F4875514C01AC112A7ACEF1662A"></a><span class="charspan-msgph">3ds Max</span> 将打开“运动捕获转化参数”对话框（请参阅<span class="char_link"><a href="GUID-3559D99C-B946-4C37-B845-D90087B963D3.htm">“运动捕获转化参数”对话框</a></span>）。 
                        	 
                     </p> 
                  </li>
                  <li>调整过滤器参数并单击“确定”。 
                     	 
                     <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E78B"></a><div class="note-note"><span class="label label-target-language">注意:</span>加载原始标记数据（无关键点减少、自由形式）来使能标记校准按钮。Biped 自适应于标记数据。 
                           	 
                        </div>
                     </div> 
                  </li>
                  <li>在“运动捕捉”卷展栏上，单击“显示标记”。在“标记显示”对话框中，打开“显示识别的标记”和“在所有对象上”选项。 
                     
                  </li>
                  <li>现在，在“运动捕捉”卷展栏上，单击“特征体形模式”。使用“选择并非均匀缩放”或“Biped”卷展栏 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“橡皮圈模式”按显示的标记调整 Biped 的大小。 
                     	 
                     <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E78C"></a><div class="note-note"><span class="label label-target-language">注意:</span>该步骤是可选的，但是如果需要在原运动特征和导入数据后的 Biped 比例之间更正肢体比例的微小差别，那么应当使用这一步骤。例如，如果腿部太短，那么可以在“特征体形模式”中缩放腿部长度以调节膝部位置。 
                           	 
                        </div>
                     </div> 
                  </li>
                  <li>再次单击“特征体形模式”退出该模式。 
                     	 
                     <p><a name="WS1A9193826455F5FF-75C1F7C3124F51CCBD1-1582"></a>退出“特征体形模式”时会发生关键点调整。现在，就可以进行调整 Biped 相对于标记的肢体位置了。 
                        	 
                     </p> 
                  </li>
                  <li>如有必要，使 Biped 的肢体与标记对齐，然后单击“调整特征姿势”来计算整个动画的偏移。 
                     
                  </li>
                  <li>使用“保存特征体形结构”将结构保存为 FIG 文件，使用“保存特征姿势调整”将姿势保存为 CAL 文件。 
                     
                  </li>
                  <li>当以后导入类似的标记文件时请在“运动捕获参数转换”对话框中加载这些文件。 
                     	 
                     <p><a name="WS73099CC142F4875514C01AC112A7ACEF1662C"></a>此时，可以使用“从缓冲区转化”来提取足迹和减少关键帧。比例和位置调整都会并入此过程。将运动保存为优化后的 BIP 格式文件。 
                        	 
                     </p> 
                  </li>
               </ol> 
            </div>
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>