<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-17">
      <meta name="topicid" content="GUID-2C52CD7A-8FBF-4135-B677-2B49D21BC868">
      <meta name="description" content="“摄影机匹配”工具使用位图背景照片和 5 个或多个特殊的“CamPoint”对象以创建或修改摄影机，以便其位置、方向和视野与创建原始照片的摄影机的这些项相匹配。">
      <meta name="indexterm" content="“工具”菜单: 摄影机匹配">
      <meta name="indexterm" content="摄影机匹配: 摄影机匹配工具">
      <meta name="indexterm" content="工具: 摄影机匹配">
      <meta name="indexterm" content="疑难解答: 摄影机匹配">
      <meta name="contextid" content="TOPIC_CAMERA_MATCH_UTILITY">
      <meta name="topic-type" content="concept">
      <title>摄影机匹配工具</title><script language="javascript">var index = 'index.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-2C52CD7A-8FBF-4135-B677-2B49D21BC868"></a><div class="head">
            <h1>摄影机匹配工具</h1>
         </div>
         <p class="blurb">“摄影机匹配”工具使用位图背景照片和 5 个或多个特殊的“CamPoint”对象以创建或修改摄影机，以便其位置、方向和视野与创建原始照片的摄影机的这些项相匹配。 </p><a name="GUID-D17BB2F3-0633-4BEB-9DFA-81DE4363EAFD"></a><ul>
            <li> <span class="MenuCascade" id="GUID-8B10004B-4B9C-499E-808E-9E186634EB11"> <img src="../images/GUID-26D492F7-3E48-4209-AB7B-FEC655C6DA3D-low.png">“实用程序”面板  <img src="../images/ac.menuaro.gif"> “实用程序”卷展栏  <img src="../images/ac.menuaro.gif"> “更多” <img src="../images/ac.menuaro.gif"> “实用程序”对话框  <img src="../images/ac.menuaro.gif">  选择“摄影机匹配”，然后单击“确定”。</span> 
            </li>
         </ul>
         <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-2B88"></a> 
            <h2><a name="GUID-04C521B8-18C2-4DAB-AD5D-276CBCB98139"></a>过程
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54B4"></a>下面的步骤中介绍了使用“摄影机匹配”时要遵循的常规过程。 
            </p> <a name="WS1A9193826455F5FFBA679E112A6A1900485F"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A19004860"></a>要使用摄影机进行匹配，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>将位图加载为渲染器的背景。 </li>
               <li>将位图加载为视口的背景。 </li>
               <li>在位图上至少识别用于匹配的 5 种功能。这些应该是可以识别和跟踪的对象或场景中对象的角。它们看起来仍然在整个场景中，并且不应该使其形状更改太多，否则它们将不起作用。 </li>
               <li>创建<span class="char_link"><a href="../files3dsmaxhelp/GUID-E25348C2-8DF3-4027-8F7A-5A7138D23BFF.htm">摄影机点</a></span>，这些点是位于以下位置的辅助对象：<img src="../images/GUID-98173E20-D8BF-4A71-A169-42981748A8A8-low.png">“创建”面板 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif"><img src="../images/GUID-9A23D2B8-9CE2-40BE-98B6-651DBC94F4F7-low.png">（辅助对象）<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“摄影机匹配”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“对象类型”卷展栏 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“摄影机点”，以及“创建”菜单 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“辅助对象”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“摄影机点”。（对于增强型菜单，可以在“对象”菜单上找到“摄影机点”。） 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54B3"></a>必须精确测量场景中至少 5 种功能之间的距离，这些功能并不都位于一个平面上。尽量使用在整个场景中分布的点，而不使用前面或后面中的所有群集的功能。这样将获得更精确的效果。 
                  </p> 
               </li>
               <li>定位这些“摄影机点”使之与照片中的点相对应。可以使用<span class="char_link"><a href="../files3dsmaxhelp/GUID-B9779BBF-5B04-44EF-95EC-465DD7267707.htm">变换输入</a></span>来使这些点放置在 3D 空间中正确的位置。 
               </li>
               <li>使用“摄影机匹配”工具将“摄影机点”指定给位图上像素的位置。 </li>
               <li>选择“创建摄影机”并且创建与照相的摄影机相匹配的摄影机。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54B2"></a>如果存在错误并且无法创建摄影机，则重新调整 3D 空间中点的位置，并将它们重新指定给位图。很容易出现错误，但改正之后匹配将起作用。 
                  </p> 
               </li>
            </ol> <a name="WS1A9193826455F5FFBA679E112A6A19004861"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A19004862"></a>要建立渲染器的位图背景，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>重置 <span class="charspan-msgph">3ds Max</span> 并使“透视”视口充满整个屏幕。 
               </li>
               <li>从“渲染”菜单上中，选择“环境”。 </li>
               <li>在“公用参数”卷展栏中，“环境贴图”下，单击标记为“无”的灰色框。这将启动“材质/贴图浏览器”。 </li>
               <li>务必将“浏览器”设置为“新建”；如果没有设置，则从列表中选择“位图”并单击“确定”。将出现“选择位图图像文件”对话框。 </li>
               <li>导航并选择相应的位图，然后选择“打开”。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54B1"></a>自动启用“贴图”。 
                  </p> 
               </li>
               <li>渲染视口以验证背景显示在渲染中。按 <span class="keyboardEntry">Shift+Q</span> 可进行渲染。 
               </li>
            </ol> <a name="WS1A9193826455F5FFBA679E112A6A19004863"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A19004864"></a>要建立显示在视口中的位图背景，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>选择“视图”菜单 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“视口背景”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“自定义图像文件”。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54B0"></a>这样将打开“视口配置”对话框 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif"> <span class="char_link"><a href="../files3dsmaxhelp/GUID-D1419AE6-1CDE-44FC-8D46-E77F8F4DD2D0.htm">“背景”面板</a></span>。 
                  </p> 
               </li>
               <li>在“背景源”组中，单击“文件”。这样将启动“选择背景图像”对话框。 </li>
               <li>导航并选择相应的位图，然后选择“打开”。 </li>
               <li>设置“纵横比”以“匹配位图”。 </li>
               <li>确保启用“显示背景”，然后选择“确定”。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54AF"></a>背景出现在视口中。 
                  </p> 
                  <div><a name="WS1A9193826455F5FF662FFB11407B58D52-6ABB"></a><div class="note-note"><span class="label label-target-language">注意:</span>可以单击“使用环境背景”按钮，但之后没有“纵横比”控件。 
                     </div>
                  </div> 
               </li>
            </ol> <a name="WS1A9193826455F5FFBA679E112A6A19004867"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A19004868"></a>要创建“摄影机点”对象，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>执行下列操作之一： <a name="WS73099CC142F487557BFAA8DA122EC01152F541A"></a><ul>
                     <li>在 <img src="../images/GUID-98173E20-D8BF-4A71-A169-42981748A8A8-low.png">“创建”菜单上，启用 <img src="../images/GUID-9A23D2B8-9CE2-40BE-98B6-651DBC94F4F7-low.png">（辅助对象），再从下拉列表中选择“摄影机匹配”，然后在“对象类型”卷展栏上启用“摄影机点”。 
                     </li>
                     <li>选择“创建”菜单 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“辅助对象”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“摄影机点”。（对于增强型菜单，可以在“对象”菜单上找到“摄影机点”。） 
                     </li>
                  </ul> 
               </li>
               <li>在场景中的任意位置创建摄影机点对象，并重新选择其中的每个对象，使用“变换输入”来输入它们的绝对坐标。 </li>
               <li>打开“键盘输入”卷展栏。 </li>
               <li>输入第一个“摄影机点”对象的坐标 (0,0,0)，单击“创建”按钮，然后在名称字段中输入名称。 
                  <div><a name="WS1A9193826455F5FF662FFB11407B58D52-6ABA"></a><div class="note-tip"><span class="label label-target-language">提示</span>要使用键盘，首先在“X”字段中单击，输入它的值，然后按 <span class="keyboardEntry">Tab</span> 移动到下一个字段并输入它的值。继续进行该操作直至跳到“创建”按钮，然后按 <span class="keyboardEntry">Enter</span> 键以创建“摄影机点”，之后使用 <span class="keyboardEntry">Tab</span> 键移回“X”字段，可以再开始。可以创建带有默认名称的“摄影机点”对象，然后使用“按名称选择”浮动框（“工具”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“选择浮动框”）来选择和重命名 6 个指针。 
                     </div>
                  </div> 
               </li>
               <li>对其他“摄影机点”对象重复以上步骤。 
                  <div><a name="WS1A9193826455F5FF662FFB11407B58D52-6AB9"></a><div class="note-note"><span class="label label-target-language">注意:</span>另一种方法是在场景中任何位置创建“摄影机点”对象，然后重新选择每个对象并使用“变换输入”输入绝对坐标。 
                     </div>
                  </div> 
               </li>
            </ol> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54AD"></a>现在，“摄影机点”对象占用实际坐标位置，该位置与位图图像中的结构相对应。最后的一系列步骤涉及使用“摄影机匹配”工具来指定屏幕坐标点，一个点对应一个“摄影机点”对象，并且基于数据生成摄影机位置。 
            </p> <a name="WS1A9193826455F5FFBA679E112A6A19004869"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A1900486A"></a>要使用“摄影机匹配”工具，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>在 <img src="../images/GUID-26D492F7-3E48-4209-AB7B-FEC655C6DA3D-low.png">“工具”面板上，单击“摄影机匹配”按钮。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54AC"></a>显示“摄影机匹配”工具，列出“摄影机点”对象。 
                  </p> 
               </li>
               <li>选择第一个“摄影机点”对象并单击“指定位置”按钮。 </li>
               <li>将光标放置在位图中相应的功能上并单击。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54AB"></a>出现一个小的红色十字。 
                  </p> 
               </li>
               <li>如果圆点不在正确位置，可以用鼠标再次单击或调整“输入屏幕坐标”以调整其位置。 </li>
               <li>选择列表中的第二个对象，重复第 3 和第 4 步。 </li>
               <li>对于所有点重复该过程。通过设置红色的十字，指出位图上的 X 和 Y 像素位置并且当其存在于 3D 空间时，使其与每个“摄影机点”相关联。 </li>
               <li>设置完所有点后，单击“创建摄影机”按钮。 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54AA"></a>基于“摄影机点”对象的位置和屏幕坐标点的规范，在场景中创建摄影机。 
                  </p> 
                  <div><a name="WS1A9193826455F5FF662FFB11407B58D52-6AB8"></a><div class="note-note"><span class="label label-target-language">注意:</span>如果正在读取的“当前的摄影机错误”大于 5 个，则至少一个屏幕坐标点放置错误。请检查每个坐标点，并仔细阅读步骤 5 之后说明。重新指定这些点后，选择现有的摄影机并单击“修改摄影机”按钮，可重新计算摄影机的位置。 
                     </div>
                  </div> 
               </li>
               <li>按 <span class="keyboardEntry">C</span> 键将“透视”视图切换到新摄影机的“透视”视图。 
               </li>
            </ol> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-2B87"></a> 
            <h2><a name="GUID-E5914CD2-B723-442B-96CA-FF3A393A1C58"></a>界面
            </h2> 
            <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A1900486B"></a> 
               <h3><a name="GUID-86138D76-3BBF-49E5-B6BF-F3DDAD04F0FC"></a>“CamPoint 信息”卷展栏
               </h3> <a name="WS1A9193826455F5FFBA679E112A6A1900486C"></a><div class="figure-anchor"><img src="../images/GUID-4A699FEF-EF52-4EFC-B985-D1162E489957-low.png"></div> <a name="GUID-9D108AE0-8FFC-4E48-B08E-B8A9995AC4B0"></a><dl>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DC8"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A9"></a>列表窗口</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E27"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545AC"></a>显示场景中的“摄影机点”辅助对象的列表。从该列表中选择“摄影机点”对象以指定屏幕坐标点。注意，如果选择视口中的“摄影机点”对象，则它也将在该列表中高亮显示。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DC9"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A8"></a>输入屏幕坐标</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E26"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545AD"></a></p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DCA"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A7"></a>X/Y</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E25"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545AE"></a>微调 2d 空间中屏幕坐标点的位置。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DCB"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A6"></a>使用该点</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E24"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545AF"></a>禁用特定的坐标点，而无需将其删除。在列表中选择相应的“摄影机点”，然后禁用“使用该点”。通常，该功能用于当“当前的摄影机错误”太高（例如，大于 5）时进行疑难解答。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DCC"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A5"></a>指定位置</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E23"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545B0"></a>单击视口位图上的一个位置，以将一个屏幕坐标点直观地放置在背景图像下。放置的点与当前选定“摄影机点”对象相对应。激活“指定位置”按钮之后，从列表中选择一个“摄影机点”对象，然后单击位于位图背景上某一位置的视口，该位置对应于关联的“摄影机点”对象在
                           3D 场景中的位置。对于列表中的每个“摄影机点”对象重复该过程，可以单击“创建摄影机”按钮以创建一个摄影机，该摄影机使放置的坐标与其关联的“摄影机点”对象相匹配。 
                        </p> 
                     </div>
                  </dd>
               </dl> 
            </div> 
            <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A1900486D"></a> 
               <h3><a name="GUID-F25C2CEC-F578-4458-9A12-D886A1CCAD4B"></a>“摄影机匹配”卷展栏
               </h3> <a name="WS1A9193826455F5FFBA679E112A6A1900486E"></a><div class="figure-anchor"><img src="../images/GUID-531774D6-B31D-4797-BEF8-76351E9D415E-low.png"></div> <a name="GUID-0BF97E79-9005-4726-ABAA-42631F85DE53"></a><dl>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DCD"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A4"></a>创建摄影机</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E22"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545B1"></a>在场景中创建摄影机，其位置、方向和视野基于“摄影机点”对象和指定的屏幕坐标点的当前位置。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DCE"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A3"></a>修改摄影机</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E21"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545B2"></a>修改现有的位置、方向和视野，基于“摄影机点”辅助对象选定摄影机并指定屏幕坐标点。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DCF"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A2"></a>迭代次数</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E20"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545B3"></a>用于计算摄影机位置的最大迭代次数。默认值为 500，尽管通常不少于 100 次迭代才能获得稳定的解决方案。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DD0"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A1"></a>冻结 Fov</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E1F"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545B4"></a>防止使用“创建摄影机”或“修改摄影机”按钮时更改摄影机的视野。如果拍摄照片的摄影机 FOV 已知并且想要保留，则使用该选项。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DD1"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-54A0"></a>当前的摄影机错误</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E1E"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545B5"></a>显示最终计算结束之后仍然位于放置的屏幕坐标点、“摄影机点”辅助对象和摄影机位置之间的所有错误。该计算涉及的摄影机匹配通常不完美。有效的错误范围为 0 到 1.5。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF4E421D7D11BF108001DD2"></a><span class="term"><a name="WS1A9193826455F5FFBA679E112C9EF5A71-549F"></a>关闭</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6E1D"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA87545B6"></a>退出“摄影机匹配”工具。 
                        </p> 
                     </div>
                  </dd>
               </dl> 
            </div> 
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>