<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-17">
      <meta name="topicid" content="GUID-D20A4317-EE42-45BA-BDC5-EB5D231A5345">
      <meta name="description" content="您经常会使用封套来校正蒙皮在 Biped 移动期间的行为方式。但是，您可以通过手动分配顶点属性来覆盖封套。">
      <meta name="indexterm" content="Physique: 部分混合">
      <meta name="indexterm" content="Physique: 权重指定（顶点）">
      <meta name="topic-type" content="concept">
      <title>部分混合和权重指定</title><script language="javascript">var index = 'index.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-D20A4317-EE42-45BA-BDC5-EB5D231A5345"></a><div class="head">
            <h1>部分混合和权重指定</h1>
         </div>
         <p class="blurb">您经常会使用封套来校正蒙皮在 Biped 移动期间的行为方式。但是，您可以通过手动分配顶点属性来覆盖封套。 </p>
         <p><a name="WS73099CC142F487552A50A53111913E7C26F-7772"></a>例如，您可以从所选顶点中删除不适当链接的影响。您也可以通过使用输入权重来更改单个顶点链接之间的权重分配。 
         </p>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190045C4F"></a> 
            <h2><a name="GUID-0E85D2A4-2A5C-42C4-A120-6A3620F8B89F"></a>如果封套未使用部分混合（默认值）
            </h2> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16727"></a>顶点 <em class="mild">v</em> 已经指定给链接<em class="mild">l1、l2</em> 和 <em class="mild">l3</em>。这些链接的权重如下：<em class="mild">w1</em> = 0.2、<em class="mild">w2</em> = 0.3 和 <em class="mild">w3</em> = 0.4。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16728"></a>在非部分混合的情况下，这些顶点的权重之和为 <em class="mild">w1 + w2 + w3 = 0.9</em>（小于 1.0）。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16729"></a>如果未使用部分混合，Physique 将会对权重进行标准化，使其之和为 1.0。例如： 
            </p> 
            <div class="codeBlock"><pre>w1' = w1 / w1+w2+w3 = 0.2/0.9 = .2222222...
w2' = w2 / w1+w2+w3 = 0.3/0.9 = .3333333...
w3' = w3 / w1+w2+w3 = 0.4/0.9 = .4444444...</pre></div> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF1672A"></a>所以 
            </p> 
            <div class="codeBlock"><pre>w1'+w2'+w3' = 1.0</pre></div> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190045C50"></a> 
            <h2><a name="GUID-D520F63B-71E9-4A0E-AE12-9DAA5E12E30C"></a>如果所有封套都使用部分混合
            </h2> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF1672B"></a>对顶点而言，权重小于 1 的权重填充值始终适合于根的权重。只要为部分混合的所有链接组指定顶点，就会指定其余的权重，并使其与根链接进行混合。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF1672C"></a>如果要使部分变形趋于不作任何变形，则非常适合执行此操作。以静态头部为例，如果对面部表情变形头部，但头部本身保持不动。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF1672D"></a>例如：顶点 <em class="mild">v</em> 已经指定给链接 <em class="mild">l1、l2</em> 和 <em class="mild">l3。</em> 这些链接的权重如下：<em class="mild">w1</em> = 0.2、<em class="mild">w2</em> = 0.3 和 <em class="mild">w3</em> = 0.4。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF1672E"></a>这些顶点权重之和为 <em class="mild">w1 + w2 + w3 =</em> 0.9（小于 1.0）。我们需要其它的填充权重 (<em class="mild">wf)。</em>填充权重是由 <em class="mild">1.0 - (w1+w2+w3) = 0.1，</em> 或 10% 确定的。Physique 可以使用根中的权重 <em class="mild">wf</em> 进行填充（没有对顶点做部分变形）。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF1672F"></a>所得的变形将为 <em class="mild">w1*l1 + w2*l2 + w3*l3 + wf*root</em>。从根本上讲，这种变形的根部分是正好位于骨骼根之后未变形的部分。 
            </p> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190045C51"></a> 
            <h2><a name="GUID-A96517FC-549A-43AE-B76E-B34FC24C4AEC"></a>如果一些封套使用部分混合而一些封套没有使用
            </h2> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16730"></a>重叠区域中的顶点权重填充值是根据部分和非部分链接权重的百分比确定的。例如，如果非部分链接的总权重占部分和非部分权重总和的 80%，则 80% 的填充值将会超过非部分变形的百分比。其余 20% 的填充值是从根产生的。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16731"></a>示例：如果顶点 <em class="mild">v</em> 已经指定给链接 <em class="mild">l1、l2</em> 和 <em class="mild">l3</em>，则这些链接的权重如下：<em class="mild">w1</em> = 0.2、<em class="mild">w2</em> = 0.3，和 <em class="mild">w3</em> = 0.4。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16732"></a>让我们假设，<em class="mild">l1</em> 和 <em class="mild">l2</em> 是非部分链接，而 <em class="mild">l3</em> 是部分链接。非部分链接的权重是 <em class="mild">w1 + w2</em> = 0.5；部分链接的权重是 <em class="mild">w3</em> = 0.4；非部分链接的权重是 0.5/(0.5+0.4) = .555555 或 56%；而填充权重仍为 (1.0 - .9) 或 <em class="mild">wf</em> = 0.1。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF16733"></a>Physique 使用 <em class="mild">wf</em> 的 56% 填充非部分混合链接较大的权重。而使用 <em class="mild">wf</em> 其余的 44% 填充部分混合链接的根。这样，便可在部分链接和非部分链接之间形成光滑的变换。 
            </p> 
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>