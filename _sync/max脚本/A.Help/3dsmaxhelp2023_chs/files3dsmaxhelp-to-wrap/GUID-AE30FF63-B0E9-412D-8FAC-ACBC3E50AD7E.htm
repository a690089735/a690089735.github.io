<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-AE30FF63-B0E9-412D-8FAC-ACBC3E50AD7E">
      <meta name="description" content="与一个或多个指定的导向板空间扭曲碰撞的粒子的碰撞测试。还可以测试在一次或多次碰撞后，粒子速度减慢还是加快，粒子是否已碰撞多次，甚至粒子是否在指定的帧数后将与某个导向板碰撞。">
      <meta name="indexterm" content="碰撞测试（粒子流）: 碰撞">
      <meta name="indexterm" content="粒子: 和导向器空间扭曲">
      <meta name="indexterm" content="粒子流测试: 碰撞">
      <meta name="indexterm" content="测试（粒子流）: 碰撞">
      <meta name="topic-type" content="concept">
      <title>碰撞测试</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-AE30FF63-B0E9-412D-8FAC-ACBC3E50AD7E"></a><div class="head">
            <h1>碰撞测试</h1>
         </div>
         <p class="blurb">与一个或多个指定的导向板空间扭曲碰撞的粒子的碰撞测试。还可以测试在一次或多次碰撞后，粒子速度减慢还是加快，粒子是否已碰撞多次，甚至粒子是否在指定的帧数后将与某个导向板碰撞。 </p>
         <div class="bodyReference"><a name="GUID-59F5316E-0BBB-435E-B4EB-727A80D57B0F"></a><ul>
               <li> <span class="MenuCascade" id="GUID-50BCD55F-B8A8-4CC1-AACA-712362550A8F">粒子视图  <img src="../images/ac.menuaro.gif">  在某个事件中单击“碰撞”，或将“碰撞”添加到粒子系统中，然后选择它。</span> 
               </li>
            </ul>
            <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60AB"></a>“碰撞”测试支持以下导向板空间扭曲： 
            </p><a name="WS1A9193826455F5FFBA679E112A6A190042501"></a><ul>
               <li> <span class="char_link"><a href="GUID-04820BB4-E24C-4E24-933E-EB52CE571405.htm">泛方向导向板</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-EB7AA5B7-A10C-4886-87CF-EA6A1A705CAB.htm">泛方向导向球</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-B0D98AFB-53B9-4940-B106-2F72EA286FFF.htm">全泛方向导向器</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-A4F74619-0322-4758-B94E-92FB1ED1E21C.htm">导向球</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-C9815982-3CEF-4E97-A740-5B7F6A27F7A2.htm">全导向器</a></span> 
               </li>
               <li> <span class="char_link"><a href="GUID-91B6A1ED-25DA-4B45-84A2-2EA3FD3111C7.htm">导向板</a></span> 
               </li>
            </ul>
            <div><a name="WS1A9193826455F5FF662FFB11407B58D52-5F95"></a><div class="note-tip"><span class="label label-target-language">提示</span>在测试与多个导向板的碰撞时，为了获得最佳效果，将所有导向板放置在单个“碰撞”测试中。这样将同时测试与所有导向板的碰撞，有助于避免漏掉碰撞。 
               </div>
            </div>
            <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-60A9"></a> 
               <h2><a name="GUID-B2D74E79-F90E-49CA-92A9-AE4F3EFC7DD6"></a>过程
               </h2> <a name="WS1A9193826455F5FFBA679E112A6A190042502"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190042503"></a>示例：测试粒子在一次或多次碰撞后速度是否减慢：
               </p>
               <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60A8"></a>在现实世界中，如果粒子反复地碰撞某个表面反弹，每次碰撞会损失动能，速度逐渐减慢。不必测试指定的反弹次数，可以使用“碰撞后速度慢”测试粒子的速度是否降到指定的级别以下。 
               </p>
               <ol type="1" start="1">
                  <li>启动或重置 <span class="charspan-msgph">3ds Max</span>。将动画长度设置为 <em class="strong">500</em> 帧。 
                  </li>
                  <li>添加重力空间扭曲和导向板空间扭曲。将导向板的“反弹”设置减小到 1.0 以下，将“变化”和“混乱度”的值增大到 0.0 以上。将导向板的“宽度”和“长度”设置为 <em class="strong">500</em>。 
                  </li>
                  <li>创建默认的“粒子流”系统。将发射器放在导向板的正上方。 </li>
                  <li>将<span class="char_link"><a href="GUID-A90C3AB5-9A6A-4E21-A461-1DB6192C5D93.htm">力操作符</a></span>添加到“事件 01”的结尾，将重力空间扭曲添加到“力”操作符中。 
                  </li>
                  <li>使用<span class="char_link"><a href="GUID-A9A5260F-245C-49A1-86C9-31F40CC626E1.htm">显示操作符</a></span>创建新事件，然后将显示类型更改为与“事件 01”中使用的不同选项。 
                  </li>
                  <li>将“碰撞”测试添加到“事件 01”中“力”操作符的下面，然后将其与新事件关联。 </li>
                  <li>在“碰撞”测试的设置中添加导向板。选择“碰撞后速度慢”，并且将“最小速度”设置为 <em class="strong">100</em>（假定使用的是默认初始速度 300）。 
                  </li>
                  <li><img src="../images/GUID-5B32F2AB-610D-42BB-8C54-81463BE72359-low.png"> 播放动画。可能需要先调整一项或多项设置，才能看到期望的行为。 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60A7"></a>几次反弹后，粒子的外观将改变，稳定地远离导向板，表示粒子已进入第二个事件。当然，可以在此事件中设置所需的行为。 
                     </p> 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60A6"></a>在下一个步骤中您会看到，如果不按照正确的顺序完成事件中的操作，会发生的情况。 
                     </p> 
                  </li>
                  <li>在“事件 01”中，将“碰撞”测试移到“力”操作符的上面，然后播放动画。 
                     <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60A5"></a>许多粒子会漏过导向板。这是因为“粒子流”先测试粒子的碰撞，然后再应用重力。测试正在接近导向板并且距离导向板非常近的粒子的碰撞，因为这些粒子实际尚未碰撞到导向板，所以测试结果为假值。然后，“粒子流”应用重力，重力将粒子推过导向板，使粒子无法再测试碰撞。一般来说，在每个事件中，最好将“力”操作符放在“碰撞”测试的上面，确保粒子不会漏过导向板。
                        
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-60A4"></a> 
               <h2><a name="GUID-FF193C13-DC32-4B9A-90C6-0EAF6F1BC286"></a>界面
               </h2> <a name="WS1A9193826455F5FFBA679E112A6A190042504"></a><div class="figure-anchor"><img src="../images/GUID-53F4933A-6D09-4110-8480-B0E9493B4089-low.png"></div>  
               <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60A3"></a>该用户界面出现在“粒子视图”对话框右侧的“参数”面板中。 
               </p> <a name="GUID-0A65A57B-198C-449C-AD5A-855A98ECFF22"></a><div class="dl_section"><a name="GUID-938FA7CF-F3A4-46ED-9276-9796C24FFA78"></a><p class="title"><a name="GUID-A40F86F5-9D34-4648-AAD9-112C4D013A6A"></a>“导向板”组
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60A2"></a>此组显示当前生效的导向板，可以添加和移除导向板。 
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6367"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-60A1"></a>[列表]</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-646E"></a> 显示应用于此操作符的导向板。如果应用了三个以上的导向板，列表右侧会出现滚动条。 
                           <p><a name="WS1A9193826455F5FF103859C11318F51BDD-60A0"></a>如果您从场景中删除了所列的空间扭曲，在列表中其名称由“&lt;deleted&gt;”项替换。 
                           </p> 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6366"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-609F"></a>添加</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-646D"></a> 单击此按钮，然后在场景中选择某个导向板空间扭曲以将其添加到列表中。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6365"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-609E"></a>按列表</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-646C"></a> 单击此按钮，然后使用“选择导向板”对话框将一个或多个空间扭曲添加到列表中。空间扭曲必须已存在于场景中。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6364"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-609D"></a>移除</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-646B"></a> 在列表中高亮显示某个导向板，然后单击此按钮将其从列表中移除。任何移除的空间扭曲仍保留在场景中。 
                        </div>
                     </dd>
                  </dl>
               </div>
               <div class="dl_section"><a name="GUID-181A6C50-50DA-4CAB-8351-9794B68F3037"></a><p class="title"><a name="GUID-E0FCE9C7-719E-4815-ADFE-B091543E9CDB"></a>“测试真值的条件是粒子”组
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-609C"></a>选择测试将粒子传递给下一个事件的条件，然后调整关联的设置。 
                  </p><a name="UL_1F0C13F85C964390BE5E3AAC4B2A9577"></a><ul>
                     <li><em class="strong">碰撞</em>（默认设置。）选择此选项，然后根据碰撞影响粒子速度的方式设置“速度”。 
                        <p><a name="GUID-C6864053-B86C-4D8A-8649-0C5F4B4A84AA"></a><em class="strong">速度</em>选择下列选项之一： 
                        </p> <a name="WS1A9193826455F5FFBA679E112A6A190042507"></a><ul>
                           <li><em class="strong">反弹</em>（默认设置。）碰撞后的速度和方向由导向板属性确定。 
                           </li>
                           <li><em class="strong">继续</em>粒子的速度和方向不受碰撞的影响。 
                           </li>
                           <li><em class="strong">停止</em>碰撞后，粒子速度设置为 0。 
                           </li>
                           <li><em class="strong">随机</em>粒子沿着随机方向从导向板反弹。 
                           </li>
                        </ul> 
                     </li>
                     <li><em class="strong">碰撞后速度慢</em>如果在碰撞后，粒子速度小于“最小速度”的值，则测试成功。 
                        <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6098"></a>使用此选项，粒子对导向板的行为与使用“碰撞”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“反弹”选项相同。 
                        </p> 
                        <p><a name="GUID-265174F2-A47F-4D31-9B2B-59100128829B"></a><em class="strong">最小速度</em>以小于此速度（每秒的系统单位数）的速度运动的粒子将测试为真值，有资格移动到下一个事件。默认值为 1.0。 
                        </p> 
                     </li>
                     <li><em class="strong">碰撞后速度快</em>如果在碰撞后，粒子速度大于“最大速度”值，则测试成功。 
                        <p><a name="WS1A9193826455F5FF103859C11318F51BDD-6095"></a>使用此选项，粒子对导向板的行为与使用“碰撞”<img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“反弹”选项相同。 
                        </p> 
                        <p><a name="GUID-558FCE3F-D823-4943-B13F-A49D32C169B2"></a><em class="strong">最大速度</em>以大于此速度（每秒的系统单位数）的速度运动的粒子将测试为真值，有资格移动到下一个事件。默认值为 1000.0。 
                        </p> 
                     </li>
                     <li><em class="strong">碰撞多次</em>粒子碰撞指定次数后，测试结果为真值。粒子移动到上次碰撞的位置，然后重定向到下一个事件。 
                        <p><a name="GUID-643BB79E-6CA1-4522-892E-D8EEF0998A6D"></a><em class="strong">次数</em>要使测试结果为真值，粒子必须碰撞的次数。 
                        </p> 
                        <p><a name="GUID-1C173B56-7699-46A2-AFDF-8A40B442CD75"></a><em class="strong">速度</em>确定碰撞指定次数后的速度和方向。有关选项的说明，请参见上文。 
                        </p> 
                     </li>
                     <li> <em class="strong">即将碰撞</em> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA8752CD6"></a>“粒子流”根据当前的方向和速度，以线性方式推断粒子的运动，如果结果表明粒子在指定的时间间隔内将与导向板碰撞，测试结果将为真值。粒子重定向到下一个事件，不更新其速度或位置。 
                        </p> 
                        <p><a name="GUID-A2EEE057-6B8D-46EC-9BB3-CD8D90365754"></a><em class="strong">帧数</em>粒子流寻找即将发生的碰撞的帧数。 
                        </p> 
                     </li>
                  </ul>
               </div>
               <div class="dl_section"><a name="GUID-E7F37CAC-C0FD-4B03-8585-E96FCAA493F3"></a><p class="title"><a name="GUID-39A0FDFD-D049-4CD3-A8D2-60D4802429BB"></a>“唯一性”组
                  </p>
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-608E"></a>“唯一性”设置使“速度”下拉列表中的“随机”选项可以随机化。 
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6358"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-608D"></a>种子</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-645F"></a> 指定随机化值。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6357"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-608C"></a>新增特性</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-645E"></a> 使用随机化公式计算新种子。
                        </div>
                     </dd>
                  </dl>
               </div> 
            </div>
         </div>
         <div class="related-links">
            <h4 class="related">
               <p class="title"><a name="GUID-652E71F8-1B09-4596-BD8D-ADF8F0E606A1"></a>相关信息
               </p>
            </h4>
            <ul>
               <li><span class="char_link"><a href="GUID-23F1A72A-6BA8-4B98-8DF4-33024D65517F.htm">碰撞繁殖测试</a></span></li>
            </ul>
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>