
-- gizmo_use = tmGizmos.useGizmo --如果这个生效了,下面俩设置完也有字母,如果这个不生效,下面两个设置完也有方块或者箭头.旋转不论如何都有字母和外圈
-- gizmo_labels = tmGizmos.useLabels
-- gizmo_size = tmGizmos.size
worldAxis_show = maxOps.showWorldAxis
viewcube_vis = ViewCubeOps.Visibility
viewbutton_vis = ViewportButtonMgr.EnableButtons

not_maximize = false


fn hideParts =
(--应当在隐藏前记录信息,在之后恢复
	max showaxisicon --切换坐标轴显示,这个可能没有手动设置的方法,所以这样应该算是安全的
	gizmo_use = tmGizmos.useGizmo --保险起见,先关闭gizmo大块显示,这里记录之前状态
-- 	gizmo_labels = tmGizmos.useLabels
-- 	gizmo_size = tmGizmos.size
	worldAxis_show = maxOps.showWorldAxis
	viewcube_vis = ViewCubeOps.Visibility
	viewbutton_vis = ViewportButtonMgr.EnableButtons
	
	tmGizmos.useGizmo = false --保险起见,先关闭gizmo大块显示
-- 	tmGizmos.useLabels = false
-- 	tmGizmos.size = 0
	maxOps.showWorldAxis = false
	ViewCubeOps.Visibility = false --设置视图方块显示
	ViewportButtonMgr.EnableButtons = false --设置视口按钮显示
)
hideParts()
fn unhideParts =
(
	max showaxisicon --切换坐标轴显示,这个可能没有手动设置的方法,所以这样应该算是安全的(只要配套出现两次,就是规则的,但是可能开关已经被关闭了一次,则录屏会有轴线)
	tmGizmos.useGizmo = gizmo_use
-- 	tmGizmos.useLabels = gizmo_labels
-- 	tmGizmos.size = gizmo_size
	maxOps.showWorldAxis = worldAxis_show
	ViewCubeOps.Visibility = viewcube_vis --设置视图方块显示
	ViewportButtonMgr.EnableButtons = viewbutton_vis  --设置视口按钮显示
)
unhideParts()


-- fn GetFirstChildWHNDPerClass classname =
-- (
-- 	for winInfo in (windows.getChildrenHWND #max) where winInfo[4] == classname do return winInfo[1]
-- 	return 0
-- )
fn pinViewportSize size:[800,600] =
(
	not_maximize = viewport.NumViews>1
	if not_maximize do max tool maximize
	NitrousGraphicsManager.PinViewPanelSize size[1] size[2]
	disableSceneRedraw()
)
pinViewportSize size:[800,600]
fn unpinViewportSize remaximize:false =
(
	if remaximize do max tool maximize
	NitrousGraphicsManager.UnpinViewPanelSize()
	enableSceneRedraw()
)
unpinViewportSize remaximize:not_maximize

fn grapViewport show:false = --如果show,则显示bitmap后再返回,
(
	forceCompleteRedraw doDisabled:true
)

-- getViewFOV()  --获取视口FOV