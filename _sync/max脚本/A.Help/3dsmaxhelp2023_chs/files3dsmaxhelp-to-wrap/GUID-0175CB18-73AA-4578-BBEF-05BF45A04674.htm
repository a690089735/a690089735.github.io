<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-0175CB18-73AA-4578-BBEF-05BF45A04674">
      <meta name="description" content="“HI 解算器”是历史独立型解算器，它不依赖于上一帧为 IK 解决方案所做的计算，因此使用起来比较快，而无论动画的长度有多长。历史独立型解算器使用一个目标来操纵链的末端。它使用了用以指定链接旋转方向有关的首选角度：正数或负数首选角度也可以看作是初始角度；即应用解算器的时刻链接旋转的角度。">
      <meta name="indexterm" content="HI IK 解算器: “IK 解算器”卷展栏">
      <meta name="indexterm" content="IK 解算器">
      <meta name="indexterm" content="“IK”卷展栏: “IK 解算器”卷展栏">
      <meta name="topic-type" content="concept">
      <title>“IK 解算器”卷展栏（HI 解算器）</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-0175CB18-73AA-4578-BBEF-05BF45A04674"></a><div class="head">
            <h1>“IK 解算器”卷展栏（HI 解算器）</h1>
         </div>
         <p class="blurb">“HI 解算器”是历史独立型解算器，它不依赖于上一帧为 IK 解决方案所做的计算，因此使用起来比较快，而无论动画的长度有多长。历史独立型解算器使用一个目标来操纵链的末端。它使用了用以指定链接旋转方向有关的首选角度：正数或负数首选角度也可以看作是初始角度；即应用解算器的时刻链接旋转的角度。
            
         </p><a name="UL_4D482D52E803481B98D1486EACAB01E3"></a><ul>
            <li> <span class="MenuCascade" id="GUID-37A602CB-E6D8-4359-99C0-0AB43FD9F565">选择 HI 或 IK 肢体解算器 IK 链控件（链末端的蓝色十字）。 <img src="../images/ac.menuaro.gif"> <img src="../images/GUID-EBCA3C24-9B3B-46F2-A058-71C6B3FFD2E6-low.png">“运动”面板  <img src="../images/ac.menuaro.gif"> “参数”按钮  <img src="../images/ac.menuaro.gif"> “IK 解算器”卷展栏</span> 
            </li>
         </ul>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3E08"></a>IK 解决方案在<em class="mild">解算器平面</em> 中发生。解算器平面的角度受一个名为<em class="mild">旋转角度</em> 的参数控制。 
         </p><a name="WS1A9193826455F5FFBA679E112A6A190044D67"></a><div class="figure-anchor"><img src="../images/GUID-695AA0DE-C1AB-4CC4-8EFC-49FB39A08D13-low.png"><p class="figure-title">更改旋转角度</p>
         </div>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3E07"></a>实际上，解算器平面的角度是在两个坐标系的其中一个中进行计算的：“开始关节父空间”或“IK 目标父空间”。世界空间并不是一个显式选项，但可以通过选择“IK 目标父空间”选项并确保该 IK 目标未链接（即，没有父层次），来方便地配置 IK 链以在世界空间中进行工作。这种情况下，IK
            目标的父空间是世界空间，因此，解算器平面将会在世界空间中进行计算。 
         </p>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3E06"></a>旋转角度可以设置动画。可以直接对它进行调整，也可以使用操纵器来调整。或者也可以将旋转角度作为对象的目标，然后设置动画以影响该旋转角度。这些参数位于<span class="char_link"><a href="GUID-0FDEA7C4-0E6C-4541-9F5E-D8CC84E8D73B.htm">“IK 解算器属性”卷展栏</a></span>中。 
         </p>
         <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3E05"></a>“IK 解算器”是为使动画师用工具自动启用 IK 并将目标捕捉到末端效应器上，以在正向运动学和反向运动学之间快速而方便地前后跳动而专门设计的。 
         </p>
         <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-3E04"></a> 
            <h2><a name="GUID-3120A147-DAF0-4069-B06E-3FF454313BBD"></a>过程
            </h2> <a name="WS1A9193826455F5FFBA679E112A6A190044D68"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190044D69"></a>要禁用链上的 IK，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择带有“HI 解算器”的链的目标。 
               </li>
               <li>在 <img src="../images/GUID-EBCA3C24-9B3B-46F2-A058-71C6B3FFD2E6-low.png">“运动”面板 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“IK 解算器”卷展栏上，禁用“启用”。 
                  <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3E03"></a>现在禁用了 IK，就可以选择并旋转链中的任何对象。使用“自动关键点”按钮可以设置启用 IK 和禁用 IK 的动画。 
                  </p> 
               </li>
            </ol> <a name="WS1A9193826455F5FFBA679E112A6A190044D6A"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190044D6B"></a>要在单个动画轨迹中混合 IK 和正向运动学 (FK)，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>将“HI IK 解算器”应用到层次或骨骼系统中。 </li>
               <li>启用 <img src="../images/GUID-859D11E8-44CA-4A08-A696-F5A17CA856E0-low.png"> 并向前移动时间滑块。 
               </li>
               <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择“IK 链”的目标，然后打开 <img src="../images/GUID-EBCA3C24-9B3B-46F2-A058-71C6B3FFD2E6-low.png">“运动”面板。 
               </li>
               <li> <img src="../images/GUID-5D7D7630-6D16-400D-AE6F-87F13C97DEA2-low.png"> 移动该目标以用“反向运动学”设置该 IK 链的动画。 
               </li>
               <li>再次向前拖动时间滑块。 </li>
               <li>在“IK 解算器”卷展栏上，禁用“启用”和“IK 设置 FK 姿势”。 </li>
               <li> <img src="../images/GUID-7E7B2E05-D918-4D42-BE95-946D1C126036-low.png"> 旋转根。整个层级将自由地旋转。现在就会使用正向运动学添加关键帧。 
               </li>
            </ol> <a name="WS1A9193826455F5FFBA679E112A6A190044D6C"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190044D6D"></a>要将目标与末端效应器的位置相匹配，请执行以下操作：
            </p>
            <ol type="1" start="1">
               <li>如果目标和末端效应器发生了分离，单击“IK/FK 捕捉”，该目标就会进行移动以与链的末端链接相匹配。 </li>
               <li>如果启用了“自动捕捉”，单击目标就会自动执行捕捉操作，并将该目标与末端效应器相匹配。 </li>
            </ol> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-3E02"></a> 
            <h2><a name="GUID-008AEBD6-F6C6-4BD1-A261-502A6C541F29"></a>界面
            </h2> <a name="WS1A9193826455F5FFBA679E112A6A190044D6E"></a><div class="figure-anchor"><img src="../images/GUID-62D9BC38-54BA-4CC8-BB24-DC9D78B99031-low.png"></div>  <a name="GUID-A7FCABFF-80EC-47F5-B082-A23DAE3C2D94"></a><div class="dl_section"><a name="GUID-A72BC421-071A-4559-8766-B81AC0F8F916"></a><p class="title"><a name="GUID-E53A069B-393D-4E3B-B375-FC867F0147A8"></a>“IK 解算器”组
               </p>
               <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3E01"></a>此组中的选项可以设置选定 HI IK 解算器链的起点和终点。在此卷展栏上还有允许使用 IK 操纵器在层次对象上创建正向运动学可旋转关键帧的控件，以及将目标和末端效应器相对齐的按钮。 
               </p>
               <dl>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CF6"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3E00"></a>“解算器”下拉列表</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-593B"></a> 在此处的“HI IK 解算器”和“IK 肢体解算器”之间进行选择。所有在启动时出现的 HI IK 插件解算器也会在这个列表中显示。 
                     </div>
                  </dd>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CF7"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DFF"></a>启用</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-593A"></a> 启用或禁用链的 IK 控件。 
                        <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3DFE"></a>“HI IK 控制器”有一个 FK 子控制器。选择“启用”后，FK 子控制器的值就会被 IK 控制器所覆盖。禁用“启用”后，就会使用 FK 值。可以设置选择“启用”和禁用“启用”的动画。 
                        </p> 
                        <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3DFD"></a>当要做正向旋转时，可以使用此选项以用目标禁用该链。 
                        </p> 
                     </div>
                  </dd>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CF8"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DFC"></a>FK 姿势的 IK</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-5939"></a> 可以在 FK 操纵中间启用 IK。当禁用“启用”并启用“IK 设置 FK 姿势”时，移动目标会在 FK 操纵的中间自动启用 IK。此操作的结果将使所有的 FK 子控制器都从 IK 解决方案中接收值。关键点放置于层次对象或骨骼上，而不是目标上。在“启用”和“IK
                        设置 FK 姿势”都禁用后，移动目标根本不会影响到链。 
                     </div>
                  </dd>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CF9"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DFB"></a>IK/FK 捕捉</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-5938"></a> 在 FK 模式中执行 IK 捕捉，而在 IK 模式中执行 FK 捕捉。 
                        <p><a name="GUID-C933D293-D3D3-4C52-B9E0-1C98EE063434"></a><em class="strong">IK 捕捉</em> 如果目标移离了链的末端，单击“IK/FK 捕捉”会移动目标以使它与末端链接位置重合。 
                        </p> 
                        <p><a name="GUID-49434419-395D-41C9-BBFF-01E92D78367C"></a><em class="strong">FK 捕捉</em> 当 IK 处于启用状态时（启用了“启用”），FK 子控制器的值受 IK 解决方案的抑制。它们的值并不是总与链的当前姿势相对应。如果禁用了“启用”，FK 子控制器的值将会忽然发生变化。这将导致链的跳动。在启用“启用”之前，“FK 捕捉”强迫 FK
                           子控制器从当前姿势（由 IK 确定）中获取值。这会消除链动画中的跳动。 
                        </p>
                     </div>
                  </dd>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CFC"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DF8"></a>自动捕捉</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-5935"></a> 
                        <p><a name="WS1A9193826455F5FF1DBC298511635BEA8752613"></a>启用“自动捕捉”后，在启用或禁用“启用”之前，<span class="charspan-msgph">3ds Max</span> 会自动应用 IK/FK 捕捉。如果没有启用“自动捕捉”，必须在切换“启用”之前单击“IK/FK 捕捉”，否则该链就会跳动。 
                        </p> 
                     </div>
                  </dd>
               </dl>
            </div>
            <div class="dl_section"><a name="GUID-07AA669E-5181-42DA-9F0C-7F8C21C55205"></a><p class="title"><a name="GUID-15003A88-BDA1-4140-8E5C-A52C619D9D00"></a>“首选角度”组
               </p>
               <dl>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CFD"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DF7"></a>设置为首选角度</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-5934"></a> 为 HI IK 链中的每个骨骼设置首选角度。可以从“层次 IK”面板的“可转动关节”卷展栏中看到，每个骨骼的当前父空间旋转被放置到了它的 X、Y 和 Z 首选角度旋转通道中。这在正向运动学和反向运动学之间进行变换时，非常适合于创建一个完美的<span class="char_link"><a href="GUID-1DA6B633-501A-4B18-A503-2671706F0319.htm">匹配帧</a></span>。 
                     </div>
                  </dd>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CFE"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DF6"></a>采用首选角度</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-5933"></a> 复制每个骨骼的 X、Y 和 Z 首选角度通道并将它们放置到它的 FK 旋转子控制器中。这实际上执行了“设置为首选角度”功能的反操作。 
                     </div>
                  </dd>
               </dl>
            </div>
            <div class="dl_section"><a name="GUID-1BD54B33-7573-40B9-94E6-65217B14ACF7"></a><p class="title"><a name="GUID-551E7D81-AD65-4CC2-BC7D-AF82F40296DD"></a>“骨骼关节”组
               </p>
               <p><a name="WS1A9193826455F5FF103859C11318F51BDD-3DF5"></a>允许更改 IK 链的末端。 
               </p>
               <dl>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1CFF"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DF4"></a>拾取起始关节</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-5932"></a> 定义 IK 链的一端。从视口中进行选择或按名称进行选择（按 <span class="keyboardEntry">H</span> 键）。 
                     </div>
                  </dd>
                  <dt><a name="WS73099CC142F48755-1257E12111BF108800E1D00"></a><span class="term"><a name="WS1A9193826455F5FF103859C11318F51BDD-3DF3"></a>拾取结束关节</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-4855151011E22F62443-5931"></a> 定义 IK 链的另一端。链的方向是由层次定义的，而不是“开始关节”和“结束关节”。从视口中进行选择或按名称进行选择（按 <span class="keyboardEntry">H</span> 键）。 
                        <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E551"></a><div class="note-warning"><span class="label label-target-language">警告:</span> 如果更改了“开始关节”或“结束关节”，使得“IK 肢体解算器”在开始关节和结束关节之间有超过两块骨骼，该解算器就不能工作。移动 IK 目标将会不影响骨骼。 
                           </div>
                        </div> 
                        <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E552"></a><div class="note-tip"><span class="label label-target-language">提示</span>“层次顺序”确定了链的方向。不可以拾取骨骼 10 作为开始关节，而将骨骼 1 作为结束关节，从而使链的方向发生了反转。 
                           </div>
                        </div> 
                     </div>
                  </dd>
               </dl>
            </div> 
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>