var topic = "<!DOCTYPE html><html>\n   <head>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n      <meta name=\"product\" content=\"3DSMAX\">\n      <meta name=\"release\" content=\"2023\">\n      <meta name=\"book\" content=\"GeneralUser\">\n      <meta name=\"created\" content=\"2022-03-27\">\n      <meta name=\"topicid\" content=\"GUID-59A15A59-E806-41B0-920F-9DACA1829937\">\n      <meta name=\"description\" content=\"使用“数量更改”子操作符，可通过繁殖新粒子或删除现有粒子来修改粒子数。繁殖时，可以将繁殖属性和详细信息记录到使用“输出新建”子操作符创建的自定义通道中。另外，在繁殖时，整数输入值确定新粒子数。\">\n      <meta name=\"topic-type\" content=\"concept\">\n      <title>“数量更改”子操作符</title><script language=\"javascript\">var index = \'index3dsmaxhelp.html\';</script></head>\n   <body height=\"100%\">\n      <div class=\"body_content\" id=\"body-content\" dir=\"ltr\"><a name=\"GUID-59A15A59-E806-41B0-920F-9DACA1829937\"></a><div class=\"head\">\n            <h1>“数量更改”子操作符</h1>\n         </div>\n         <p class=\"blurb\">使用“数量更改”子操作符，可通过繁殖新粒子或删除现有粒子来修改粒子数。繁殖时，可以将繁殖属性和详细信息记录到使用“输出新建”子操作符创建的自定义通道中。另外，在繁殖时，整数输入值确定新粒子数。 </p>\n         <div class=\"bodyReference\"><a name=\"UL_506CC411B20E4E8D804F7CDC440C8B7D\"></a><ul>\n               <li> <span class=\"MenuCascade\" id=\"GUID-99204F25-AE6A-4E51-8B82-B3B00B00F3D3\">“粒子视图” <img src=\"../images/ac.menuaro.gif\"> “数据图标/操作符/图标测试/测试” <img src=\"../images/ac.menuaro.gif\">  单击“编辑数据流”。 <img src=\"../images/ac.menuaro.gif\"> 添加或选择“数量更改”。</span> \n               </li>\n            </ul>\n            <div class=\"section\"><a name=\"AB1006259\"></a> \n               <h2><a name=\"GUID-24EB3EC1-EC38-473F-AA23-3C7D30F55D7E\"></a>步骤\n               </h2> \n               <p><a name=\"GUID-8026A393-2B16-4FF6-BAEB-D9965854A925\"></a>“数量更改”是高级数据操纵工具包中最复杂的子操作符之一。为了帮助您了解它的运作方式，我们提供了以下示例：简单繁殖。 \n               </p> \n               <p><a name=\"GUID-265EC4A0-8FD0-429D-895E-6B94A98EF0DA\"></a>使用“数量更改”子操作符要求具有其他子操作符的相关知识。此示例的目的仅仅是说明使用“数量更改”子操作符最简单的方式。 \n               </p> \n               <div><a name=\"GUID-D29EE406-7A5C-4B9E-B4C0-BF00C7613D40\"></a><div class=\"note-note\"><span class=\"label label-target-language\">注意:</span>在此场景中，原始（父）粒子根据标准“速度”操作符的定义沿着粒子流源图标箭头移动，而繁殖的粒子朝各个方向移动。 \n                  </div>\n               </div> \n               <p><a name=\"GUID-DCC2FB65-1147-4F8F-98FD-1A8ABCB2F7D9\"></a>若要继续进行，请打开附带的文件 <em class=\"mild\"> <span class=\"filePath\">SimpleSpawn.max</span> </em>。 \n               </p> <a name=\"FIG_632C5A88EADF4743BF47124C25FB1E43\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-A0A3FCAE-D976-477D-AD2E-F29CB45BFD55-low.jpg\"></div>  <a name=\"OL_D6D317956F2B46FC82B9536D3EDC252D\"></a><p class=\"list-intro\"><a name=\"GUID-2C87E80E-7C4A-4D19-9A8D-1620BEDB5ECE\"></a>示例：使用“数量更改”子操作符：\n               </p>\n               <ol type=\"1\" start=\"1\">\n                  <li>添加“数量更改”子操作符。将“类型”设置保留为“繁殖”，并选择“整数作为相加量”。然后，将其输入与“输出类型”设置为“整数”的“标量”子操作符进行关联。 \n                     <p><a name=\"GUID-7758C06E-3AC6-4F89-B1DF-9828DD7600DD\"></a>“标量”子操作符的整数值控制繁殖过程的强度。 \n                     </p> \n                  </li>\n                  <li>通过添加具有数据类型“布尔”的“输出新建”子操作符来创建自定义通道以记录繁殖。 </li>\n                  <li>将“输出新建”<img class=\"adsk-glyph-arrow\" src=\"../images/ac.menuaro.gif\">“执行顺序”设置为 1。这会将“数量更改”<img class=\"adsk-glyph-arrow\" src=\"../images/ac.menuaro.gif\">“执行顺序”自动设置为 2，从而在执行数量更改之前创建自定义通道。 \n                  </li>\n                  <li>在“数量更改”子操作符 <img class=\"adsk-glyph-arrow\" src=\"../images/ac.menuaro.gif\">“记录繁殖到数据”组中，启用“为当前繁殖”。单击“无”按钮并选择“输出新建”子操作符。 \n                     <p><a name=\"GUID-B2C9BE3A-9AB8-4A05-87C8-9F1D28996F84\"></a>这会将繁殖数据记录到自定义通道。 \n                     </p> \n                  </li>\n                  <li>要查看繁殖过程，请更改繁殖粒子的速度（速度向量设置为 [25, 0,0]，散度设置为 180），并启用“用作速度”。 \n                     <p><a name=\"GUID-96359CB7-1893-4425-BA12-5BCEEFE6E73B\"></a>此处将“向量”子操作符与散度一起使用将单个繁殖粒子彼此分开，并与父粒子分开。 \n                     </p> \n                  </li>\n                  <li> \n                     <p><a name=\"GUID-A4898AB0-75B2-4C33-9323-526FB7470207\"></a>（对于数据测试为必需）若要将繁殖粒子从原始粒子中过滤出来，请添加“输出测试”子操作符。输出测试应从自定义通道请求数据；这是创建新的“输入自定义”子操作符的原因。 \n                     </p> \n                  </li>\n               </ol> \n               <p><a name=\"GUID-E4B11F8E-B6DE-4270-A084-BD38886C6E2D\"></a>在其当前形式下，该示例仅是常规“繁殖”测试的子集，可以从中构建自定义繁殖过程。例如，可以创建您自己的图解视图以根据父对象位置计算繁殖数量，而不是使用“标量”子操作符定义繁殖的附加数量。另一个实验途径是更改“向量”子操作符（定义繁殖粒子的速度）。\n                  \n               </p> \n               <p><a name=\"GUID-FE59C108-C666-442F-AED7-DDE8352C04CC\"></a>此示例显示了繁殖过程的最低要求。单纯只有“数量更改”子操作符无法满足该最低要求。因此，此处的目的是提供一些可以依据的基础和背景。奠定基础并确定其可行（繁殖过程是可见的）之后，就可以更加轻松地修改或构建。 \n               </p> \n            </div>\n            <div class=\"section\"><a name=\"AB1006388\"></a> \n               <h2><a name=\"GUID-62CBC82B-0B07-4FB7-839C-3C4E1E00AA1E\"></a>界面\n               </h2> <a name=\"FIG_3C8FAAE8AA71441185BD67C6E3236B42\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-3C4D44F7-85FF-4ED1-89D6-562DC2757665-low.png\"><img src=\"../images/GUID-5E5B6899-B231-4BB5-AC0E-3E1F83C1B95C-low.png\"></div>   <a name=\"GUID-A198AFBB-1DBA-4098-A965-FA4FC67F2D95\"></a><dl>\n                  <dt><a name=\"GUID-C276F20B-DD43-419F-8AE5-8DD1D4FB8B7E\"></a><span class=\"term\"><a name=\"GUID-5A73DA81-22EC-4959-85FB-1403189A25C5\"></a>类型</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-EE2BC5AF-547F-4797-ABBC-CF2C235EE652\"></a>该类型确定数量更改是创建（繁殖）粒子，还是将其删除。当“类型”设置为“删除”时，唯一可用的控件为“假以删除/真以删除”和“执行顺序”。默认设置为“繁殖”。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-866ED459-386D-496D-B273-155A1DD1369A\"></a><span class=\"term\"><a name=\"GUID-C8579ED0-295E-4391-B39D-87A71333A929\"></a>整数作为数量/相加量</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-BB47CCB8-A559-4D52-9099-107F3D492965\"></a>“数量更改”子操作符的整数数据输入定义繁殖的粒子数量。使用此选项确定是否将传入数据视为以下项： <a name=\"UL_84F6A7DCA9A647BF9CBFECBA73377266\"></a><ul>\n                           <li><em class=\"strong\">数量</em>输入整数值定义将代替父粒子的粒子数。即，它定义包括父粒子及其繁殖的子粒子在内的粒子总数。输入值为 0 表示父粒子已删除；1 表示粒子未繁殖等等。 \n                           </li>\n                           <li><em class=\"strong\">相加量</em>输入整数值定义粒子的繁殖数量。输入值为 0 表示粒子未繁殖，值为 1 表示为每个父粒子创建了一个子粒子等等。 \n                           </li>\n                        </ul>\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-143C20D9-7C18-47A5-83E2-FDEA4F30E7F9\"></a><span class=\"term\"><a name=\"GUID-C523057B-E442-41CC-A96D-17EBB18A255E\"></a>假以删除/真以删除</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-C785593B-E2D5-4EF9-B844-B4D33705192C\"></a>仅当类型设置为“删除”时可用。这是“删除”选项的唯一功能，可将子操作符输入类型设置为“布尔”：当传入数据与所选选项具有相同值（假为 0；真为 1）时，将删除事件中的粒子。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-8009284F-9880-4105-B6E3-2D4231F1437E\"></a><span class=\"term\"><a name=\"GUID-9D65E17A-8F2A-4A0D-BE2C-16D3911AA40C\"></a>重置粒子年龄</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-D9D67027-1474-46F3-83EB-FF16F820FFA1\"></a>启用时，事件中的粒子会将年龄重置为 0。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-16FD0695-04D9-42C1-914C-CB830012FD7E\"></a><span class=\"term\"><a name=\"GUID-7CFA6391-6C52-46F0-8948-1E494E36F4ED\"></a>繁殖作为事件中的新粒子</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-96E3B1AD-360B-4C52-8059-10FE954016D5\"></a>所有粒子都有标准的“事件中的新粒子”数据通道，用来指示通过出生或从其他事件传输刚进入事件的粒子。很多操作符使用“事件中的新粒子”数据来初始化粒子的某些属性数据。通过此选项，可以选择是否要使用该数据通道标记新繁殖的粒子。启用时，繁殖的粒子将被视为新粒子，从而通过其他操作符触发某些数据初始化。禁用时，繁殖的粒子将不被视为新粒子，而从父粒子继承这些数据。\n                     </div>\n                  </dd>\n               </dl> \n            </div>\n            <div class=\"section\"><a name=\"AB1006482\"></a> \n               <h2><a name=\"GUID-1FB80FD6-6430-4DFC-A323-DBACF2FD55DE\"></a>“优先级和执行顺序”组\n               </h2> \n               <p><a name=\"GUID-F6527149-2E76-4DAB-9AFB-C858E5B6C384\"></a>请参见<span class=\"char_link\"><a href=\"GUID-F46E863E-BF7C-4F29-BAD2-F91B0080DC80.htm\">优先级和执行顺序</a></span>。 \n               </p> \n            </div>\n            <div class=\"section\"><a name=\"AB1006502\"></a> \n               <h2><a name=\"GUID-952DB232-48A1-455D-A09D-902B1F23074A\"></a>“记录繁殖到数据”组\n               </h2> \n               <p><a name=\"GUID-31D2E647-3552-4D71-9E5A-A660DAEE5FDC\"></a>通过这些控件，可以将繁殖属性和详细信息记录到自定义通道。必须提前使用“输出新建”子操作符创建自定义通道。将在数量更改执行过程中更新自定义通道中的数据。因此，要获得这些数据，必须从数据流中的自定义通道请求数据（通常使用“输入自定义”子操作符），并将相应的执行顺序值设置为高于“数量更改”子操作符的执行顺序值。\n                  \n               </p> \n               <p><a name=\"GUID-3B32FC51-A9FB-404E-BBA7-37CB607A05EA\"></a>若要使用任意这些控件，请将其启用，单击相关按钮，然后使用“选择数据通道”对话框指定通道。 \n               </p> <a name=\"GUID-F526938B-0FED-4134-9A8E-C7A7770B8CE8\"></a><dl>\n                  <dt><a name=\"GUID-48533D33-E17B-49BB-8D98-277225F4A2AC\"></a><span class=\"term\"><a name=\"GUID-8B1D357A-A5A0-440A-8E1F-82B3EF9B227D\"></a>为当前父对象</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-4C4B8215-F098-40AA-82E9-5F31C90E8ECB\"></a>布尔数据，用于指示某个粒子是否繁殖任何粒子。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-4C300BB6-CB42-4933-8EEC-7F5C14535FA7\"></a><span class=\"term\"><a name=\"GUID-3CC8D766-5204-4A6A-9E79-C20B57F5B9CA\"></a>为当前繁殖</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-FD122E15-82CC-42CF-9EF5-7C05B2F5459C\"></a>布尔数据，用于指示某个粒子是否为最新繁殖。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-C2CEFC99-7215-42B7-93A8-2508703A7F26\"></a><span class=\"term\"><a name=\"GUID-D54E6A83-B655-49B2-BDC5-B2C7CA304C23\"></a>父对象 ID</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-2DEC464F-50CF-4694-85FC-015EDDD4CDC1\"></a>整数数据，用于指示粒子的父对象的出生 ID。ID 信息可用于“输入自定义”子操作符，该操作符可接受整数通道以从其他粒子检索数据（选项“使用 I2 作为粒子 ID”）。如果粒子不是“数量更改”子操作符执行的繁殖结果，则数据读取为 -1。另外，可以在多个“数量更改”子操作符之间使用相同的数据通道。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-698016B4-C496-4788-BB65-FE4A6B2E0F2C\"></a><span class=\"term\"><a name=\"GUID-BEFFF16B-E732-4CB2-858D-92A5911BEAC4\"></a>最后一个繁殖 ID</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-F3A2FF04-DD61-4722-AB36-9E04FA809535\"></a>整数数据，用于指示最后一个繁殖粒子的出生 ID。该数据仅对至少作为一次父对象的粒子有效，它在当前积分步长中不是必要的，但在最终的全局上非常有必要。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-32E27FC3-EFB0-47B5-A12A-2ECE4A318B35\"></a><span class=\"term\"><a name=\"GUID-53C3AC64-9665-43DE-9D60-D239FD4336B5\"></a>第一个繁殖 ID</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-CE59E805-6953-4678-BF4F-5FE8781D0F60\"></a>整数数据，用于指示在全局意义上第一个繁殖粒子的出生 ID。该粒子是在父粒子的繁殖期间年龄最大的粒子。同样，该数据仅对至少作为一次父对象的粒子有效。该数据通道仅在已定义“总繁殖数”通道（请参见下文）时可用。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-CAB57D52-F6A6-4838-AEB6-0CBC48786E2A\"></a><span class=\"term\"><a name=\"GUID-5F1E77F8-4EB4-485F-83D1-065C4D5FBAC3\"></a>当前第一个繁殖 ID</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-FE00A429-021A-4071-9386-EFE1E84681CB\"></a>整数数据，用于指示当前积分步长中第一个繁殖粒子的出生 ID。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-8BCC1C90-B4B0-4D5F-8410-F4CFD55280E3\"></a><span class=\"term\"><a name=\"GUID-745BA2FA-2C64-4DAC-BDA8-B7CE21249249\"></a>旧/上一个同级 ID</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-60787B76-44E9-4052-8E47-6D3EF6E94FC9\"></a>整数数据，用于指示上一个繁殖/同级粒子的出生 ID。这些数据可用于建立同级项繁殖链。数据通道仅在定义“总繁殖数”和“最后一个繁殖 ID”通道时才可用。数据是通过积分步长连续的；因此，如果粒子在多个积分步长期间进行繁殖，仍可以为父粒子建立完整的同级繁殖链。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-D84BACEA-CF7B-4FAF-AD8A-16FC81D282E7\"></a><span class=\"term\"><a name=\"GUID-9534E1A3-F1A9-4176-A3BD-F60F8D6F179B\"></a>当前繁殖数</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-B75D1E43-E8E4-4AD7-AC72-340AE248F303\"></a>整数数据，用于指示在当前积分步长期间，每个父粒子繁殖的粒子数。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-1629160F-DA50-4008-B465-445606B83672\"></a><span class=\"term\"><a name=\"GUID-E800ACDE-9F80-4F64-BEEE-4E353D29D0E2\"></a>总繁殖数</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-65F028F0-914C-47E4-BA4A-50CEF4E47036\"></a>整数数据，用于指示父粒子的粒子繁殖总数。\n                     </div>\n                  </dd>\n                  <dt><a name=\"GUID-CEC51465-2B38-4A17-B282-4E09F344BC46\"></a><span class=\"term\"><a name=\"GUID-EDABD167-4732-4D22-9C43-33021C258A7A\"></a>当前繁殖顺序</span></dt>\n                  <dd>\n                     <div class=\"definition\"><a name=\"GUID-7AD839A1-EC20-4777-84FA-01FDD3E5FBC5\"></a>整数数据，用于指示当前积分步长中的繁殖顺序，从 0 到 N-1，其中 N 是当前积分步长中父粒子的繁殖数。数据可用于调整粒子的空间位置，例如将粒子从先前积分步长中的最后一个繁殖粒子的位置传播到父粒子的当前位置，从而创建类似于标准“繁殖”操作符的放置。\n                     </div>\n                  </dd>\n               </dl> \n            </div>\n         </div>\n         <div class=\"footer-block\"><a href=\"..\" class=\"comments-anchor\" target=\"_blank\"><span class=\"comments-link\">请将您关于此页内容的评论发送给我们</span></a></div><br><p class=\"footer-license-block\"><a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"><img alt=\"Creative Commons License\" style=\"border-width: 0;\" src=\"../images/ccLink.png\"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href=\"http://autodesk.com/creativecommons\" target=\"_blank\">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>\n   </body>\n</html>";