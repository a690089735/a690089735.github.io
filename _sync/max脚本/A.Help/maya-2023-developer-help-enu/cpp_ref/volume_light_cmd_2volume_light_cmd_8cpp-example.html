<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script>
      <title>C++ API Reference: volumeLightCmd/volumeLightCmd.cpp</title>
      
	  
      
      
      
      
      
      
      
    

</head>
   <body height="100%"><div class="body_content" id="body-content"><link rel="stylesheet" type="text/css" href="cpp_ref/navtree.css"><link rel="stylesheet" type="text/css" href="cpp_ref/doxygen.css"><link rel="stylesheet" type="text/css" href="cpp_ref/tabs.css"><link rel="stylesheet" type="text/css" href="style/adsk.cpm.css"><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('volume_light_cmd_2volume_light_cmd_8cpp-example.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script>
      <div>
         <div class="head">
            <h1>C++ API Reference: volumeLightCmd/volumeLightCmd.cpp</h1>
         </div>

<div id="top"><!-- do not remove this div, it is closed by doxygen! -->

<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->

  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="#!/url=./cpp_ref/index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="#!/url=./cpp_ref/pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="#!/url=./cpp_ref/modules.html"><span>Modules</span></a></li>
      <li><a href="#!/url=./cpp_ref/namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="#!/url=./cpp_ref/annotated.html"><span>Classes</span></a></li>
      <li><a href="#!/url=./cpp_ref/examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="cpp_ref/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="">
          <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="cpp_ref/search/close.png" alt=""></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>

<div id="doc-content">
<!-- window showing the filter options -->


<!-- iframe showing the search results (closed by default) -->


<div class="header">
  <div class="headertitle">
<div class="title">volumeLightCmd/volumeLightCmd.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//-</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">// Copyright 1995,2006,2008 Autodesk, Inc. All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Use of this software is subject to the terms of the Autodesk</span></div>
<div class="line"><span class="comment">// license agreement provided at the time of installation or download,</span></div>
<div class="line"><span class="comment">// or which otherwise accompanies this software in either electronic</span></div>
<div class="line"><span class="comment">// or hard copy form.</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">//+</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// DESCRIPTION:</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">// Produces the command &quot;volumeLight&quot;.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Demonstrates the use of the MFnVolumeLight class.</span></div>
<div class="line"><span class="comment">// This example creates a volume light, then queries and sets a number of its attributes.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Example: </span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//  volumeLight;</span></div>
<div class="line"><span class="comment">//  volumeLight -a $arc -c $coneEndRadius -e $emitAmbient;</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MIOStream.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MSimple.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnNurbsCurve.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPointArray.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDoubleArray.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPoint.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MRampAttribute.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnVolumeLight.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFloatArray.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MIntArray.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MColorArray.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MColor.h&gt;</span></div>
<div class="line"></div>
<div class="line"><a name="a0"></a><a class="code" href="#!/url=./cpp_ref/group___macros.html#gaf3b44fe07495c3792b926494fca7b517">DeclareSimpleCommand</a>( volumeLight, PLUGIN_COMPANY, <span class="stringliteral">&quot;5.0&quot;</span>);</div>
<div class="line"><span class="preprocessor">#define EQUAL(a,b) ( (((a-b) &gt; -0.00001) &amp;&amp; ((a-b) &lt; 0.00001)) ? 1 : 0 )</span></div>
<div class="line"></div>
<div class="line"><a name="_a1"></a><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> volumeLight::doIt( <span class="keyword">const</span> <a name="_a2"></a><a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html">MArgList</a>&amp; args )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">double</span> arc = 180.0f;</div>
<div class="line">    <span class="keywordtype">double</span> coneEndRadius = 0.0f;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#ae32b0f427eddd72309b9ee0e1b4f7b65">MFnVolumeLight::MLightDirection</a> volumeLightDirection = <a name="a3"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#ae32b0f427eddd72309b9ee0e1b4f7b65af613fe61d894615879847002b39a2985">MFnVolumeLight::kOutward</a>;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#add3777de7fdc6ebd147c5d8e22de4843">MFnVolumeLight::MLightShape</a> lightShape = <a name="a4"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#add3777de7fdc6ebd147c5d8e22de4843aa87808fd406ed50378599656bb2b0eaf">MFnVolumeLight::kConeVolume</a>;</div>
<div class="line">    <span class="keywordtype">bool</span> emitAmbient = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span>    i;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Parse the arguments.</span></div>
<div class="line">    <span class="keywordflow">for</span> ( i = 0; i &lt; args.<a name="a5"></a><a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html#a99dd6a54b909ede1d11702fe58977e2a">length</a>(); i++ )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( <a name="_a6"></a><a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a>( <span class="stringliteral">&quot;-a&quot;</span> ) == args.<a name="a7"></a><a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>( i, &amp;stat )</div>
<div class="line">                &amp;&amp; MS::kSuccess == stat)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">double</span> tmp = args.<a name="a8"></a><a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html#a15a33f5705d13873ab7f003bb64f0741">asDouble</a>( ++i, &amp;stat );</div>
<div class="line">            <span class="keywordflow">if</span> ( MS::kSuccess == stat )</div>
<div class="line">                arc = tmp;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a>( <span class="stringliteral">&quot;-c&quot;</span> ) == args.<a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>( i, &amp;stat )</div>
<div class="line">                &amp;&amp; MS::kSuccess == stat)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">double</span> tmp = args.<a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html#a15a33f5705d13873ab7f003bb64f0741">asDouble</a>( ++i, &amp;stat );</div>
<div class="line">            <span class="keywordflow">if</span> ( MS::kSuccess == stat )</div>
<div class="line">                coneEndRadius = tmp;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a>( <span class="stringliteral">&quot;-e&quot;</span> ) == args.<a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>( i, &amp;stat )</div>
<div class="line">                &amp;&amp; MS::kSuccess == stat)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">bool</span> tmp = args.<a name="a9"></a><a class="code" href="#!/url=./cpp_ref/class_m_arg_list.html#ae784f8b1dc47107155eec3e8e6af0722">asBool</a>( ++i, &amp;stat );</div>
<div class="line">            <span class="keywordflow">if</span> ( MS::kSuccess == stat )</div>
<div class="line">                emitAmbient = tmp;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a name="_a10"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html">MFnVolumeLight</a> light;</div>
<div class="line"></div>
<div class="line">    light.<a name="a11"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a407ee76c6cb600206505fe034e637e34">create</a>( <span class="keyword">true</span>, &amp;stat);</div>
<div class="line"></div>
<div class="line">    cout&lt;&lt;<span class="stringliteral">&quot;What&#39;s up?&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error creating light.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    stat = light.<a name="a12"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a4f97998b997d087253aa489705e268ac">setArc</a> ((<span class="keywordtype">float</span>)arc);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting \&quot;arc\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    stat = light.<a name="a13"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#abd5af56fedcc43f98e32a44edbfc6449">setVolumeLightDirection</a> (volumeLightDirection);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting \&quot;volumeLightDirection\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    stat = light.<a name="a14"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a95b9278a0298f4ae7c9851069d50a884">setConeEndRadius</a> ((<span class="keywordtype">float</span>)coneEndRadius);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting \&quot;coneEndRadius\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    stat = light.<a name="a15"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a371899622c4b1dc4c36cd2bd70e454d3">setEmitAmbient</a> (emitAmbient);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting \&quot;emitAmbient\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    stat = light.<a name="a16"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a43609e28691d10a7708829b92380590c">setLightShape</a> (lightShape);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting \&quot;lightShape\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">double</span> arcGet = light.<a name="a17"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a14108257030b05243daba67d6c5bb3d7">arc</a> (&amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat || arcGet != arc)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting \&quot;arc\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#ae32b0f427eddd72309b9ee0e1b4f7b65">MFnVolumeLight::MLightDirection</a> volumeLightDirectionGet = light.<a name="a18"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a992e292f4b8a33c5440f8b090b6c47e2">volumeLightDirection</a> (&amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat || volumeLightDirectionGet != volumeLightDirection)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting \&quot;volumeLightDirection\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">double</span> coneEndRadiusGet = light.<a name="a19"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#aaf0c991a15df02b117d469b72abbf8ce">coneEndRadius</a> (&amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat || coneEndRadiusGet != coneEndRadius)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting \&quot;coneEndRadius\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> emitAmbientGet = light.<a name="a20"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#ac848783721fd1f7c9991a2e3aeb54d69">emitAmbient</a> (&amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat || emitAmbientGet != emitAmbient)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting \&quot;emitAmbient\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#add3777de7fdc6ebd147c5d8e22de4843">MFnVolumeLight::MLightShape</a> lightShapeGet = light.<a name="a21"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#affa7d785c88a8d812704d924f9e1a378">lightShape</a> (&amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat || lightShapeGet != lightShape)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting \&quot;lightShape\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Get reference to the penumbra ramp.</span></div>
<div class="line">    <a name="_a22"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html">MRampAttribute</a> ramp = light.<a name="a23"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a2b603dae76de15413c34b185247405f6">penumbraRamp</a> (&amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a name="_a24"></a><a class="code" href="#!/url=./cpp_ref/class_m_float_array.html">MFloatArray</a> a, b;</div>
<div class="line">    <a name="_a25"></a><a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> c,d;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Get the entries in the ramp</span></div>
<div class="line">    ramp.<a name="a26"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a> (d, a, b, c, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting entries from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// There should be 2 entries by default.</span></div>
<div class="line">    <span class="keywordflow">if</span> (d.<a name="a27"></a><a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() != 2)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid number of entries in \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_float_array.html">MFloatArray</a> a1, b1;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> c1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Prepare an array of entries to add.</span></div>
<div class="line">    <span class="comment">// In this case we are just adding 1 more entry</span></div>
<div class="line">    <span class="comment">// at position 0.5 with a curve value of 0.25 and a linear interpolation.</span></div>
<div class="line">    a1.<a name="a28"></a><a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a6d61a0ea5cd7a087db5ee81a990d4307">append</a> (0.5f);</div>
<div class="line">    b1.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a6d61a0ea5cd7a087db5ee81a990d4307">append</a> (0.25f);</div>
<div class="line">    c1.<a name="a29"></a><a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a11568087ac2ca16f4106cee62f65afd7">append</a> (<a name="a30"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8962af5f4bd1f62f61a0474d75c30720ac188c019178783e5be55110601309d7d">MRampAttribute::kLinear</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Add it to the curve ramp</span></div>
<div class="line">    ramp.<a name="a31"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a28478bb78e4da037ed552386348f06fa">addEntries</a> (a1, b1, c1, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error adding entries to \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Get the entries to make sure that the above add actually worked.</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_float_array.html">MFloatArray</a> a2, b2;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> c2,d2;</div>
<div class="line">    ramp.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a> (d2, a2, b2, c2, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting entries from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( a.<a name="a32"></a><a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() + a1.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() != a2.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>())</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid number of entries in \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Now try to interpolate the value at a point</span></div>
<div class="line">    <span class="keywordtype">float</span> newVal = -1;</div>
<div class="line">    ramp.<a name="a33"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#af96c0f4781b8837c19fb08055ecc6f88">getValueAtPosition</a>(.3f, newVal, &amp;stat);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error interpolating value from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( !EQUAL(newVal, .15f))</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid interpolation in  \&quot;penumbraRamp\&quot; expected .15 got &quot;</span>&lt;&lt;newVal</div>
<div class="line">            &lt;&lt;<span class="stringliteral">&quot; .&quot;</span>&lt;&lt;endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Try to delete an entry in an incorrect manner. </span></div>
<div class="line">    <span class="comment">// This delete will work because there is an entry at 0, </span></div>
<div class="line">    <span class="comment">// However we should never do it this way, because the entries</span></div>
<div class="line">    <span class="comment">// array can become sparse, so trying to delete an entry without </span></div>
<div class="line">    <span class="comment">// checking whether an entry exists at that index can cause a failure.</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> entriesToDelete;</div>
<div class="line">    entriesToDelete.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a11568087ac2ca16f4106cee62f65afd7">append</a> (0);</div>
<div class="line">    ramp.<a name="a34"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a540584f3533c9f19f370e41b97787c38">deleteEntries</a> (entriesToDelete, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error deleting entries from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check to see whether the above delete worked.</span></div>
<div class="line">    <span class="comment">// As mentioned earlier it did work, but we shouldn&#39;t do it this way.</span></div>
<div class="line">    <span class="comment">// To illustrate why we shouldn&#39;t do it this way, we&#39;ll try to delete</span></div>
<div class="line">    <span class="comment">// entry at index 0 ( this no longer exists)</span></div>
<div class="line">    ramp.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a> (d2, a2, b2, c2, &amp;stat);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( a2.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() != 2)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid number of entries in \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Trying to delete entry at 0.</span></div>
<div class="line">    entriesToDelete.<a name="a35"></a><a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#ad5522f028dde0080b753279426415a4a">clear</a>();</div>
<div class="line">    entriesToDelete.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a11568087ac2ca16f4106cee62f65afd7">append</a> (0);</div>
<div class="line">    ramp.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a540584f3533c9f19f370e41b97787c38">deleteEntries</a> (entriesToDelete, &amp;stat);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// It will fail because no entry exists.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess == stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error deleting entries from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( a2.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() != 2)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid number of entries in \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// The proper way to delete is to retrieve the index by calling &quot;getEntries&quot;</span></div>
<div class="line">    ramp.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a> (d2, a2, b2, c2, &amp;stat);</div>
<div class="line">    entriesToDelete.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#ad5522f028dde0080b753279426415a4a">clear</a>();</div>
<div class="line">    entriesToDelete.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a11568087ac2ca16f4106cee62f65afd7">append</a> (d2[0]);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Delete the first logical entry in the entry array.</span></div>
<div class="line">    ramp.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a540584f3533c9f19f370e41b97787c38">deleteEntries</a> (entriesToDelete, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error deleting entries from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// There should be only 1 entry left.</span></div>
<div class="line">    ramp.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a> (d2, a2, b2, c2, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting entries from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    entriesToDelete.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#ad5522f028dde0080b753279426415a4a">clear</a>();</div>
<div class="line">    entriesToDelete.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a11568087ac2ca16f4106cee62f65afd7">append</a> (d2[0]);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Can&#39;t delete the last entry, should return failure.</span></div>
<div class="line">    ramp.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a540584f3533c9f19f370e41b97787c38">deleteEntries</a> (entriesToDelete, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess == stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error deleting entries from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    ramp.<a name="a36"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8ca654781819a8028cd336ed339a09be">setPositionAtIndex</a> (0.0f, d2[0], &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Error setting position at index: %d, of \&quot;penumbraRamp\&quot; attribute.\n&quot;</span>, d2[0]);</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    ramp.<a name="a37"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#ab6b392d6b8b4262c8a8ca291316cd3c8">setValueAtIndex</a> (1.0f, d2[0], &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Error setting value at index: %d, of \&quot;penumbraRamp\&quot; attribute.\n&quot;</span>, d2[0]);</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    ramp.<a name="a38"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a50d94081e53d921917ae979c70bf673f">setInterpolationAtIndex</a> (<a name="a39"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8962af5f4bd1f62f61a0474d75c30720a634ee767a8e90ff4d56e140459cca31f">MRampAttribute::kNone</a>, d2[0], &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Error setting interpolation at index: %d, of \&quot;penumbraRamp\&quot; attribute.\n&quot;</span>, d2[0]);</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html">MRampAttribute</a> ramp2 = light.<a name="a40"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_volume_light.html#a8c8ad99bf3a32a58659cfd564bf41251">colorRamp</a> (&amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting  \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }   </div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_float_array.html">MFloatArray</a> a3;</div>
<div class="line">    <a name="_a41"></a><a class="code" href="#!/url=./cpp_ref/class_m_color_array.html">MColorArray</a> b3;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> c3,d3;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Get the entries in the ramp</span></div>
<div class="line">    ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a> (d3, a3, b3, c3, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting entries from \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// There should be 2 entries by default.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( d3.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() != 2)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid number of entries in \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_float_array.html">MFloatArray</a> a4;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_color_array.html">MColorArray</a> b4;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> c4;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Prepare an array of entries to add.</span></div>
<div class="line">    <span class="comment">// In this case we are just adding 1 more entry</span></div>
<div class="line">    <span class="comment">// at position 0.5 withe curve value of 0.5 and a linear interpolation.</span></div>
<div class="line">    a4.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a6d61a0ea5cd7a087db5ee81a990d4307">append</a> (0.5f);</div>
<div class="line">    b4.<a name="a42"></a><a class="code" href="#!/url=./cpp_ref/class_m_color_array.html#a9740f98aca5891832ee7b8bfc5839106">append</a> (<a name="_a43"></a><a class="code" href="#!/url=./cpp_ref/class_m_color.html">MColor</a> (0.0f, 0.0f, 0.75f));</div>
<div class="line">    c4.<a class="code" href="#!/url=./cpp_ref/class_m_int_array.html#a11568087ac2ca16f4106cee62f65afd7">append</a> (<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8962af5f4bd1f62f61a0474d75c30720ac188c019178783e5be55110601309d7d">MRampAttribute::kLinear</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Add it to the curve ramp</span></div>
<div class="line">    ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a28478bb78e4da037ed552386348f06fa">addEntries</a> (a4, b4, c4, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error adding entries to \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Get the entries to make sure that the above add actually worked.</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_float_array.html">MFloatArray</a> a5;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_color_array.html">MColorArray</a> b5;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> c5,d5;</div>
<div class="line">    ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a> (d5, a5, b5, c5, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting entries from \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (  a3.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() + a4.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>() != a5.<a class="code" href="#!/url=./cpp_ref/class_m_float_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>())</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid number of entries in \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Now try to interpolate the color at a point</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_color.html">MColor</a> newCol(0.0, 0.0, 0.0);</div>
<div class="line">    ramp2.<a name="a44"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#aefd4c705ddb01b1c98590d843f5fc4f2">getColorAtPosition</a>(.3f, newCol, &amp;stat);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat )</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error interpolating color from \&quot;penumbraRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( !EQUAL(newCol[2], .45))</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Invalid color interpolation in  \&quot;colorRamp\&quot; expected .45 got &quot;</span>&lt;&lt;newCol[2]&lt;&lt;endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_color.html">MColor</a> clr (0.5, 0.5, 0.0);</div>
<div class="line">    ramp2.<a name="a45"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a7bd77c46ea41241cf199608b4f42dc90">setColorAtIndex</a> (clr, d5[0], &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting color at index: &quot;</span>&lt;&lt;d5[0]</div>
<div class="line">            &lt;&lt;<span class="stringliteral">&quot;, of \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a50d94081e53d921917ae979c70bf673f">setInterpolationAtIndex</a> (<a name="a46"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8962af5f4bd1f62f61a0474d75c30720a29d6ccf6cf507f6e66c72b1d3c2aed00">MRampAttribute::kSpline</a>, d5[1], &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting interpolation at index: &quot;</span>&lt;&lt;d5[1]</div>
<div class="line">            &lt;&lt;<span class="stringliteral">&quot;, of \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// The following demonstrates some of the new methods of the MRampAttribute API</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> indices;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_float_array.html">MFloatArray</a> pos;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_color_array.html">MColorArray</a> colors;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_int_array.html">MIntArray</a> interps;</div>
<div class="line">    ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a087212345e7808e6647721e7b1d1c92e">getEntries</a>( indices, pos, colors, interps, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error getting entries from \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;colors.<a name="a47"></a><a class="code" href="#!/url=./cpp_ref/class_m_color_array.html#a580388f31f60c46fac867ca48a48da1e">length</a>(); i++)</div>
<div class="line">    {</div>
<div class="line">        colors[i] = colors[i]*2;</div>
<div class="line">        interps[i] = <a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8962af5f4bd1f62f61a0474d75c30720a29d6ccf6cf507f6e66c72b1d3c2aed00">MRampAttribute::kSpline</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// set color ramp with new values</span></div>
<div class="line">    stat = ramp2.<a name="a48"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#aa58634ab9423b54b441333a30ec7a1f1">setRamp</a>( colors, pos, interps );</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error setting values on \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// sort entries by position, this will regenerate the indices back from 0</span></div>
<div class="line">    stat = ramp2.<a name="a49"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a4da23488afc771635de2b18abd51503d">sort</a>( <span class="keyword">true</span> );</div>
<div class="line">    <span class="keywordflow">if</span> ( MS::kSuccess != stat)</div>
<div class="line">    {</div>
<div class="line">        cout&lt;&lt;<span class="stringliteral">&quot;Error sorting entries from \&quot;colorRamp\&quot; attribute.&quot;</span>&lt;&lt;endl;</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check for valid indices before setting interpolation types</span></div>
<div class="line">    <span class="keywordflow">if</span> ( ramp2.<a name="a50"></a><a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#ac9a84eabdd3e248266600cbcf0c940cc">hasIndex</a>( 0 ) )</div>
<div class="line">    {</div>
<div class="line">        ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a50d94081e53d921917ae979c70bf673f">setInterpolationAtIndex</a> (<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8962af5f4bd1f62f61a0474d75c30720a29d6ccf6cf507f6e66c72b1d3c2aed00">MRampAttribute::kSpline</a>, 0 );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#ac9a84eabdd3e248266600cbcf0c940cc">hasIndex</a>( 56 ) )</div>
<div class="line">    {</div>
<div class="line">        ramp2.<a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a50d94081e53d921917ae979c70bf673f">setInterpolationAtIndex</a>( <a class="code" href="#!/url=./cpp_ref/class_m_ramp_attribute.html#a8962af5f4bd1f62f61a0474d75c30720a29d6ccf6cf507f6e66c72b1d3c2aed00">MRampAttribute::kSpline</a>, 56 );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> stat;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
   </div></body>
</html>
