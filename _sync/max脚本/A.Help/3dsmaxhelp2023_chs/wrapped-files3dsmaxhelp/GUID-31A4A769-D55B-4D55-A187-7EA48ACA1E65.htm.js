var topic = "<!DOCTYPE html><html>\n   <head>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n      <meta name=\"product\" content=\"3DSMAX\">\n      <meta name=\"release\" content=\"2023\">\n      <meta name=\"book\" content=\"GeneralUser\">\n      <meta name=\"created\" content=\"2022-03-27\">\n      <meta name=\"topicid\" content=\"GUID-31A4A769-D55B-4D55-A187-7EA48ACA1E65\">\n      <meta name=\"description\" content=\"在运动流模式，既可以使用插入速率变换也可以使用计算最小脚步滑动的优化变化来合并 BIP 文件，以创建更长的角色动画。\">\n      <meta name=\"indexterm\" content=\"运动流: 模式\">\n      <meta name=\"indexterm\" content=\"运动流: 工作流\">\n      <meta name=\"contextid\" content=\"TOPIC_MOTION_FLOW_MODE\">\n      <meta name=\"topic-type\" content=\"concept\">\n      <title>运动流模式</title><script language=\"javascript\">var index = \'index3dsmaxhelp.html\';</script></head>\n   <body height=\"100%\">\n      <div class=\"body_content\" id=\"body-content\" dir=\"ltr\"><a name=\"GUID-31A4A769-D55B-4D55-A187-7EA48ACA1E65\"></a><div class=\"head\">\n            <h1>运动流模式</h1>\n         </div>\n         <div class=\"abstract\"> \n            <p><a name=\"GUID-F62A7F58-CCB2-4755-8564-53A10077F039\"></a> <img src=\"../images/GUID-1809228C-7301-4A0E-A6F9-A87CDDC0DBF4-low.png\"> \n            </p> \n            <p class=\"blurb\">在运动流模式，既可以使用插入速率变换也可以使用计算最小脚步滑动的优化变化来合并 BIP 文件，以创建更长的角色动画。 </p> \n         </div>\n         <div class=\"bodyReference\"><a name=\"UL_AE0E60E197C7423B8BFEC8A120340996\"></a><ul>\n               <li> <span class=\"MenuCascade\" id=\"GUID-6FBCCA48-1406-40D9-BFA5-85E2DBFA4962\"> 选择 Biped。 <img src=\"../images/ac.menuaro.gif\"> <img src=\"../images/GUID-EBCA3C24-9B3B-46F2-A058-71C6B3FFD2E6-low.png\">“运动”面板  <img src=\"../images/ac.menuaro.gif\"> “Biped”卷展栏  <img src=\"../images/ac.menuaro.gif\"> <img src=\"../images/GUID-1809228C-7301-4A0E-A6F9-A87CDDC0DBF4-low.png\">（运动流模式）</span> \n               </li>\n            </ul>\n            <p><a name=\"WS73099CC142F487552A50A53111913E7C26F-77D0\"></a>首先添加剪辑，并将它们引用到“运动流图形”中的 BIP 文件。然后使用它们创建“运动流脚本”列表中的脚本。使用“过渡编辑器”调整 BIP 文件之间的过渡。将脚本、过渡和剪辑引用保存到运动流编辑器文件 (MFE) 中供日后进行编辑。 \n            </p><a name=\"WS1A9193826455F5FFBA679E112A6A190045A5A\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-37BD70C8-8D41-4FBD-BDB6-F5B12A02375F-low.png\"><p class=\"figure-title\">变换编辑器使用<em class=\"strong\"> <em class=\"mild\">重影</em> </em>来表示源（黄色）和目标（红色）剪辑。用这些线型轮廓图重影来判断躯干位置并在两个剪辑中为变换设置可能的开始帧。\n               </p>\n            </div>\n            <div class=\"section\"><a name=\"WS1A9193826455F5FFBA679E112A6A190045A5F\"></a> \n               <h2><a name=\"GUID-6A305364-1952-4C32-AA65-69D7E9F3CF48\"></a>随机运动和群组\n               </h2> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF1652A\"></a>您可以使用“创建随机运动”命令为一个或多个 biped 生成随机运动。例如，可以使用它们设置一群 biped 的动画。对于群组，必须在众多的 Biped 中共享一个运动流脚本。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF1652B\"></a>如果用代理和行为来驱动群组，那么 <em class=\"strong\">character studio</em> 就会基于代理的速度和方向来选取适当的剪辑，而不是完全随机运动。如果代理减缓速度直到停止，那么 <em class=\"strong\">character studio</em> 就会查找并使用一个速度减缓直到停止的剪辑（如果有这样的剪辑存在的话）。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF1652C\"></a>在所有的群组模拟中，必须在合成群组运动之前加载剪辑并创建变换。经常，许多剪辑被用来合成群组。自动变换可以使您不必在剪辑间手动创建变换。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF1652D\"></a>“运动流”模式显示了一个附加的卷展栏：<span class=\"char_link\"><a href=\"GUID-0CC8D6B5-43D0-4C51-B2FD-C0B19EB4D5A8.htm\">“运动流”卷展栏</a></span>可以访问“运动流图形”，并可以加载和保存运动流文件 (MFE)。该卷展栏还包含“脚本”部分，在其中您可以为 biped 创建脚本、编辑过渡、创建统一运动，以及创建随机运动。 \n               </p> \n               <div><a name=\"WS1A9193826455F5FFBA22E1113C6C30C0E77D\"></a><div class=\"note-note\"><span class=\"label label-target-language\">注意:</span>在“运动流模式”中，一些 <em class=\"strong\">character studio</em> 中的控件被禁用。 \n                  </div>\n               </div> \n            </div>\n            <div class=\"section\"><a name=\"WS1A9193826455F5FFBA679E112A6A190045A61\"></a> \n               <h2><a name=\"GUID-3CC77F89-8771-4D69-81FB-368D0A2146F8\"></a>工作流程：从在“运动流模式”中使用剪辑和变换开始\n               </h2> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF1652E\"></a>根据导入和转换的运动捕捉数据和自己的角色动画创建自己的 BIP 文件库。选定 Biped，打开“运动流模式”。在“运动流”卷展栏上，启用“显示图形”以打开“运动流图形”。在“运动流图形”上，单击“创建剪辑”，在“运动流”对话框中添加剪辑。首先在“运动流图形”工具栏上打开“选择剪辑变换”，然后右键单击剪辑图标，这样就将剪辑同\n                  BIP 文件关联了；之后就会出现一个剪辑对话框，它可以对剪辑进行浏览。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF1652F\"></a>在“运动流”卷展栏上单击“定义脚本”，然后在“运动流图形”上选择一系列剪辑。单击其中的一个剪辑，它们就会出现在脚本列表中。这些剪辑在“运动流视图”中虚拟连接起来，其中的红色箭头（活动的脚本）代表默认变换（最小运动损失）。变换的默认持续时间是 25\n                  帧，它在很多情况下都提供了好的效果。默认情况下，变换在剪辑之间使用了插入速率。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF16530\"></a>在脚本部分使用“编辑变换”以在剪辑之间微调变换。在脚本列表中选中一个脚本，然后从脚本命令中单击“编辑变换”，就会显示<span class=\"char_link\"><a href=\"GUID-1EAB4EED-3700-412A-ADD4-247D252C8702.htm\">变换编辑器</a></span>，并且源和目标剪辑的名称会在它的顶部显示。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF16531\"></a>在“源剪辑”区域，“开始帧”代表了源文件中变换开始的帧。例如，如果源剪辑起始帧为第 60 帧，则从源剪辑的过渡将从第 60 帧开始。<em class=\"mild\"></em>过渡的持续时间在左上角的“长度”字段中设置，长度值以帧为单位。<em class=\"mild\"></em>在此示例中，如果长度设为 10，那么变换到目标剪辑就需要 10 帧。在“目标剪辑”区域，“开始帧”代表了<em class=\"mild\">目标</em>剪辑中变换开始的帧；例如，如果值为 80，变换就会从<em class=\"mild\">目标</em>剪辑中的 80 帧开始。在此示例中，源剪辑从 0 播放到 60，从源剪辑中的帧 60 到目标剪辑中的帧 90（帧 80 到帧 90 覆盖了目标剪辑的变换期）会有一个 10 帧的变换，然后再播放目标剪辑的剩余部分。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF16532\"></a>当显示“变换编辑器”时，在手动编辑变化之前第一件要做的事情就是优化变换。优化变换使用了最小化脚步滑动的算法。“变换编辑器”对话框的右上角是优化变换的图标。如果对优化的变换感到不满意，可以手动地编辑变换。 \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF16533\"></a>手动编辑变换提供了大多数的控制；在“变换编辑器”的“重影”区域中，帧微调器可以在查看两个线型轮廓图时移动源和目标剪辑。用帧微调器在源和目标两个剪辑中找到合适的开始帧。在源和目标剪辑中要寻找的内容很类似，都支持脚部、显示自然的躯干要素以及手臂运动等类似的内容。如果在两个剪辑之间的速率变化得太急促，用长度字段来调整变换的持续时间。\n                  \n               </p> \n               <p><a name=\"WS73099CC142F4875514C01AC112A7ACEF16534\"></a>在“运动流”卷展栏上，单击“保存文件”来将工作保存成 MFE 文件，变换和脚本就被保存了。这些 BIP 文件不包含足迹。Biped 的脚关键点以足迹的 IK 混合值 1 存储。要提取足迹，退出“运动流模式”，在“Biped”卷展栏上使用“加载文件”，然后单击“转换”。转换以脚\n                  IK 混合值 1 来提取足迹。 \n               </p> \n               <div><a name=\"WS1A9193826455F5FFBA22E1113C6C30C0E77E\"></a><div class=\"note-tip\"><span class=\"label label-target-language\">提示</span>任何引用 BIP 文件的位置都被存在 MFE 文件中。如果找不到 BIP 文件，将分别打开“缺少运动流文件”对话框，其中列出了缺少的文件。要解决该问题，请打开<span class=\"char_link\"><a href=\"GUID-A1FF4248-D96A-447C-BB67-8D66D0AF494F.htm\">“资源跟踪”对话框</a></span>并且设置缺少文件的新路径。 \n                  </div>\n               </div> \n            </div>\n         </div><span class=\"noindex\">\n            <div class=\"topic-list\">\n               <h4 class=\"related\">本节内容</h4>\n               <ul class=\"jumplist\">\n                  <li class=\"topiclist-litem\"><a href=\"GUID-0CC8D6B5-43D0-4C51-B2FD-C0B19EB4D5A8.htm\">“运动流”卷展栏</a><p>当“Biped”卷展栏中的“运动流”模式为活动时，就会显示“运动流”卷展栏。您可以使用此卷展栏上的控制加载、附加和保存运动流编辑器文件 (MFE)，以及打开<span class=\"char_link\"><a href=\"GUID-841BC7B2-AE0E-434F-B6E9-28BB14A4098A.htm\">“运动流图形”</a></span>和“共享运动流”对话框。 \n                     </p>\n                  </li>\n                  <li class=\"topiclist-litem\"><a href=\"GUID-0C3D2B6F-106D-4D26-9CA9-E42285B06917.htm\">“运动流脚本”组</a><p>在“脚本组”中使用工具可以创建和删除脚本、命名脚本、编辑变换、编辑剪辑和定位整个动画。在此卷展栏中使用工具可以为一个或多个 Biped 创建随机运动。只有当<span class=\"char_link\"><a href=\"GUID-31A4A769-D55B-4D55-A187-7EA48ACA1E65.htm\">“运动流”模式</a></span>处于活动状态时，在“运动流”卷展栏上的脚本组才是可用的。 \n                     </p>\n                  </li>\n                  <li class=\"topiclist-litem\"><a href=\"GUID-841BC7B2-AE0E-434F-B6E9-28BB14A4098A.htm\">运动流图对话框</a><p>使用“运动流图”对话框中的工具可以将剪辑添加到图形、计算优化的变换、设置随机脚本变换值、移动和删除剪辑以及显示剪辑的从属关系。在“运动流图”对话框中剪辑和变换显示作为图标。 </p>\n                  </li>\n                  <li class=\"topiclist-litem\"><a href=\"GUID-1EAB4EED-3700-412A-ADD4-247D252C8702.htm\">过渡编辑器</a><p>通过单击“脚本”组列表中的剪辑，并单击同一组中的“编辑变换”，或者右键单击“运动流图形”中的变换箭头，可以显示变换编辑器。 </p>\n                  </li>\n                  <li class=\"topiclist-litem\"><a href=\"GUID-97522897-CDB7-42B5-B7A3-DF6FFFF99CB0.htm\">“创建随机运动”对话框</a><p>使用“创建随机运动”对话框中的控件，可以随机穿越运动流图形中的剪辑以制作一个或多个 Biped 的动画。随机运动的参数是在“运动流图形”中设置的，也可以在剪辑和变换对话框或“创建随机运动”对话框中创建。 </p>\n                  </li>\n                  <li class=\"topiclist-litem\"><a href=\"GUID-CA8D82C0-70D0-4C81-A977-B117E9C7DFF4.htm\">“共享运动流”对话框</a><p>使用“共享运动流”对话框中的控件可以向多个 Biped 指定一个运动流。您可以使用所有剪辑和转换创建运动流，以便创建使多个 Biped 具有动化效果的脚本，而不是为单个 Biped 设计运动流脚本。 </p>\n                  </li>\n                  <li class=\"topiclist-litem\"><a href=\"GUID-0E1F30CF-A253-41A6-A175-05B10958C43E.htm\">“变换优化”对话框</a><p>“变换优化”对话框中的选项可用于选择优化算法将在哪些范围内搜索变换。可搜索整个剪辑，还可在现有变换的附近搜索。必须指定优化变换的首选长度。character studio 将尝试尽可能接近指定的长度，同时仍选择提供最佳长度。 </p>\n                  </li>\n                  <li class=\"topiclist-litem\"><a href=\"GUID-A9CA19B1-FD43-44F3-9628-5A0EEC0DA760.htm\">剪辑属性对话窗</a><p>在“剪辑属性”对话框中的参数允许浏览查找一个剪辑、给此剪辑设置起始帧和结束帧以及为此剪辑设置随机开始概率。当使用“创建随机运动”为 Biped 创建随机脚本时，使用随机开始概率。 </p>\n                  </li>\n               </ul>\n            </div></span><div class=\"footer-block\"><a href=\"..\" class=\"comments-anchor\" target=\"_blank\"><span class=\"comments-link\">请将您关于此页内容的评论发送给我们</span></a></div><br><p class=\"footer-license-block\"><a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"><img alt=\"Creative Commons License\" style=\"border-width: 0;\" src=\"../images/ccLink.png\"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href=\"http://autodesk.com/creativecommons\" target=\"_blank\">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>\n   </body>\n</html>";