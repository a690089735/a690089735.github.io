<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-C2C7F00D-B864-4679-B841-16E84CA6AAC2">
      <meta name="description" content="“贴图对象”操作符通过从一个或多个参考对象获取贴图值来为粒子指定贴图。对于每个粒子，“贴图对象”操作符在参考几何体上找出最近的点，从此点获取贴图值和材质 ID，然后将这些值指定给粒子。">
      <meta name="indexterm" content="操作符（粒子流）: 贴图对象">
      <meta name="topic-type" content="concept">
      <title>“贴图对象”操作符</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-C2C7F00D-B864-4679-B841-16E84CA6AAC2"></a><div class="head">
            <h1>“贴图对象”操作符</h1>
         </div>
         <p class="blurb">“贴图对象”操作符通过从一个或多个参考对象获取贴图值来为粒子指定贴图。对于每个粒子，“贴图对象”操作符在参考几何体上找出最近的点，从此点获取贴图值和材质 ID，然后将这些值指定给粒子。 </p>
         <div class="bodyReference"><a name="UL_6450E79043AB42DEB6565D941EFBA589"></a><ul>
               <li> <span class="MenuCascade" id="GUID-FAB2D988-A730-4A8C-9962-049B0308A36E">粒子视图  <img src="../images/ac.menuaro.gif">  在某个事件中单击“贴图对象”，或向粒子系统添加“贴图对象”操作符，然后单击它。</span> 
               </li>
            </ul>
            <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28FD"></a>如果粒子进入已指定了贴图的事件，则可以混合贴图值以避免颜色跳跃。可以按照时间或与参考几何体之间的距离进行混合。 
            </p>
            <div class="section"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28FC"></a> 
               <h2><a name="GUID-1D12304A-C965-4B73-877D-D0BF1714E712"></a>界面
               </h2> <a name="WS1A9193826455F5FF5CF1D02511B1D000978-28FB"></a><div class="figure-anchor"><img src="../images/GUID-93F9DA19-5B53-4D99-8ECB-88F2EAB60971-low.png"></div>  <a name="GUID-E4434F19-024E-4585-9418-ED7F38B511C1"></a><dl>
                  <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6433"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28FA"></a>类型</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-653A"></a> 定义用于获取和应用贴图的计时。这些选项包括： <a name="WS1A9193826455F5FF5CF1D02511B1D000978-28F8"></a><ul>
                           <li> <em class="strong">在事件输入时一次</em>当粒子进入事件时，从参考对象几何体上的最近点获取一次贴图。如果粒子锁定到参考曲面，则使用此选项。 
                           </li>
                           <li> <em class="strong">连续</em>在粒子处于当前事件期间连续获取贴图。如果粒子相对于参考对象更改位置，则贴图值将按照任意给定时刻的最近点发生变更，这是因为在此情况下，曲面上的最近点不是恒定的。 
                              <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28F5"></a>如果选择此选项，则计算时间将明显延长，因为必须为每一帧上的每个粒子计算最近点。仅当必要时使用此选项。 
                              </p> 
                           </li>
                        </ul> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6432"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28F4"></a>获得子材质索引</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6539"></a> 启用时，“贴图对象”操作符从最近面为每个粒子指定材质 ID。如果当前事件或以前的事件具有使用参考曲面材质的材质操作符，则此选项会将粒子着色与参考曲面匹配。这样，您可以将粒子混合到参考曲面以获得“多维/子对象”材质。 
                        <div><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28F2"></a><div class="note-tip"><span class="label label-target-language">提示</span>将“贴图对象”操作符置于同一事件中的“Material”操作符之下。这样，“贴图对象”就对于为粒子指定子材质索引具有最终决定权。 
                           </div>
                        </div> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6431"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28F1"></a>每个粒子的统一颜色</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6538"></a> 启用时，整个粒子获得相同的贴图坐标。这样，由于贴图坐标在整个粒子图形中都是相同的，因而整个粒子具有相同的颜色。贴图坐标从参考几何体上距离粒子轴点最近的曲面点获取。 
                        <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28EF"></a>禁用时，粒子的贴图是最近曲面点处的贴图的线性近似。这仿佛是将来自参考几何体的贴图投影到粒子上。因此，粒子的顶点具有不同的贴图坐标，并且粒子上的纹理表示参考几何体的一片纹理。此方法速度较慢，因为它需要对参考几何体进行更复杂的分析。 
                        </p> 
                     </div>
                  </dd>
               </dl>
               <div class="dl_section"><a name="GUID-75905232-0BB8-4D0F-8A1D-8964B133AA74"></a><p class="title"><a name="GUID-5C213C07-085C-493E-BC2B-F6A4375C2281"></a>“来自对象的贴图”组
                  </p>
                  <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28ED"></a>使用这些控件可指定参考对象，粒子将从这些对象获取贴图或材质 ID。 
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6430"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28EC"></a>[列表]</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6537"></a> 列出参考对象。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-642F"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28EA"></a>添加</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6536"></a> 向列表中添加对象。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-642E"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28E8"></a>按列表</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6535"></a> 显示一个对话框，在此对话框中您可以从列表中选择多个对象。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-642D"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28E6"></a>移除</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6534"></a> 从列表中移除高亮显示的对象。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-642C"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28E4"></a>静态对象</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6533"></a> 指示不以任何方式对参考几何体设置动画。在此情况下，“贴图对象”操作符仅获取贴图和材质 ID 一次。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-642B"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28E2"></a>已设置动画的曲面</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6532"></a> 启用时，“贴图对象”操作符将在每一帧更新曲面数据，这在参考几何体具有导致其图形发生更改的曲面动画时是必需的。如果对象仅具有变换动画（移动、旋转、缩放），请将此选项保留为禁用状态。仅当“静态对象”禁用时，此选项才可用。 
                        </div>
                     </dd>
                  </dl>
               </div>
               <div class="dl_section"><a name="GUID-C9CE6EC4-6DA3-4F97-84B6-98BE71D95596"></a><p class="title"><a name="GUID-4A254703-6F5E-45A8-BC2C-6CB3D185F9D4"></a>“贴图通道”组
                  </p>
                  <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28DF"></a>选择要从参考曲面获取并指定给粒子的贴图通道。最多可以选择 32 个通道。 
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6429"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28DE"></a>顶点颜色通道</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6530"></a> 获取参考几何体的顶点颜色通道并将其指定给粒子。 
                        </div>
                     </dd>
                  </dl>
               </div>
               <div class="dl_section"><a name="GUID-CE727E35-7C28-456D-AC13-EA80CA41A8DD"></a><p class="title"><a name="GUID-22C247A3-4330-40B2-A07D-0CA45EDA8A38"></a>“贴图变化”组
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6428"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28DB"></a>U/V/W 向变化 %</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-652F"></a> 使指定的贴图值可以变化。变化值为标准 0.0-1.0 贴图空间的百分比值。例如，如果“U 向变化 %”的值为 20.0，则指定给粒子的 U 向贴图最多可以与参考几何体贴图 U 向值相差 0.2。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6427"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28D9"></a>排除平铺</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-652E"></a> 将贴图值钳制在 0.0-1.0 范围内。由 U/V/W 向变化 % 设置的变化可导致贴图值小于 0.0 或大于 1.0。对于非平铺纹理，这会导致着色的视觉跳跃。当启用此选项时，如果原始贴图值小于 1.0，则添加变化值不会使其大于 1.0。如果原始贴图值大于
                           0.0，则添加变化值不会使其小于 0.0。 
                           <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28D7"></a>默认情况下，一旦粒子进入事件，即为其指定所获取贴图值。如果已在以前的事件中为粒子指定贴图值，则会产生视觉颜色跳跃。使用“按时间混合贴图”或“按距离混合贴图”可使粒子在以前的贴图和由当前事件中的“贴图对象”操作符指定的贴图之间平稳混合。 
                           </p> 
                        </div>
                     </dd>
                  </dl>
               </div>
               <dl>
                  <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6426"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28D6"></a>按时间混合贴图</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-652D"></a> 使粒子按时间在以前的贴图和当前贴图之间平稳混合。 
                        <div><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28D4"></a><div class="note-note"><span class="label label-target-language">注意:</span>当启用“按时间混合贴图”时，“按距离混合贴图”不可用。 
                           </div>
                        </div> 
                        <p><a name="GUID-B7F84843-62FA-4BBF-9DA3-D32944D0C4F7"></a><em class="strong">类型</em>此选项可定义用于贴图混合的计时。仅当启用“按时间混合贴图”时才可供使用。 
                        </p> 
                        <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28D1"></a>这些类型有： 
                        </p> <a name="WS1A9193826455F5FF5CF1D02511B1D000978-28D0"></a><ul>
                           <li> <em class="strong">绝对时间</em>粒子按照由“完成时间”参数指定的它们到达相应帧的时间完成混合过程。 
                           </li>
                           <li> <em class="strong">粒子年龄</em>粒子按照由“完成时的年龄”参数指定的它们到达一定年龄的时间完成混合过程。 
                           </li>
                           <li> <em class="strong">事件期间</em>粒子将在当前事件中经过一段特定时间段之后完成混合过程，此时间段由“完成时间”参数指定。 
                           </li>
                           <li> <em class="strong">受限更改速率</em>限制粒子可以更改其贴图的速率。“周转时间”参数定义将贴图值从其以前的值更改为当前值所需的时间间隔。“周转时间”值越大，粒子更改到当前贴图所花费的时间就越长。 
                           </li>
                        </ul> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6424"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28CB"></a>按距离混合贴图</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-652B"></a> 使粒子根据与参考几何体的距离在以前的贴图和当前贴图之间平稳混合。在每一帧，操作符会计算与最近曲面点的距离。当粒子接近参考曲面时，开始进行混合。当粒子相对于参考曲面达到“完成距离”时完成混合。如果粒子一进入事件就指向曲面，如同使用“Find Target”操作符那样，请使用此选项。
                        
                        <div><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28C9"></a><div class="note-note"><span class="label label-target-language">注意:</span>当启用“按距离混合贴图”时，“按时间混合贴图”不可使用。 
                           </div>
                        </div> 
                     </div>
                  </dd>
                  <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6423"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28C8"></a>在视口中显示贴图</span></dt>
                  <dd>
                     <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-652A"></a> 在视口中显示贴图着色。 
                     </div>
                  </dd>
               </dl>
               <div class="dl_section"><a name="GUID-49CE9CAF-5ADF-4267-8EA9-596DD2A2218C"></a><p class="title"><a name="GUID-C1706E89-91F3-479C-996A-F64BE1F13730"></a>控件的“唯一性”组
                  </p>
                  <p><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28C5"></a>此组中的设置用于更改“贴图变化”组中“U 向变化”、“V 向变化”和“W 向变化”参数的随机化。 
                  </p>
                  <dl>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6422"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28C4"></a>种子</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6529"></a> 指定随机化值。 
                        </div>
                     </dd>
                     <dt><a name="WS1A9193826455F5FF-7C11D46C11CB8605735-6421"></a><span class="term"><a name="WS1A9193826455F5FF5CF1D02511B1D000978-28C2"></a>新增特性</span></dt>
                     <dd>
                        <div class="definition"><a name="WS1A9193826455F5FF-5187222B11EEADCDC61-6528"></a> 使用随机化公式生成新种子。 
                        </div>
                     </dd>
                  </dl>
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>