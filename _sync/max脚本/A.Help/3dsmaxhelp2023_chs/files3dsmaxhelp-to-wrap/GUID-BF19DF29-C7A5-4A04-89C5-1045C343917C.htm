<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-BF19DF29-C7A5-4A04-89C5-1045C343917C">
      <meta name="description" content="“函数”子操作符可在一个或两个输入值或运算对象上执行一个或多个数学计算。该子操作符可提供各种函数；特定的可用计算依赖于输入类型。">
      <meta name="topic-type" content="concept">
      <title>“函数”子操作符</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-BF19DF29-C7A5-4A04-89C5-1045C343917C"></a><div class="head">
            <h1>“函数”子操作符</h1>
         </div>
         <p class="blurb">“函数”子操作符可在一个或两个输入值或运算对象上执行一个或多个数学计算。该子操作符可提供各种函数；特定的可用计算依赖于输入类型。 
            
         </p>
         <div class="bodyReference"><a name="UL_C37AEFAFCF3D440B93E8743D73DCBA79"></a><ul>
               <li> <span class="MenuCascade" id="GUID-FB0E0F86-0B9D-4036-BDA1-51CBD49931D7">“粒子视图” <img src="../images/ac.menuaro.gif"> “数据图标/操作符/图标测试/测试” <img src="../images/ac.menuaro.gif">  单击“编辑数据流”。 <img src="../images/ac.menuaro.gif">  添加或选择“函数”。</span> 
               </li>
            </ul>
            <div><a name="GUID-8CD9A2E6-86BE-42D7-9522-2C8986C75807"></a><div class="note-note"><span class="label label-target-language">注意:</span>“函数”子操作符的输出类型是两个运算对象中较复杂的一个。例如，使用实数和整数运算对象的函数将输出实数数据。如果需要输出不同的数据类型，请将“转换”子操作符与“函数”子操作符输出关联。 
                  
               </div>
            </div>
            <div class="section"><a name="AB1007090"></a> 
               <h2><a name="GUID-1940DAC6-B026-4C4E-B824-175FF68FB333"></a>界面
               </h2> 
            </div><a name="FIG_0C85D46E6D204B61BAE339BDADC3CBD5"></a><div class="figure-anchor"><img src="../images/GUID-5CEE3851-7023-4C04-94E5-1BBF33C2B251-low.png"></div><a name="GUID-B12AB08F-9954-4723-ADAA-E5872842A2B6"></a><div class="dl_section"><a name="GUID-C33913B1-B089-46B5-A34B-1295AFFA8CEF"></a><p class="title"><a name="GUID-A2907C93-803C-4B23-BC52-228B9228538C"></a>“第一个运算对象”组
               </p>
               <p><a name="GUID-05C7F4D1-022A-4339-9B7E-7F126D0B4EB7"></a>第一个运算对象始终可用。组框标签（“第一个运算对象”）后跟各自子操作符的输入标签；例如，如上图所示，该标签为向量输入 V1，后跟“(X)”。后者表示输入值将在所选函数中替换 X。例如，如果“类型”为“整数”，“使用第二个运算对象”处于禁用状态，且使用默认函数“平方
                  X*X”（在这种情况下），则输入值将用作第一个运算对象，且“函数”子操作符将输出正方形。 
                  
               </p>
               <dl>
                  <dt><a name="GUID-F6BDE594-6E0D-48D8-8F16-0ECF41D3A056"></a><span class="term"><a name="GUID-E70A9EB8-076B-4B6A-BC5F-D4FEC2595E82"></a>类型</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-6AEEDA45-BB10-4235-9604-24917D6987BA"></a>选择第一个运算对象的数据类型。可以从下拉列表中获得高级数据操纵工具支持的所有数据类型（“复数”、“对象”、“对”以及“等于”除外）。此选项可确定组框标签和各自子操作符的输入连接类型。
                     </div>
                  </dd>
                  <dt><a name="GUID-261D4B9E-4AD2-4EC7-80AA-054CFB5E329D"></a><span class="term"><a name="GUID-D91972A4-D112-43E7-873B-98DB5012B5F2"></a>前因子</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-64D46172-D050-45C8-A185-E59CB2CC6B7A"></a>指定在应用函数之前与第一个运算对象相乘的实数值。默认设置为 1.0。 
                        
                        <p><a name="GUID-574A1764-74A6-4F38-B923-101EE491ED3E"></a>在某些情况下，前因子参数会切换为其他两个参数之一： 
                           
                        </p>
                     </div>
                  </dd>
                  <dt><a name="GUID-D881B7E6-E485-492D-831A-21537A3D0C32"></a><span class="term"><a name="GUID-60291FCE-1B0B-4C1D-B8C5-0DD4C58C4557"></a>混合因子</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-30C5AB92-F2EE-4B15-A56B-0913D88F989B"></a>仅当选择了“插值”函数时可用。混合因子定义了两个运算对象的插值比率。例如，如果混合因子为 0.5，则两个输入被视为相等。插值时，共享总数为 1.0。混合因子是用于第一个输入的共享。由于总数为 1.0，因此第二个输入的共享为 1.0，即混合因子值。
                     </div>
                  </dd>
                  <dt><a name="GUID-B4FD9BA6-6B7E-450F-997B-78148AA8187B"></a><span class="term"><a name="GUID-73610D32-54FB-4C7A-B23B-30D18037CD66"></a>偏移</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-D66EFA28-15BC-4C67-A685-3D04006570C1"></a>仅当使用带有“标识”函数的整数或实数类型的单个运算对象（第一个运算对象）时可用。“偏移”参数是一种按固定量增大或减小数据通道中的值，而免去创建其他子操作符的麻烦的快速方法。
                     </div>
                  </dd>
                  <dt><a name="GUID-E3B21958-D40A-4319-B69B-883989CD9C85"></a><span class="term"><a name="GUID-88FFD7A5-87C6-4855-9CD9-4F7CCAED493B"></a>R3</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-2FC12821-CD54-4796-88A4-146B942225A6"></a>启用时，会将 R3 输入添加到子操作符中，您可以将输出实数值的任何子操作符连接到该操作符。此输入前因子可替换显式前因子值，并且在应用函数之前会与第一个运算对象相乘。
                     </div>
                  </dd>
               </dl>
            </div>
            <dl>
               <dt><a name="GUID-559C027F-6EE0-4A6B-90DE-85834B642C18"></a><span class="term"><a name="GUID-A83BC133-0F5F-4A66-B81F-C1264D8C524A"></a>使用第二个运算对象</span></dt>
               <dd>
                  <div class="definition"><a name="GUID-C0A4D1A2-D171-4A7C-8D37-9D31D84DE1F3"></a>启用时，该函数会使用两个运算对象，因此可以从“函数”下拉列表中获得一组不同的函数。禁用时，仅使用“第一个运算对象”输入。
                  </div>
               </dd>
            </dl>
            <div class="dl_section"><a name="GUID-8050F8AD-E69D-453B-93B4-3E85B37DEFD7"></a><p class="title"><a name="GUID-B24A7D14-3BCF-4FA1-ADA5-C37BB6C01590"></a>“第二个运算对象”组
               </p>
               <p><a name="GUID-BA11CC12-17D9-4F8C-A932-B0798767E6A7"></a>仅当“使用第二个运算对象”（请参见上文）处于启用状态时，以下控件才可用。在这种情况下，“函数”子操作符将在两个输入值上执行计算。根据第一个运算对象类型，第二个运算对象可能是由用户选择的，也可能不是。例如，如果第一个运算对象的类型为“时间”，则第二个运算对象的类型也必须为“时间”。子操作符输入连接会进行相应地配置。
                  
                  
               </p>
               <p><a name="GUID-F4666DFB-7FB3-4FB7-AFE8-4F88C20090B3"></a>组框标签（“第二个运算对象”）后跟各自子操作符的输入标签；例如，在上图中，该标签为矩阵输入 M2，后跟“(Y)”。后者表示输入值将在所选函数中替换 Y。例如，如果两个输入类型都为“时间”并且使用函数“相加 X+Y”，则 T2 输入值将添加到 T1
                  输入值中。 
                  
               </p>
               <dl>
                  <dt><a name="GUID-C8F4ED78-6805-47EB-BDDA-88CEE0A5D234"></a><span class="term"><a name="GUID-EFEA240B-248D-4296-8B94-3266296134C4"></a>类型</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-40EED2C2-8F57-40D8-A3C4-3CD4A618FA76"></a>选择第二个运算对象的数据类型（如果适用）。仅当第一个运算对象类型为“整数”、“四元数”、“实数”或“向量”时，下拉列表才可用。否则，该软件会将第一个运算对象设置为同一数据类型，并且将“类型”设置为只读字段。是否可以从下拉列表中获得数据类型取决于第一个运算对象的类型。例如，如果第一个运算对象类型为“整数”，则第二个运算对象的类型只能是“整数”或“实数”。
                     </div>
                  </dd>
                  <dt><a name="GUID-F65BD0EA-16F7-417B-AC9F-C812921C3CF9"></a><span class="term"><a name="GUID-570F4A6A-3BF5-420C-BB90-06BCAF86976F"></a>前因子</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-F1120465-D098-45BE-9252-691E160C0E23"></a>指定在应用函数之前与第二个运算对象相乘的实数值。默认设置为 1.0。
                     </div>
                  </dd>
                  <dt><a name="GUID-1ECDB940-0FF4-4ECB-9922-7E4F78CDF491"></a><span class="term"><a name="GUID-5D326F7A-F7C9-4189-824D-3825B8D4A2FF"></a>R4</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-90A7504E-46C5-44FD-A33A-4011234E0CA7"></a>启用时，会将 R4 输入添加到子操作符中，您可以将输出实数值的任何子操作符连接到该操作符。此输入前因子可替换显式前因子值，并且在应用函数之前会与第二个运算对象相乘。
                     </div>
                  </dd>
               </dl>
            </div>
            <dl>
               <dt><a name="GUID-B9CE147B-76E9-4C04-AFBE-0C3BAE97BB44"></a><span class="term"><a name="GUID-041B262D-59D8-4E70-9CC3-E4478F2F84DA"></a>函数</span></dt>
               <dd>
                  <div class="definition"><a name="GUID-B0CAAA7A-3F68-4377-B7E8-6B28D5F0375A"></a>选择用于计算基准输出值的公式。该下拉列表的内容取决于第一个运算对象的数据类型和第二个运算对象的数据类型（如果存在）。这些函数都不言自明。对于负值，模数和余数操作符有所不同。使用余数操作符时，结果符号与被除数符号相同。使用模数操作符时，结果符号与除数符号相同。模数操作符遵循以下标准：Fortran、C（C99
                     标准）和 C++（C++11 标准）。
                  </div>
               </dd>
            </dl>
            <div class="dl_section"><a name="GUID-93DB5D56-E768-4ADE-9E62-B3945E969A38"></a><p class="title"><a name="GUID-AF3350C8-1671-48E5-B3F4-F286DDF80B1B"></a>“结果”组
               </p>
               <dl>
                  <dt><a name="GUID-0FD370AF-194A-4751-B016-25CAACD63871"></a><span class="term"><a name="GUID-3B886578-622F-48A1-A001-202BB663561D"></a>类型</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-5A819152-06D1-43E1-B416-C05B35592A2D"></a>“函数”子操作符的输出数据类型。与单个运算对象以及与相同类型的两个运算对象相比，这始终与第一个运算对象的数据类型相同。与不同类型的两个运算对象相比，该输出类型是两个运算对象中较为复杂的一个。例如，使用实数和整数运算对象的函数将输出实数数据。如果需要输出不同的数据类型，请将“转换”子操作符与“函数”子操作符输出关联。
                     </div>
                  </dd>
                  <dt><a name="GUID-F5C8A29F-A3E5-4D30-BA7B-F5A5F67D60DA"></a><span class="term"><a name="GUID-F1F0E6F0-9951-4C13-8824-FC10442204BC"></a>后因子</span></dt>
                  <dd>
                     <div class="definition"><a name="GUID-49F2D89A-CF95-446F-A955-FFD1BEB61DF6"></a>指定在应用函数后与该结果相乘的结果类型的值。默认设置为 1.0 或 1。
                     </div>
                  </dd>
               </dl>
            </div>
            <dl>
               <dt><a name="GUID-10481B79-99FE-45BF-B7D6-20F467957106"></a><span class="term"><a name="GUID-455CDD85-267A-4895-8A58-163E934708F1"></a>参数动画同步</span></dt>
               <dd>
                  <div class="definition"><a name="GUID-586A43AE-F250-41D8-8693-991432B0851C"></a>如果对子操作符参数进行了动画设置，则软件可以从动画的开始帧或当前事件的第一帧开始，将此动画应用于所有粒子，或根据每个粒子的年龄应用于相应粒子。这些选项包括： 
                     <a name="UL_4B44551DD8444281853911F6A0055C4E"></a><ul>
                        <li><em class="strong">绝对时间</em>为参数设置的任意关键点在为其设置关键点的实际帧处应用。 
                           
                        </li>
                        <li><em class="strong">事件持续时间</em>为参数设置的任意关键点相对于每个粒子第一次进入事件的帧应用于每个粒子。 
                           
                        </li>
                        <li><em class="strong">粒子年龄</em>为参数设置的任意关键点在每个粒子存在的相应帧处应用。 
                           
                        </li>
                        <li><em class="strong">粒子寿命</em>将参数动画缩放/映射到粒子寿命期间。例如，如果在 0 至 100 帧中从 5 至 20 帧为参数值设置动画，则当粒子出生时该参数的值为 5，当粒子死亡时该参数的值为 20。例如，用这种方法可以定义粒子的缩放在其寿命期间发生的更改。
                           
                           	 
                           <p><a name="GUID-9AFC1438-02D4-4FAF-BE47-2B1A5E403B0B"></a>为了使此选项正常工作，粒子流必须包含设置为“按粒子年龄”的“删除”操作符，从而定义粒子寿命。 
                              	 
                           </p> 
                        </li>
                        <li><em class="strong">时间数据输入</em>将时间输入添加到子操作符中，您可以将输出时间格式的数据的任何其他子操作符链接到该子操作符。 
                           
                        </li>
                     </ul>
                  </div>
               </dd>
               <dt><a name="GUID-EA84DF6C-A0E6-4CD0-AE6B-739AED99DED1"></a><span class="term"><a name="GUID-4582B4CD-A0CB-4614-8B54-9D0E55C43F71"></a>E5</span></dt>
               <dd>
                  <div class="definition"><a name="GUID-A9BFD244-FF0A-4EE8-A71D-AD65A0D7F655"></a>启用时，可以通过“参数”子操作符露出动画同步参数并可供用户选择。启用 E5，添加设置为“类型: 动画同步”的“参数”子操作符，将其与“函数”子操作符上的 E5 输入关联，然后使用“露出参数”使该设置在“粒子视图”界面中可用。
                  </div>
               </dd>
               <dt><a name="GUID-D2919DDE-732D-4D4D-B376-650C328C60DA"></a><span class="term"><a name="GUID-1364A9A2-9478-499C-80DD-CAC608DAB5C7"></a>通过组 ID 限制</span></dt>
               <dd>
                  <div class="definition"><a name="GUID-06C3FD8F-3328-4C68-A9B3-4AEABD333DEA"></a>启用时，您可以指定要在其上执行“函数”子操作符的组 ID 整数数据通道。通过单击“组 ID 数据通道”按钮指定数据通道。 
                     
                     <p><a name="GUID-1D151AFB-E4EA-4292-9C91-7F572970FC06"></a>此选项仅适用于以下情况： 
                        <a name="UL_96C2633DE3744F56A68CF2D65605E22A"></a><ul>
                           <li>对于“全部”类型的函数，当“使用第二个运算对象”处于禁用状态时，会显示在“函数”下拉列表中。 
                              
                           </li>
                           <li>对于“平均值”类型的函数，当使用一个或两个运算对象时，会显示在“函数”下拉列表中。 
                              
                           </li>
                           <li>当“通过组 ID 限制”处于启用状态且已设置组 ID 时，会在具有该组 ID（而非其他 组 ID）的所有粒子上执行指定函数。 
                              
                           </li>
                        </ul> 
                     </p> 
                     <p><a name="GUID-CAEB473A-32EB-44C4-B931-3D6F554B23F5"></a>以下是此选项的工作方式的示例： 
                        
                     </p> 
                     <p><a name="GUID-0E99690E-9040-48FE-A1E4-8C7DAF06D7E3"></a>粒子数据 = 1 2 3 4 5 1 2 3 4 5 
                        
                     </p> 
                     <p><a name="GUID-10D8ABB2-1E9F-4821-BC45-49DA77C53737"></a>函数 = 平均值：结果 = 3 3 3 3 3 3 3 3 3 3 
                        
                     </p> 
                     <p><a name="GUID-AF6D5978-6DAB-4AA5-86F8-BF84DB58F17F"></a>现在，假设“通过组 ID 限制”处于启用状态，且指定的“组 ID 数据通道”设置中的数据为 1 1 1 2 4 4 4 4 4 8 
                        
                     </p> 
                     <p><a name="GUID-34A09B1D-A998-4352-82A1-DA19C1EA7085"></a>组 ID 会限制计算平均值的方式，这是针对具有相同组 ID 的粒子。因此，该函数的结果如下（从原始粒子数据）：2 2 2 4 3 3 3 3 3 5 
                        
                     </p> 
                     <p><a name="GUID-01214CFF-1923-42CF-BCFA-C62211A30EFB"></a>原始示例具有以下用例：根据粒子的父对象为粒子提供组 ID：如果它们是从同一父对象繁殖而来，则具有相同的组 ID。在这种情况下，粒子会移动，然后与网格碰撞。粒子与网格碰撞后，具有相同组 ID 的所有粒子应跳转至下一事件。 
                        
                     </p> 
                     <p><a name="GUID-5F6232A9-3FB5-465B-965A-7E717767EF1A"></a>这可以通过以下方式来完成：粒子碰撞后，其数据将从“假”更改为“真”。然后在“通过组 ID 限制”处于启用状态时，会使用 OR/所有粒子。因此，通过在相同组上使用 OR，真值可传播到相同组中的所有粒子。 
                        
                     </p>
                  </div>
               </dd>
            </dl>
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>