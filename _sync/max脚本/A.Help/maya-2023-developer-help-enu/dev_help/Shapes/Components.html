<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scripts/prettify.js"></script><script src="../../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="pandoc" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../../scripts/utils/adsk.redirect.js"></script>
      <title>Components</title>
   </head>
   <body height="100%"><div class="body_content" id="body-content"><style type="text/css">code{white-space: pre;}</style><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script></script><script></script><div id="reflinkdiv"></div>
      <div>
         <div class="head">
            <h1>Components</h1>
         </div>

<div class='section'><a id="components"></a></div>
<p>Shapes which require visual feedback and manipulation of attributes, such as control point based shapes, must have components associated with those attributes. Shapes such as polygonal meshes or spline surfaces have control vertices which can be selected and manipulated. These control vertices exist as attributes on the shape which are exposed interactively in Maya by representing them as components.</p>
<p>Components are objects (<span class='code'><a href="javascript:void(0)" data-symbol="MObject" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_object.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObject</a></span>s) which contain two pieces of information, the type of component and the index values or range. An example is a vertex component for a mesh shape where <span class='code'>vtx[0]</span> represents vertex 0 of the mesh and <span class='code'>vtx[0:7]</span> represents the first 8 vertices of the mesh.</p>
<p>The classes used for creating, editing, and querying components are:</p>
<ul>
<li><span class='code'><a href="javascript:void(0)" data-symbol="MFnComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn_component.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_fn_component.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFnComponent</a></span></li>
<li><span class='code'><a href="javascript:void(0)" data-symbol="MFnDoubleIndexedComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn_double_indexed_component.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_fn_double_indexed_component.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFnDoubleIndexedComponent</a></span></li>
<li><span class='code'><a href="javascript:void(0)" data-symbol="MFnSingleIndexedComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn_single_indexed_component.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_fn_single_indexed_component.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFnSingleIndexedComponent</a></span></li>
<li><span class='code'><a href="javascript:void(0)" data-symbol="MFnTripleIndexedComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn_triple_indexed_component.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_fn_triple_indexed_component.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFnTripleIndexedComponent</a></span></li>
</ul>
<p>Components fall into three categories based upon the dimensions of the index. The types are single, double, and triple indexed. Examples of these types are mesh vertices (single indexed), NURBS surface CVs (double indexed), and lattice points (triple indexed).</p>
<p>Components can be marked as complete, meaning the component represents a complete set of indices from 0 to numElements-1.</p>
<div class='section'><a id="writing-a-component-shape"></a><h2 id="writing-a-component-shape">Writing a Component Shape</h2></div>
<p>If you want to create a surface shape that supports components, the <span class='code'><a href="javascript:void(0)" data-symbol="MPxComponentShape" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_component_shape.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxComponentShape</a></span> class is a better starting point than the <span class='code'><a href="javascript:void(0)" data-symbol="MPxSurfaceShape" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_surface_shape.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_surface_shape.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxSurfaceShape</a></span> class. <span class='code'><a href="javascript:void(0)" data-symbol="MPxComponentShape" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_component_shape.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxComponentShape</a></span> is derived from <span class='code'><a href="javascript:void(0)" data-symbol="MPxSurfaceShape" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_surface_shape.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_surface_shape.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxSurfaceShape</a></span> and provides the basic functionality for users to work with shapes that support components.</p>
<p>If you need to edit the user interface aspects of the shape, derive from the <span class='code'><a href="javascript:void(0)" data-symbol="MPxSurfaceShapeUI" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_surface_shape_u_i.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_u_i_1_1_m_px_surface_shape_u_i.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxSurfaceShapeUI</a></span> class. This class allows drawing and interactive selection of any components in a shape.</p>
<div class='section'><a id="mapping-attributes-to-components"></a><h2 id="mapping-attributes-to-components">Mapping attributes to components</h2></div>
<p>In Maya, components are specified as strings. Each type of component has a different string name. In the API, components are <span class='code'>MObjects</span> distinguished by their API type (see <span class='code'>MFn.h</span>). For example, a mesh vertex component can be specified in Maya as <span class='code'>vtx[0]</span>, and in a plug-in it is represented as an <span class='code'><a href="javascript:void(0)" data-symbol="MObject" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_object.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObject</a></span> with <span class='code'>apiType</span> <span class='code'><a href="javascript:void(0)" data-symbol="MFn::kMeshVertComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn.html#a1d1cfd8ffb84e947f82999c682b666a7a040adaedfb9ad2fcc82cdeca1e214522&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFn::kMeshVertComponent</a></span>. The index information can be extracted using an <span class='code'><a href="javascript:void(0)" data-symbol="MFnComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn_component.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_fn_component.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFnComponent</a></span> derived class.</p>
<p>To associate (or map) a component with one of your shapes attributes, you must choose one of Mayaâ€™s existing component types and override <span class='code'>MPxSurfaceShape::componentToPlugs</span> to convert component types to plugs.</p>
<p>The following is an example of associating a mesh vertex component with the <span class='code'>mControlPoints</span> attribute of a shape:</p>
<div class="codeBlock"><pre class="prettyprint">void yourShape::componentToPlugs( <a href="javascript:void(0)" data-symbol="MObject" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_object.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObject</a>&amp; component,
                 <a href="javascript:void(0)" data-symbol="MSelectionList" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_selection_list.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MSelectionList</a>&amp; list )const
{
     if ( component.hasFn(<a href="javascript:void(0)" data-symbol="MFn::kMeshVertComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn.html#a1d1cfd8ffb84e947f82999c682b666a7a040adaedfb9ad2fcc82cdeca1e214522&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFn::kMeshVertComponent</a>) ) {
         <a href="javascript:void(0)" data-symbol="MFnSingleIndexedComponent" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_fn_single_indexed_component.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_fn_single_indexed_component.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MFnSingleIndexedComponent</a> fnVtxComp( component );
         <a href="javascript:void(0)" data-symbol="MObject" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_object.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObject</a> thisNode = thisMObject();
         <a href="javascript:void(0)" data-symbol="MPlug" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_plug.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPlug</a> plug( thisNode, mControlPoints );
         int len = fnVtxComp.elementCount();
         for ( int i = 0; i &lt; len; i++ ) {
             <a href="javascript:void(0)" data-symbol="MPlug" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_plug.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPlug</a> vtxPlug = plug.elementByLogicalIndex(
             fnVtxComp.element(i) );
         list.add( vtxPlug );
         }
     }
}

</pre></div><div class='section'><a id="component-matching"></a><h2 id="component-matching">Component matching</h2></div>
<p>Attributes can be specified as strings in MEL. Your shape must be able to validate these strings to ensure that proper names, indices etc. have been given. The method <span class='code'>MPxSurfaceShape::matchComponent</span> is used for this purpose.</p>
<div class="codeBlock"><pre class="prettyprint">virtual MatchResult matchComponent( const <a href="javascript:void(0)" data-symbol="MSelectionList" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_selection_list.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MSelectionList</a>&amp; item,
                 const <a href="javascript:void(0)" data-symbol="MAttributeSpecArray" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_attribute_spec_array.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MAttributeSpecArray</a>&amp; spec,
                 <a href="javascript:void(0)" data-symbol="MSelectionList" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_selection_list.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MSelectionList</a>&amp; list );

</pre></div><p>This method validates component names and indices which are specified as a string and adds the corresponding component to the passed in selection list. Select commands such as <span class='code'>select shape1.vtx[0:7]</span> are validated with this method and the corresponding component is added to the selection list.</p>
<p>The attribute specification (<span class='code'><a href="javascript:void(0)" data-symbol="MAttributeSpec" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_attribute_spec.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_attribute_spec.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MAttributeSpec</a></span>) is a class that provides convenient access to all of the information about how attributes are specified. This includes attribute names, indices, and ranges.</p>
<div class='section'><a id="component-iteration"></a><h2 id="component-iteration">Component iteration</h2></div>
<p>For Maya to get and set the position of components you must define an iterator for your geometry by deriving from the class <span class='code'><a href="javascript:void(0)" data-symbol="MPxGeometryIterator" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxGeometryIterator</a></span>.</p>
<p>A geometry iterator is used by the translate/rotate/scale manipulators to determine where to place the manipulator when components are selected.</p>
<p>Deformers also require a geometry iterator with overridden setPoint and point methods in order to deform the points your shape.</p>
<p>In general, you will want to override the following methods from <span class='code'><a href="javascript:void(0)" data-symbol="MPxGeometryIterator" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxGeometryIterator</a></span>:</p>
<div class="codeBlock"><pre class="prettyprint"> <a href="javascript:void(0)" data-symbol="MPxGeometryIterator" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxGeometryIterator</a>( void * userGeometry,
 <a href="javascript:void(0)" data-symbol="MObjectArray" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object_array.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObjectArray</a> &amp; components );
 <a href="javascript:void(0)" data-symbol="MPxGeometryIterator" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxGeometryIterator</a>( void * userGeometry,
 <a href="javascript:void(0)" data-symbol="MObject" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_object.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObject</a> &amp; components );
 virtual void reset();
 virtual <a href="javascript:void(0)" data-symbol="MPoint" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_point.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPoint</a> point() const;
 virtual void setPoint( const <a href="javascript:void(0)" data-symbol="MPoint" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_point.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPoint</a> &amp; ) const;

</pre></div><p>You must override the following functions of <span class='code'><a href="javascript:void(0)" data-symbol="MPxSurfaceShape" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_surface_shape.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_surface_shape.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxSurfaceShape</a></span> to associated an iterator with your shape:</p>
<div class="codeBlock"><pre class="prettyprint"> virtual <a href="javascript:void(0)" data-symbol="MPxGeometryIterator" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_px_geometry_iterator.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MPxGeometryIterator</a>* 
 geometryIteratorSetup( <a href="javascript:void(0)" data-symbol="MObjectArray" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object_array.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObjectArray</a>&amp;, <a href="javascript:void(0)" data-symbol="MObject" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_object.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObject</a>&amp;, bool );
 virtual bool acceptsGeometryIterator( bool writeable );
 virtual bool acceptsGeometryIterator( <a href="javascript:void(0)" data-symbol="MObject" class="a_multireflink" data-reflinkdata="[{&quot;path&quot;:&quot;cpp_ref/class_m_object.html&quot;,&quot;title&quot;:&quot;C++ API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;},{&quot;path&quot;:&quot;py_ref/class_open_maya_1_1_m_object.html&quot;,&quot;title&quot;:&quot;Python 2.0 API Reference&quot;,&quot;relpathtoroot&quot;:&quot;../../&quot;}]">MObject</a>&amp;,
 bool, bool );

</pre></div><div class='section'><a id="translate-scale-and-rotate-tools-for-components"></a><h2 id="translate-scale-and-rotate-tools-for-components">Translate, scale, and rotate tools for components</h2></div>
<p>To support the translate, rotate and scale tools, you must override the method <span class='code'>MPxSurfaceShape::transformUsing</span>. The function takes a matrix and array of components as arguments. The matrix specifies the transformation that is being applied and the components specify the attribute indices that are being transformed.</p>
<p>For shapes with large numbers of control vertices, it can be prohibitively slow relying on Mayaâ€™s compute mechanism for setting attribute values. The method <span class='code'>MPxNode::forceCache</span> can be used in these situations to gain direct access to a nodeâ€™s datablock and to get/set attribute values directly without going through compute. Special care must be taken to ensure that all attributes that depend on the ones you are changing also get updated. For instance, if the vertices of a mesh are changed, then the normals should also be updated as well as the bounding box. The method, <span class='code'>vertexOffsetDirection</span>, must be overridden if the Move tool is to work in move normal mode.</p>
      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
   </div></body>
</html>
