<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-F410ECBA-AE25-4812-8375-AB7363E4C777">
      <meta name="topic-type" content="concept">
      <meta name="audience" content="user">
      <meta name="experiencelevel" content="expert">
      <meta name="topic-subtype" content="using">
      <title>示例：从一系列 MAX 文件批处理导出对象</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-F410ECBA-AE25-4812-8375-AB7363E4C777"></a><div class="head">
            <h1>示例：从一系列 MAX 文件批处理导出对象</h1>
         </div>
         <p><a name="WS1A9193826455F5FF1DBC298511635BEA87515D4"></a>运行下列批处理文件，使用 3ds Max 和 MAXScript 从文件服务器上的一系列 3ds Max 文件导出所有对象。 
         </p>
         <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-49C0"></a> <em class="strong">export.ms 文件：</em> 
         </p>
         <div class="codeBlock"><pre>exportFile (maxfilepath + maxfilename + ".obj") #noPrompt using: Wavefront_ObjectExporterPlugin</pre></div>
         <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-49C1"></a> <em class="strong">批处理文件：</em> 
         </p>
         <div class="codeBlock"><pre>rem begin batch filedir
\\fileserver\maxfiles\*.max /s /b &gt;c:\fileslist.txt
c:
cd "\Program Files\Autodesk\3ds Max 2010"
cmdjob -jobname "batch export objects from max files" -manager managername -tasklist c:\filelist.txt 3dsmax.exe %%tp1 -U MAXScript \\fileserver\scripts\export.ms
rem end batch file</pre></div>
         <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-49BF"></a>批处理文件 (dir) 的第二行将文件列表写出到 <em class="mild">fileslist.txt</em>（请参见下图）。此文本文件用作任务列表。在 <em class="strong">cmdjob</em> 行中，<em class="strong">–taskname</em> 参数的值是 <em class="strong">1</em>，意味着每个任务将从任务文件的第 1 列获得其任务名。<em class="strong">“3dsmax.exe”</em>之后指定的 <em class="strong">%tp1</em> 参数告知 <em class="mild">cmdjob</em> 插件使用任务列表中的任务参数 1（第 1 列），作为传递给 <em class="mild">3dsmax.exe</em> 的参数。 
         </p><a name="WS1A9193826455F5FFBA679E112A6A190042EA8"></a><div class="figure-anchor"><img src="../images/GUID-3256AF93-E5AC-4126-A9C9-D73CF30A9988-low.png"><p class="figure-title">任务列表文本文件</p>
         </div><a name="WS1A9193826455F5FFBA679E112A6A190042EA9"></a><div class="figure-anchor"><img src="../images/GUID-F4B92620-99FA-4FEF-A3B5-C276344961A8-low.png"><p class="figure-title">“队列监视器”中的“任务摘要”。</p>
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>