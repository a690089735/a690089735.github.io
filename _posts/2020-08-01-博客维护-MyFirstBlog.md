---
layout: post
title: 关于我的博客
date: 2020-08-01 22:48:00.00 +08:00
categories: 博客维护
tags: 博客维护 杂谈
comments: false
---

如果以后不出什么大问题的话,就一直在这里写东西了.
就算真的出了什么大问题,本地依然还有全套文件留存.很容易重新来过.
真的很舒心.

## 关于网站

我花了7天的时间调试"组装"了这个网站,而且这个博客站点支持好多有用的功能.

基本框架是[jekyll](https://github.com/jekyll/jekyll),自动解析和组装文件,生成网站.

最开始尝试了[jekyll-now](https://github.com/barryclark/jekyll-now),真的瞬间就有了博客!只是功能太单一了.布局和显示也不符合我的想法.想自己扩展又力不从心.然后发现jekyll有主题生态,就开始找主题.

`主题`和`布局响应`等绝大部分基础,来自无意间发现的[vno-jekyll](https://github.com/onevcat/vno-jekyll),不出意外的话,就算是用户极少的山寨平板也能很好显示.

`时间归档`和`标签分类`的功能来自于[leopardpan.github.io](https://github.com/leopardpan/leopardpan.github.io),一个我觉得很重要的功能,万一以后写了成千上万的博文,就靠这样的功能救急了.

想从[zoharandroid.github.io](https://github.com/ZoharAndroid/zoharandroid.github.io)抄一个搜索功能,但是失败了.我的准备一切都正常,可就是没有效果.

以后打算从[kangblog-theme](https://github.com/MengZheK/kangblog-theme)抄个留言系统.(https://robotkang.cc/)

我完全不会`Github`,不会`jekyll`,不会`html`,`css`等等等等的东西,甚至由于实在看不懂文件内容,还去[我要自学网](https://www.51zxw.net/)看了几集`html`和`css`的语法.

我把上边讲到的每个仓库和没讲到的仓库都下载了下来,大多数时候都是自己翻开文件夹一个文件一个文件的试,把一行删掉试试另一行,再发布到`gitpage`等待自动构建刷新.....

现在想起来那个情形,还真是搞笑.

## 写文章

这个博客挺厉害的,直接用md去写文章,上传就能直接生成网页.而且会和主题配合.(css)

不过文章本身,要添加一点点必要的信息来规范页面.

比如这个页面,文件里面的最上边就写了:

\-\-\-

layout: post

title: 博客手册

date: 2020-08-01 22:48:00.00 +08:00

tags: 其他

\-\-\-

> layout: 告诉jekyll,这个文档是post页面(提交的博客文章)
> 
>title: 是最终显示的文章标题
>
>date: 日期,但是不知道有什么用(例子:2016-02-15 15:32:24.00 +09:00)可能填了的话对日期的识别更精确吧
>
>tags: 是用于实现标签功能的属性,经过实际测试,多个标签可以用空格分隔

然后文章的命名,必须是`年-月-日-文件名.md`,比如`2020-08-01-我的第一文.md`

在添加了这些必要的信息之后,下面就可以正常书写了.

可惜图片不能用相对路径插入.需要先上传到图床(比如博客所在仓库).本页下方的图片,使用了:`![按钮们](\{\{site.img\}\}image-20200801142727668.png)`

上传一个新的文章只需要把md文件放到`_posts`文件夹里,然后在GitHubDeskTop里提交并push一下就行了.

顺便测试个图片.
(Σ(っ °Д °;)っ...不知道什么原因,70k的图片加载出来还要好长时间....)
![按钮们]({{ site.img }}image-20200801142727668.png)

最后提一下,博客文章的标题是固定以h1来显示的,所以写文章的时候如果不是要多标题效果的话,还是从h2开始排比较美观.

## 存在的问题

<s>使用github作图床太慢.</s>现在用fast.io做了一些资源上的加速.

<s>竟然不能自动转化md里的本地相对路径.(我觉得应该有方法的).</s> typora里面有相应的绑定设置.可以在插入图片时自动上传图片,不过由于还需要学习,我放弃了.现在采用两个库的方案,然后提交前用小程序自动换一下路径前缀.

<s>文件层级互相嵌套很规范,但是我这种新手要把每一个文件扒开才能知道改哪里.</s>其实可以运行后用浏览器的`检查`来查看

<s>前期构建每次上传后都要等至少两分钟才会看见效果.急死个人.虽说可以构建本地版.但是我这水平搞那一套依赖可能都得两天才能跑起来....</s>重置了GitHubDeskTop后虽然速度提升不大,但是稳定多了,而且能看到上传的进度条了.实在等不及的可以构建本地环境,但是需要自己好好折腾一下,我放弃.

<s>偶尔会发生生成的网页和Typora里效果不一样的情况.</s>(有时候是我语法不够严格,比如引用的时候,代码页里是两个换行,但一个换行在Typora里显示效果也是一样的,有时候实是兼容问题.比如本站的404页面,调试了4个小时,最后干脆复制了jekyll生成好的网页代码,改一改塞进md里了)

<s>缺少个一键提交的方案,现在需要修改完再去应用里点提交,再点push.然后还得等他搞完再关.要是能做个一键提交的功能就好了,命令行也行呀.(想到可以做成把要提交的文件拖拽到命令行就能提交的)尝试做了一下,但是实在没搞懂git push的命令.以后有空好好测试一下效果吧.(它竟然不需要文件参数欸)</s>放弃,目前可用性良好,也足够稳定.尽量不为了1%的方便去撼动99%的稳定流程.

<s>这里还遇到过GitHubDeskTop不能push的时候,不过只要pull一下再提交就可以了.</s>这个问题会出现在多个合作者之中.但我的问题是GitHubDeskTop的数据发生了冲突,最后是通过重置应用数据来解决的.

## 博客的复用和自定义

若是有谁也想拥有一个同款博客.

可以访问我的[博客仓库](https://github.com/a690089735/a690089735.github.io),然后fork一下.再把fork来的仓库名改成"你的github账户名.github.io"就完成博客的创建了.然后这个仓库名就是你的博客地址.

接着把`_post`文件夹里的文件删掉,再往里放你自己的md格式的博客文件.就可以使用博客功能了.(html也行)

改博客的信息数据,可以用记事本编辑`_config.yml`文件,里面的属性对应修改就好.想在主页添加新的链接按钮,也是在这里加.

想继续美化博客,需要自己学一些`html`和`css`.想要实现更高级的功能,要学`jekyll`,`js`.不想太麻烦的话,这个博客的功能已经够用了.(文章管理,主题美化,响应式布局,博文时间分类,按标签分类,独立页面啥的,基本功能该有的都有了,以后也许会添加一下搜索和留言功能吧...)

如果像我一样是小白,可以下载一个`GitHub Desktop`,方便上传博客文章.

## 维护日志

### 2020年7月28日 夜

​	历经波折,博客终于可以运行了

### 2020年8月1日 日

​	从[leopardpan.github.io](https://github.com/leopardpan/leopardpan.github.io)处抄到了时间归档和标签功能

### 2020年8月2日 夜

​	百度和测试花了1小时,做了个生成新文章模板的批处理文件,放在了`_posts`文件夹里.双击它,就能按当前的时间创建符合书写规则的md格式的博客文章文件.然后自动用默认程序打开编辑.

​	![2020年8月2日22点52分]({{site.img}}2020年8月2日22点52分.gif)

​	<s>图片的预览可以直接用绝对路径,然后在上传文章前把地址替换成变量.</s>

​	<s>这个打算做成批处理:[参考](https://blog.csdn.net/u010425839/article/details/76595665)</s>已经实现了,但是由于种种原因(主要是批处理的编码问题,和空行问题),还是把素有的脚本都做成了`.py`文件,可以在`_posts`文件夹里找到,旧版本的文件放到了名为`垃圾`的子目录里.(详见[博客工具]({{  site.url  }}2020/08/博客维护-博客工具/)文章)

### 2020年8月6日 日

​	优化了一些显示.

​	优化了js文件的网络源兼容问题.由于原作者常年在国外,其中使用的js源在国内网络无法访问,造成侧边栏按钮失效.换成了微软的cdn源.

### 2020年8月8日 日

​	学习到了[TRHX 的个人博客](https://www.itrhx.com/)中的打字机效果.其实主要是[Typed.js](https://mattboldt.github.io/typed.js/).打算实现多签名循环显示的效果.

​	<s>已经初步实现效果并合理控制,只是一直没有大块时间,也怕搞错后加倍浪费时间,所以还没有加到签名档里.</s>

​	`other`文件夹里的`Typewriter.html`就是这个效果的基本实现演示.

​	.

### 2020年8月11日 日

​	重置了GitHubDeskTop.现在上传没有冲突了,库也是自己的署名了,显示也有进度条了.

​	使用fast.io提升博客访问速度(图片资源已经全部移放,接下来打算有空的时候转移js文件,把cdn的js也留个备份)

​	将所有图片资源都改为变量路径,方便移植和容灾.

​	或许我可以把网站大部分资源都挂在fast.io上.但是毕竟水平有限,过于折腾可能会出现无法挽回的错误.我的要求是只要能用就行,速度方面能让人接受即可.还是先不麻烦了.

​	细微优化了一些名词.

​	下午把打字机效果给加进去了,本来以为会有什么问题,比如显示效果有啥不一致的.<s>但看起来还好.</s>果然在响应式布局上除了点问题.

### 2020年8月19日 日

​	资源挂到了fast.io,然后在gitee上做了个备份