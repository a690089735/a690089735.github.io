<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-27">
      <meta name="topicid" content="GUID-DE8E37B2-6647-42B0-B289-FA9B88D0C23B">
      <meta name="description" content="由于几何体的多样性和可能出现的不同情况，法线凹凸贴图有时会产生意外结果。一般，提供解决问题的一个或多个解决方法。本主题介绍可能出现的某些情况以及更正相应情况的方法。">
      <meta name="indexterm" content="故障排除: 法线凹凸贴图">
      <meta name="indexterm" content="法线凹凸贴图: 故障排除">
      <meta name="indexterm" content="镜像 UV">
      <meta name="topic-type" content="concept">
      <title>法线凹凸贴图故障排除</title><script language="javascript">var index = 'index3dsmaxhelp.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-DE8E37B2-6647-42B0-B289-FA9B88D0C23B"></a><div class="head">
            <h1> 法线凹凸贴图故障排除</h1>
         </div>
         <p class="blurb">由于几何体的多样性和可能出现的不同情况，法线凹凸贴图有时会产生意外结果。一般，提供解决问题的一个或多个解决方法。本主题介绍可能出现的某些情况以及更正相应情况的方法。 
            
         </p>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190042BF8"></a> 
            <h2><a name="GUID-D83DF6FA-DA19-46B2-B777-BBEAEF2E4EC9"></a>平行投影丢失细节
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E61"></a>如果投影框架被设置为使投影光线平行于高分辨率几何体的一部分，则在法线凹凸贴图中，该部分几何体可能丢失。 
               		
            </p> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E60"></a>例如，在以下场景中，法线凹凸贴图基于顶部和底部存在缩进的高分辨率圆柱体。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042BF9"></a><div class="figure-anchor"><img src="../images/GUID-6080110C-7162-4097-96FB-2B7A36967E46-low.png"><p class="figure-title">高分辨率圆柱体周围的默认框架</p>
            </div>  
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E5F"></a>不过，法线凹凸贴图未显示末端的缩进。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042BFA"></a><div class="figure-anchor"><img src="../images/GUID-C3FD2809-3D9E-49C0-920F-C92A4978922B-low.png"><p class="figure-title">圆柱体的法线凹凸贴图的顶部和底部缺少缩进。</p>
            </div>  
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E5E"></a>其原因是在使用默认投影框架时，光线平行于缩进边，所以会丢失细节。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042BFB"></a><div class="figure-anchor"><img src="../images/GUID-FD7B00C3-CD39-48CE-B75F-B3485F729E50-low.png"><p class="figure-title">投影光线（以红色显示）平行于缩进的边。</p>
            </div>  
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E5D"></a>要更正该问题，可以向上移动框架末端，稍微向内缩进它，使光线与缩进边近似平行。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042BFC"></a><div class="figure-anchor"><img src="../images/GUID-943F219F-7FBB-49D7-BA7D-12EDB8D9DF68-low.png"><p class="figure-title">升高和缩放投影框架的上端。</p>
            </div>  
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E5C"></a>通过此方法调整框架后，缩进出现在法线凹凸贴图中。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042BFD"></a><div class="figure-anchor"><img src="../images/GUID-B11DFF24-981B-4001-8107-141C19A7B055-low.png"><p class="figure-title">更正框架后，上端缩进正确显示在法线凹凸贴图中。</p>
            </div>  
            <div><a name="WS1A9193826455F5FF662FFB11407B58D52-7021"></a><div class="note-tip"><span class="label label-target-language">提示</span>在这类情况下，另一解决方法是在贴图中丢失了其中细节的<em class="mild">低分辨率对象</em>区域中的顶点上使用“拆分”。这会增加框架中的顶点数，并减少丢失几何体的可能性。如果使用此方法，可能还需要进一步调整投影框架。 
                  		
               </div>
            </div> <a name="WS1A9193826455F5FFBA679E112A6A190042BFE"></a><div class="figure-anchor"><img src="../images/GUID-108694F3-C508-4B8A-B90C-38F8CF7861B0-low.png"><p class="figure-title">拆分低分辨率对象后，法线凹凸贴图中将渲染出缩进。不过，现在投影中会丢失几何体的部分区域，所以需要进一步调整框架。</p>
            </div>  
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190042BFF"></a> 
            <h2><a name="GUID-B3377223-31D1-421A-A892-AE2886E61BD0"></a>切线空间中的翻转缝
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E5B"></a>对法线凹凸贴图使用切线空间时，通常在硬件明暗器、渲染器和第三方应用程序之间用于切线的值是一致的。但是，有时，几何体的各个部分会相对于彼此翻转，导致在渲染或使用硬件明暗器时出现不连续性。切线空间是法线凹凸贴图的默认选项，并且是应当用于既移动又变形的对象（如已设置动画的角色）的方法。使用其他坐标空间时不会出现此问题：世界、屏幕或局部。
               
               		
            </p> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E5A"></a>例如，在下列场景中，裤子上出现不连续性。如箭头所示，它们相对于彼此翻转。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042C00"></a><div class="figure-anchor"><img src="../images/GUID-83BCD097-3626-4119-A34B-5CD6C4375DDA-low.png"></div>  
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E59"></a> <em class="strong">裤子渲染中的翻转缝</em> 
            </p> 
            <p><a name="GUID-64E8E913-8F38-46B9-80EB-76AEE2DEA26F"></a> <em class="strong">左：左侧显示不连续的红色条带。</em> 
            </p> 
            <p><a name="GUID-70EF6D30-8E24-4658-A6DE-8966104A0499"></a> <em class="strong">右：右侧显示不连续的蓝色条带。</em> 
            </p> 
            <p><a name="GUID-E9C36772-3C15-4770-874C-1D6B742617DC"></a> <em class="strong">箭头显示贴图未对齐的情况。</em> 
            </p> 
            <p><a name="GUID-480BCA55-E725-41CC-8710-D4505403D651"></a>在渲染法线凹凸贴图时，一般会看到翻转区域在右侧显示微红色“光斑”，在左侧显示为蓝色光斑。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042C01"></a><div class="figure-anchor"><img src="../images/GUID-D6903791-D20D-41E6-B784-9C6D2117192F-low.png"><p class="figure-title">未更正的法线凹凸贴图显示蓝色和红色“光斑”。</p>
            </div>  
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E58"></a>解决方案是为显示光斑或超出的红色区域的那些子对象选择使用“UVW 展开”修改器的“水平翻转”命令。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042C02"></a><div class="figure-anchor"><img src="../images/GUID-E01FACC6-3D9A-45A4-BC4B-B52C9AB2C4A8-low.png"><p class="figure-title">使用水平翻转更正的法线凹凸贴图。红色和蓝色的分布更均匀，蓝色占优势。</p>
            </div>  
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E57"></a>更正贴图后，无论是使用 3ds Max 还是硬件明暗器，完整渲染的效果都会更好。 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042C03"></a><div class="figure-anchor"><img src="../images/GUID-1BD1CF21-F206-4D22-B441-CD0D992D9EBA-low.png"></div>  
            <p><a name="GUID-F9A429F1-E443-4515-8499-C39A000FBAE8"></a> <em class="strong">更正的法线贴图渲染更平滑，不带有不连续性。</em> 
            </p> 
            <p><a name="GUID-D79BD275-A501-4A60-9CF7-5E7ABC7756D3"></a> <em class="strong">箭头显示贴图如何与裤管周围的外套正确对齐。</em> 
            </p> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190042C06"></a> 
            <h2><a name="GUID-BE98104A-9466-4336-822B-E93ACD1FB117"></a>重叠 UV 坐标
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E54"></a>重叠 UV 坐标会导致“渲染到纹理”中出现渲染错误。该问题在具有镜像 UV、对称贴图的对象上特别明显。如果使用具有镜像 UV 的角色或其他模型，我们建议您执行此步骤： 
               		
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190042C08"></a><ol type="1" start="1">
               <li>添加“展开”修改器或转到对称存在的现有“展开”修改器。 
                  		  
               </li>
               <li>在 W 轴上移动半个重叠纹理坐标，以便它们从另一半稍微偏移。 
                  			 
                  <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E53"></a>“渲染到纹理”将使用具有较高的 W 值的纹理坐标。 
                     			 
                  </p> 
               </li>
            </ol> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190042C09"></a> 
            <h2><a name="GUID-427DC516-588A-4836-BA3F-CD2FA91F8C82"></a>编辑法线修改器导致法线凹凸贴图不正确
            </h2> 
            <p><a name="WS1A9193826455F5FFBA679E112C9EF5A71-4E52"></a>不要对低分辨率对象应用编辑法线修改器。法线凹凸投影依赖于具有标准法线的低分辨率对象，改变它们会使法线凹凸贴图出现不可预测的结果。 
               		
            </p> 
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>