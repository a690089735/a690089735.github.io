var topic = "<!DOCTYPE html><html>\n   <head>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n      <meta name=\"product\" content=\"3DSMAX\">\n      <meta name=\"release\" content=\"2023\">\n      <meta name=\"book\" content=\"GeneralUser\">\n      <meta name=\"created\" content=\"2022-03-27\">\n      <meta name=\"topicid\" content=\"GUID-516E301F-E911-429F-9337-9FA7FAD49BB6\">\n      <meta name=\"description\" content=\"反向运动学 (IK) 是一种设置动画的方法，它翻转链操纵的方向。它是从叶子而不是根开始进行工作的。\">\n      <meta name=\"indexterm\" content=\"外部参照 IK 链\">\n      <meta name=\"indexterm\" content=\"正向运动学: 和 IK\">\n      <meta name=\"indexterm\" content=\"IK: 和控制对象\">\n      <meta name=\"indexterm\" content=\"控制对象 (IK)\">\n      <meta name=\"indexterm\" content=\"简介: 反向运动学\">\n      <meta name=\"indexterm\" content=\"反向运动学: 简介\">\n      <meta name=\"topic-type\" content=\"concept\">\n      <title>反向运动学 (IK)</title><script language=\"javascript\">var index = \'index3dsmaxhelp.html\';</script></head>\n   <body height=\"100%\">\n      <div class=\"body_content\" id=\"body-content\" dir=\"ltr\"><a name=\"GUID-516E301F-E911-429F-9337-9FA7FAD49BB6\"></a><div class=\"head\">\n            <h1>反向运动学 (IK)</h1>\n         </div>\n         <p class=\"blurb\">反向运动学 (IK) 是一种设置动画的方法，它翻转链操纵的方向。它是从叶子而不是根开始进行工作的。 \n            \n         </p><a name=\"WS1A9193826455F5FFBA679E112A6A190044CEF\"></a><div class=\"figure-anchor\"><img src=\"../images/GUID-84C1A89F-9FA8-4772-B42F-FE6E3AB745EE-low.png\"><p class=\"figure-title\">使用 IK 设置腿部动画</p>\n         </div>\n         <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EB1\"></a> 现在举个手臂的例子。要设置使用正向运动学的手臂的动画，可以旋转上臂使它移离肩部，然后旋转前臂，手腕以下的手部等等，为每个子对象添加旋转关键点。 \n            	 \n         </p>\n         <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EB0\"></a>要设置使用反向运动学的手臂的动画，可以移动用以定位腕部的目标。手臂的上半部分和下半部分为 IK 解决方案所旋转，使称为<span class=\"char_link\"><a href=\"GUID-7A35B53A-BF95-40EB-B053-15868E469127.htm\">末端效应器</a></span>的腕部轴点向着目标移动。 \n            	 \n         </p>\n         <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EAF\"></a>例如，如果是腿部的话，脚部就被目标约束到了地面。如果移动了骨盆，脚部保持固定不动，因为目标并没有移动，这将使膝部发生弯曲。整个动画都包含在目标和足部的关键帧中，而且没有将关键点应用到单独的链对象上。 \n            	 \n         </p>\n         <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EAE\"></a>用反向运动学可以快速地设置复杂的运动，并设置它的动画。基本的步骤包括三个任务： \n            	 \n         </p><a name=\"WS1A9193826455F5FFBA679E112A6A190044CF7\"></a><ul>\n            <li>构建模型。它可以是关节结构，也可以是许多个或单个的连续曲面。 \n               		\n            </li>\n            <li>将关节模型链接在一起并定义轴点，如<span class=\"char_link\"><a href=\"GUID-0AE92021-9E16-4616-840B-B19773AD9A6E.htm\">层次</a></span>中所述。 \n               		  \n               <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EAD\"></a>为获得表面连续的模型，创建<span class=\"char_link\"><a href=\"GUID-E6164716-CFA9-4DE9-9976-F8A58850461F.htm\">“骨骼”</a></span>结构或使用 Biped 来动画角色的皮肤。 \n                  		  \n               </p> \n            </li>\n            <li> 将 <span class=\"char_link\"><a href=\"GUID-AE4A0089-95F5-4199-A853-ABB8E0DB3439.htm\">IK 解算器</a></span>应用于关节层次。可能会在整个层次中创建几个 IK 链，而不是一个。也可能创建几个独立层次，而不是在一个大的层次中将所有东西都链接在一起。对于简单反向运动学动画，您可以使用交互 IK，而无需应用任何 IK 解算器。 \n               		\n            </li>\n            <li>在轴点位置定义<span class=\"char_link\"><a href=\"GUID-50EA0BE4-1716-49E0-A29B-E6D117A61EFE.htm\">关节行为</a></span>，根据所使用 IK 解算器的类型，设置限制或首选角度。在这里可以设置滑动关节或转动关节。 \n               		  \n               <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EAC\"></a>您可能还需要移动层次的根，并且可能要在此点上添加控制对象，比如虚拟对象或点。 \n                  		  \n               </p> \n            </li>\n            <li>设置目标（在 <span class=\"charspan-emphasis\"><span class=\"char_link\"><a href=\"GUID-7D555887-6665-4DD1-8E27-CBDE9127EED0.htm\">HI 解算器</a></span>或 </span><span class=\"char_link\"><a href=\"GUID-CD9749D5-43C1-451B-B5DD-A61F312DAFCD.htm\">IK 肢体解算器</a></span>情况下）或末端效应器（在 <span class=\"char_link\"><a href=\"GUID-F821CF5A-952F-442A-975D-BDEB4749188E.htm\">HD 解算器</a></span>情况下）的动画。这将设置 IK 链所有组件的动画。 \n               		  \n               <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EAB\"></a>可以将<span class=\"char_link\"><a href=\"GUID-10AC3D82-523D-4670-8240-D6E3AC79F0BF.htm\">约束</a></span>应用到目标或控制对象或链的根上。 \n                  		  \n               </p> \n            </li>\n         </ul>\n         <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EAA\"></a>您可以在场景中引用外部的 IK 链。外部参照 IK 链的行为与非外部参照链相同，不同之处在于，如果外部参照 IK 链位于顶级场景中，就无法重定位其<span class=\"char_link\"><a href=\"GUID-D34EF40C-A420-4FE4-A372-CB6BFB46A8B0.htm\">外部参照控制器</a></span>。请参见<span class=\"char_link\"><a href=\"GUID-F9CE15BD-FD57-4671-8F3A-8E742B766555.htm\">外部参照对象</a></span>了解详细信息。 \n            	 \n         </p>\n         <div class=\"section\"><a name=\"WS1A9193826455F5FFBA679E112A6A190044CF8\"></a> \n            <h2><a name=\"GUID-A8E41FEC-DD96-46A9-9EDC-F4833C46184B\"></a>控制对象以辅助 IK\n            </h2> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA8\"></a>可以将目标或末端效应器应用到点、样条线或虚拟对象上，它们用作对链的末端进行转换或旋转的快速控制。这些控制对象可以链接在一起，也可以受约束的控制。也可以使用相关联的参数以构建这些控制对象之间的关系。 \n               		\n            </p> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA7\"></a>也可以将控制对象与<span class=\"char_link\"><a href=\"GUID-1F7A0B86-08EE-433B-BE85-4E778E1C1195.htm\">操纵器辅助对象</a></span>或<span class=\"char_link\"><a href=\"GUID-7EAA7D84-5775-4E4C-9936-D874EB7A42BB.htm\">自定义属性</a></span>相关联起来，为可设置动画的模型创建可以方便地进行访问的界面。 \n               		\n            </p> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA6\"></a>也可以添加进一步的控制以操纵链中间的元素。 \n               		\n            </p> \n            <div><a name=\"WS1A9193826455F5FFBA22E1113C6C30C0E54B\"></a><div class=\"note-note\"><span class=\"label label-target-language\">注意:</span>在 <span class=\"char_link\"><a href=\"GUID-7D555887-6665-4DD1-8E27-CBDE9127EED0.htm\">HI 解算器</a></span>中，<span class=\"char_link\"><a href=\"GUID-FABCED32-D76C-4CDB-AAB1-225736FE0EF3.htm\">旋转角度</a></span>具有其自己的操纵器，可以对其设置动画或链接到另一个目标对象。 \n                  		\n               </div>\n            </div> \n         </div>\n         <div class=\"section\"><a name=\"WS1A9193826455F5FFBA679E112A6A190044CF9\"></a> \n            <h2><a name=\"GUID-ACE2F10F-6527-40BB-BFAE-111A7A628773\"></a>正向运动学与反向运动学的差异\n            </h2> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA5\"></a>正向运动学使用自上而下的方法，它在定位和旋转父对象的地方开始，然后向下进行到定位和旋转每个子对象的层次。 \n               		\n            </p> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA4\"></a>正向运动学的基本原则包括： \n               		\n            </p> <a name=\"WS1A9193826455F5FFBA679E112A6A190044CFA\"></a><ul>\n               <li>按照父层次到子层次的链接顺序进行层次链接。 \n                  		  \n               </li>\n               <li>轴点在对象之间定义关节。 \n                  		  \n               </li>\n               <li>子对象继承父对象的变换。 \n                  		  \n               </li>\n            </ul> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA3\"></a>这些原则相当的宽松。只要所有对象都链接在一起并且轴位于关节位置上，那么就可以成功地设置该结构的动画。 \n               		\n            </p> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA2\"></a>反向运动学 (IK) 使用目标导向方法，可以用来定位目标对象，并且 <span class=\"charspan-msgph\">3ds Max</span> 计算链末端的位置和方向。在所有计算都完成后，层次的最终位置就称作 IK 解决方案。有许多 IK 解算器可以应用到层次上。 \n               		\n            </p> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3EA0\"></a>反向运动学开始于链接和轴点位置，并将它们作为地基，然后添加以下原则： \n               		\n            </p> <a name=\"WS1A9193826455F5FFBA679E112A6A190044CFB\"></a><ul>\n               <li>关节受特定的位置和旋转属性的约束。 \n                  		  \n               </li>\n               <li>父对象的位置和方向由子对象的位置和方向所确定。 \n                  		  \n               </li>\n            </ul> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3E9F\"></a>由于添加了这些约束，IK 需要充分考虑链接对象和放置轴的方式。有许多不同的链接对象解决方案可能适用于正向运动学，对于给定的 IK 方法通常仅仅只有几个适合的方案。 \n               		\n            </p> \n            <p><a name=\"WS1A9193826455F5FF103859C11318F51BDD-3E9E\"></a>反向运动学比正向运动学更易于使用，它可以快速创建复杂的运动。如果以后需要编辑这些运动，在使用 IK 时可以非常简单地反转该动画。这也是在动画中模拟权重最好的方法。 \n               		\n            </p> \n         </div>\n         <div class=\"related-links\">\n            <h4 class=\"related\">\n               <p class=\"title\"><a name=\"GUID-5B8A4F80-DDEC-4839-B895-70FB772CB4A3\"></a>相关信息\n               </p>\n            </h4>\n            <ul>\n               <li><span class=\"char_link\"><a href=\"GUID-AE4A0089-95F5-4199-A853-ABB8E0DB3439.htm\">IK 解算器 \n                        		  </a></span></li>\n               <li><span class=\"char_link\"><a href=\"GUID-0114385A-C84E-4852-8886-AB54C9B590BE.htm\">链接策略 \n                        		  </a></span></li>\n               <li><span class=\"char_link\"><a href=\"GUID-E6164716-CFA9-4DE9-9976-F8A58850461F.htm\">骨骼系统 \n                        		  </a></span></li>\n               <li><span class=\"char_link\"><a href=\"GUID-E08D0050-23FF-4F6D-9A7F-A4651FABA22B.htm\">将对象作为骨骼 \n                        		  </a></span></li>\n            </ul>\n         </div>\n         <div class=\"footer-block\"><a href=\"..\" class=\"comments-anchor\" target=\"_blank\"><span class=\"comments-link\">请将您关于此页内容的评论发送给我们</span></a></div><br><p class=\"footer-license-block\"><a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"><img alt=\"Creative Commons License\" style=\"border-width: 0;\" src=\"../images/ccLink.png\"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href=\"http://autodesk.com/creativecommons\" target=\"_blank\">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>\n   </body>\n</html>";