<!DOCTYPE html><html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="3DSMAX">
      <meta name="release" content="2023">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2022-03-17">
      <meta name="topicid" content="GUID-5CDDE2B2-DA06-4003-872D-5B181E58EEF1">
      <meta name="description" content="在现实世界,不同群组展示完全不同的行为，甚至相同的群组成员也以不同的方式引导其自身。随 character studio 的群组系统提供一组行为，通过这些行为，可以模拟一系列群组活动。">
      <meta name="indexterm" content="群组: 指定行为">
      <meta name="contextid" content="TOPIC_ASSIGNING_BEHAVIORS">
      <meta name="contextid" content="TOPIC_ASSIGNING_BEHAVIORS_PROC">
      <meta name="topic-type" content="concept">
      <title>指定行为</title><script language="javascript">var index = 'index.html';</script></head>
   <body height="100%">
      <div class="body_content" id="body-content" dir="ltr"><a name="GUID-5CDDE2B2-DA06-4003-872D-5B181E58EEF1"></a><div class="head">
            <h1>指定行为</h1>
         </div>
         <p class="blurb">在现实世界,不同群组展示完全不同的行为，甚至相同的群组成员也以不同的方式引导其自身。随 character studio 的群组系统提供一组行为，通过这些行为，可以模拟一系列群组活动。 </p>
         <p><a name="WS73099CC142F4875514C01AC112A7ACEF1699D"></a>借助这些行为，可以向<span class="char_link"><a href="GUID-09B7C789-F4DC-4F60-9E77-DC8A48EAB7F9.htm">代理</a></span>指定程序性活动类型，这些行为反过来又会对链接到代理的对象产生影响。你可将许多行为与每一个<span class="char_link"><a href="GUID-164ED404-D6B9-4B4B-A6CD-CE4F1B67EA04.htm">群组对象</a></span>联系起来,然后再将代理和代理组链接到每一行为。为群组对象指定的特定行为只能属于该群组；不能将该行为指定给其它任何群组。 
         </p>
         <p><a name="WS73099CC142F4875514C01AC112A7ACEF1699E"></a>以下是列表中的可用行为： 
         </p><a name="WS1A9193826455F5FFBA679E112A6A190045E95"></a><ul>
            <li> <span class="char_link"><a href="GUID-FFED2BB3-4B71-437D-BFEB-2BF28AF482DC.htm">避免行为</a></span>：防止代理间的冲突或者是代理与场景中对象的冲突。“避免”具有将“转向”，“刹车/ 停止”，“排除”，以“及向量场”任意混合使用的功能。 
            </li>
            <li> <span class="char_link"><a href="GUID-4B45DE7D-3893-41D2-92DC-51C98FE859C2.htm">定向行为</a></span>：将固定的定向或定向范围应用于代理，因此他们面向特定的方向而不是具体的目的地。你能用绝对术语指定定向，或者与代理当前面对的方向相关。 
            </li>
            <li> <span class="char_link"><a href="GUID-01945B9D-B2BB-4440-9D6B-077A4663DEA7.htm">路径跟随行为</a></span>：将运动限制在样条线或者 NURBS 曲线上：选项包括来回巡回类型的运动。 
            </li>
            <li> <span class="char_link"><a href="GUID-2B554BAD-7FC7-48BD-958A-E2CAD5F9DE1F.htm">排斥行为</a></span>：强迫代理从目标移开。 
            </li>
            <li> <span class="char_link"><a href="GUID-E16227E8-CE3C-4274-AD9C-26840260DB53.htm">脚本化行为</a></span>：用 MAX 脚本指定行为。 
            </li>
            <li> <span class="char_link"><a href="GUID-96B12122-6B2B-434E-976A-A6A6B6523B1C.htm">查找行为</a></span>：将代理向一个或者多个目标移动。 
            </li>
            <li> <span class="char_link"><a href="GUID-06696FD6-6EFE-4972-AAFD-EC86DA367A0E.htm">空间扭曲行为</a></span>：使用任意定向动力学空间扭曲来控制移动，包括风力和重力。随 character studio 提供的“向量场”是一种群组特定的空间扭曲，可使代理在跟随对象的轮廓时，避免形成形状不规则的对象。 
            </li>
            <li> <span class="char_link"><a href="GUID-0642D6C0-4EE6-4145-B423-48CFDEB7DFDB.htm">速度变化行为</a></span>：让代理随着较现实的移动而更改速度。 
            </li>
            <li> <span class="char_link"><a href="GUID-E503A4BE-7C99-4617-A007-35CE2E743E26.htm">曲面到达行为</a></span>：使用自定义的速度和加速度参数使代理移向曲面并且在曲面着陆。 
            </li>
            <li> <span class="char_link"><a href="GUID-FE4C7540-499D-4B9C-81E9-878EA337B261.htm">曲面跟随行为</a></span>：代理沿着可以设置动画的曲面移动。此外，你能指定代理是正前方移动还是环绕小山和洼地。 
            </li>
            <li> <span class="char_link"><a href="GUID-0F371F76-4C5B-436D-B7AA-092CFBBC07B8.htm">墙排斥行为</a></span>：用栅格排除代理；特别适用于将对象保留在封闭的、直边的房间内。 
            </li>
            <li> <span class="char_link"><a href="GUID-A0637301-2BA3-44B9-AEA3-8B6DF94FC3AD.htm">墙查找行为</a></span>：用栅格吸引代理。你可以将此当作是控制群组 Biped 行走通过的入口。 
            </li>
            <li> <span class="char_link"><a href="GUID-4E8D0E8D-048E-4629-84B8-5B3B8BEDD91D.htm">漫步行为</a></span>：导致角色（如商场中的购物者）进行现实的半随机运动。 
            </li>
         </ul>
         <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E7FC"></a><div class="note-tip"><span class="label label-target-language">提示</span>如果需要定制行为，可以使用脚本创建你所需的行为。 
            </div>
         </div>
         <p><a name="WS73099CC142F4875514C01AC112A7ACEF1699F"></a>第一次将行为添加至场景时，其新卷展栏在“安装”卷展栏下面出现。该卷展栏可用来更改行为设置。某些行为，例如寻找和回避，让你明确了“目标”对象。 
         </p>
         <div><a name="WS1A9193826455F5FFBA22E1113C6C30C0E7FD"></a><div class="note-tip"><span class="label label-target-language">提示</span>以默认的方式，行为被赋予了通用的名称。用更有意义的描述给他们重新命名是一种好想法；例如，“Seek Ball”或者“Avoid Fire”。 
            </div>
         </div>
         <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A0"></a>要显示场景中其它不同行为的卷展栏，可以从“行为”组的下拉菜单中选择。为了查看卷展栏中行为类型的可用性控件，遵循上述目录中来自其入口处的链接。 
         </p>
         <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A1"></a>除了“行为”卷展栏中的可用性控件，您能使用<span class="char_link"><a href="GUID-3CD5BE01-CD59-49E8-A016-3F8187CA962F.htm">“行为指定和组”对话框</a></span>开启或者关闭行为（用活动复选框），并且除避免，定向，以及曲面追随外的全部行为，您能设置权重并且使之具有动画效果。活动状态对全部行为来说都是可以动画化的。 
         </p>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190045E96"></a> 
            <h2><a name="GUID-E0D05D62-2558-4997-A529-93BDF6E9B5D0"></a>使用行为
            </h2> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A2"></a>为了使用行为，使用<span class="char_link"><a href="GUID-3CD5BE01-CD59-49E8-A016-3F8187CA962F.htm">“行为指定和组合”对话框</a></span>将其运用到单个代理或者组代理中。在对话框中，将每项指派代理的行为都赋予一个权重。你能修改和/或激发这些权重以影响模拟。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A3"></a>行为指定权重能深刻地影响模拟。当运用两个或者更多行为到同一代理时，权重确定行为之间的关系，使得一个比另一个更强或者弱。显示行为指定权重的一种方法就是在群组模拟期间检查行为的力量向量。向量的长度表明代理上的行为权重。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A4"></a>每一行为都有自己的参数，这些参数出现在“行为”卷展栏中，可在群组对象的“修改”面板中获得。这些参数描述行为如何工作，并且有时也有助于行为的力量。比如说，查找，排除，墙查找，以及墙排除全都有特定的影响量。在这些容量外边，他们没有影响并且基本上是零权重。在群组模拟中，卷展栏允许指定是否查看行为的力量向量的动态显示，以及向量应有的颜色。
               
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A5"></a>在使用群组系统时，使用行为指定权重和每个行为的参数是关键的。通常，你反复运行模拟，改变权重和参数以实现预期效果。 
            </p> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A6"></a>一些行为不能获得权重。他们是避免，曲面追随，以及定向。在所有其它行为已被用于代理之后，由避免与曲面追随接管。为了满足限制条件，他们能采取严格的措施影响代理，从而可能克制其他行为。定向仅仅设置代理面对的方向。它不能被加重，也不能应用力量。 
            </p> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FFBA679E112A6A190045E97"></a> 
            <h2><a name="GUID-4319DE60-8341-46E5-9B22-4BC9B07175A6"></a>行为提示
            </h2> 
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A7"></a>有关 character studio 中的行为，需要了解的一些有帮助的内容： 
            </p> <a name="WS1A9193826455F5FFBA679E112A6A190045E98"></a><ul>
               <li>使用群组认知控制器特征来创建条件行为系统。这使用 MAXScript 脚本语言来确定什么时候影响从一行为到另一行为的转变，我们已经为你提供了多篇样品，在<span class="char_link"><a href="GUID-435DDD88-C220-48BB-ACAF-764EF09AC349.htm">认知控制器编辑器</a></span>与<span class="char_link"><a href="GUID-AE3F62AF-0988-4859-B1FE-1D8886548B61.htm">“状态转换”对话框</a></span>中，由你自己学习和运用到模拟。 
               </li>
               <li>“行为”卷展栏在“修改”面板中紧随群组对象 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“设置”卷展栏后出现。不过，直到至少有一个行为被增加到群组对象时才出现。 
               </li>
               <li>“群组”面板一次只显示一个“行为”卷展栏。为了访问不同的面板，在“群组对象”的“设置”卷展栏底部的下拉列表中选出其名称。 </li>
               <li>像 <span class="charspan-msgph">3ds Max</span> 中的大多数场景实体一样，为行为提供自定义名称是一种好想法，例如“寻找门口”或“跟随多山的表面”。通过点击“设置”卷展栏中行为的名称，并从键盘上输入新的名字来完成此操作。 
               </li>
               <li>默认行为设置并不总是达到预期的结果。最佳背景依靠模拟设置细节的变化；在许多场合（如果不是大多数），需要做设置试验来得到你想要的结果。有时候，你也可能需要使设置具有动画效果。 
                  <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A8"></a>代理的一个特别有用的特征是，在进行群组模拟的过程中，使用有色向量，展示各种力的力量和方向的能力。每种力都有一个独特、可识别的颜色。例如，“寻找行为”被默认为绿色，而“漫步行为”被默认为浅绿色。你可以随意的变换这些颜色。 
                  </p> 
                  <p><a name="WS73099CC142F4875514C01AC112A7ACEF169A9"></a>如果模拟没象期望的那样进行，在解决办法期间，你可以通过观察向量来调试它。如果解决方法迅速出现，你能使用“分步求解”特征来解决模拟，一次一帧。 
                  </p> 
               </li>
            </ul> 
         </div>
         <div class="section"><a name="WS1A9193826455F5FF103859C11318F51BDD-4649"></a> 
            <h2><a name="GUID-28A42445-5259-4735-BF6F-BD2F497F6DFA"></a>过程
            </h2> <a name="WSF742DAB041063133728B9B2112A1CE7292-7E50"></a><p class="list-intro"><a name="WS1A9193826455F5FFBA679E112A6A190045E99"></a>
               <!--CPM-ContextId = 'TOPIC_ASSIGNING_BEHAVIORS_PROC'--><a name="GUID-44C1C152-FEE9-409E-8E6E-E933D3EEEB6A"></a>示例：使用“为代理指定行为”：
            </p>
            <p><a name="WS73099CC142F4875514C01AC112A7ACEF169AA"></a>这个例子展示如何用代理和行为创建基本的群组模拟。 
            </p>
            <ol type="1" start="1">
               <li>启动 <span class="charspan-msgph">3ds Max</span> 或重置 <span class="charspan-msgph">3ds Max</span>。 
               </li>
               <li>添加一个“群组对象”或者一个或者更多<span class="char_link"><a href="GUID-09B7C789-F4DC-4F60-9E77-DC8A48EAB7F9.htm">代理辅助对象</a></span>至场景。通常，在顶部视口中添加代理，以便他们向前指。群组对象的定位是非实质的。 
               </li>
               <li> <img src="../images/GUID-AEA0DCE7-AEB5-4739-B941-449CC7232C3F-low.png"> 选择群组对象，并转到 <img src="../images/GUID-00A9C3E8-5814-4255-A1E2-8DB5CFC5D439-low.png">“修改”面板。 
               </li>
               <li>在“设置”卷展栏 <img class="adsk-glyph-arrow" src="../images/ac.menuaro.gif">“行为”组中，单击“新建”按钮。 
               </li>
               <li>在“选择行为类型”对话框中，点击一个行为，然后点击“确定”，关闭对话框。 
                  <p><a name="WS73099CC142F4875514C01AC112A7ACEF169AB"></a>为选择的行为，显示“行为”卷展栏。 
                  </p> 
               </li>
               <li>如果行为需要一个目标对象或者对象，例如“查找”，点击无按钮，然后选择一个对象，或者点击“多个选择”来选择几个对象。 </li>
               <li>根据需要改变其他行为设置。 </li>
               <li>根据需要创建和修改额外的行为。 </li>
               <li>在“设置”卷展栏中，单击（行为指定）。 </li>
               <li>在“指定设计”组中，上部的两个列表每个列表将包含一个单一的入口：代理在左边，行为在右边。选择两个项目。 </li>
               <li>点击“指定设计”组右边的“新指定”按钮。该垂直按钮带有 5 个右指向的箭头。 
                  <p><a name="WS73099CC142F4875514C01AC112A7ACEF169AC"></a>这在“行为指定”组中给列表添加新指定。 
                  </p> 
               </li>
               <li>接受变化和点击 OK 按钮以关闭“行为指定和组”对话框。 </li>
               <li>在 <img src="../images/GUID-00A9C3E8-5814-4255-A1E2-8DB5CFC5D439-low.png">“修改”面板上，向下滚动至“解算”卷展栏并单击“解算”按钮。 
                  <p><a name="WS73099CC142F4875514C01AC112A7ACEF169AD"></a>以如下方式创建关键点：代理转过来指向球体，随着代理转向的倾斜，然活直接移向球体。当它达到目标时，向球体以外稍微地移动，然后重复“转身与移动”运动直到模拟结束。为了防止这样，试着从离得更远的两个对象开始，或者使球体的位置具有动画效果。 
                  </p> 
               </li>
            </ol> 
         </div>
         <div class="footer-block"><a href=".." class="comments-anchor" target="_blank"><span class="comments-link">请将您关于此页内容的评论发送给我们</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>除非另有说明，否则此作品受到 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"> Creative Commons 署名-非商业性使用-相同方式共享 3.0 未本地化版本许可证</a>的制约。请参见 <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons 常见问题</a>(英文)以获取更多信息。</em></p><br></div>
   </body>
</html>